(self.webpackChunkpractica_angular_firebase=self.webpackChunkpractica_angular_firebase||[]).push([[179],{8255:rt=>{function Ie(U){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+U+"'");throw d.code="MODULE_NOT_FOUND",d})}Ie.keys=()=>[],Ie.resolve=Ie,Ie.id=8255,rt.exports=Ie},3018:(rt,Ie,U)=>{"use strict";U.d(Ie,{deG:()=>Rh,tb:()=>tw,AFp:()=>ew,ip1:()=>rv,CZH:()=>Yf,hGG:()=>Cw,z2F:()=>hm,sBO:()=>Hg,Sil:()=>Qd,_Vd:()=>Md,EJc:()=>JD,SBq:()=>da,qLn:()=>$i,vpe:()=>Zi,gxx:()=>lu,tBr:()=>ea,XFs:()=>xe,OlP:()=>ln,zs3:()=>En,ZZ4:()=>Rd,aQg:()=>mr,soG:()=>Jf,YKP:()=>nD,v3s:()=>xR,h0i:()=>Ar,PXZ:()=>uw,R0b:()=>Hs,FiY:()=>Hi,Lbi:()=>sm,g9A:()=>iv,Qsj:()=>WT,FYo:()=>Af,JOm:()=>R,Tiy:()=>Ry,q3G:()=>je,tp0:()=>$a,EAV:()=>tp,Rgc:()=>$g,dDg:()=>oS,DyG:()=>Ci,q4F:()=>Oy,GfV:()=>n0,s_b:()=>Gg,ifc:()=>Tt,eFA:()=>fv,G48:()=>um,Gpc:()=>me,f3M:()=>$v,X6Q:()=>Xf,_c5:()=>DS,VLi:()=>lm,c2e:()=>QD,zSh:()=>Xa,wAp:()=>ht,vHH:()=>_e,EiD:()=>rb,mCW:()=>nd,qzn:()=>Zl,JVY:()=>Up,pB0:()=>Jv,eBb:()=>Bp,L6k:()=>Yv,LAX:()=>Qv,cg1:()=>my,Tjo:()=>vw,kL8:()=>BE,yhl:()=>n_,dqk:()=>q,sIi:()=>dg,CqO:()=>pf,QGY:()=>gE,F4k:()=>GI,RDi:()=>Cs,AaK:()=>X,z3N:()=>ta,qOj:()=>ug,TTD:()=>Il,_Bn:()=>Lg,xp6:()=>Kh,uIk:()=>eE,Tol:()=>TE,ekj:()=>oy,Suo:()=>Yi,Xpm:()=>Po,lG2:()=>lh,Yz7:()=>Mt,cJS:()=>kr,oAB:()=>wa,Yjl:()=>eo,Y36:()=>ff,_UZ:()=>HI,GkF:()=>ZM,BQk:()=>pE,ynx:()=>ey,qZA:()=>fE,TgZ:()=>hE,EpF:()=>$I,n5z:()=>Yo,Ikx:()=>VE,LFG:()=>cn,$8M:()=>co,NdJ:()=>ty,CRH:()=>Qr,oxw:()=>qI,ALo:()=>A0,lcZ:()=>M0,xi3:()=>x0,Hsn:()=>WI,F$t:()=>zI,Q6J:()=>jI,s9C:()=>rl,VKq:()=>xD,WLB:()=>Or,kEZ:()=>Wy,iGM:()=>Gn,CHM:()=>Ol,LSH:()=>si,kYT:()=>Fo,YNc:()=>SI,_uU:()=>lT,Oqu:()=>zr,hij:()=>pu,Gf:()=>ga});var d=U(9765),ne=U(5319),F=U(7574),he=U(6682),ie=U(2441);var fe=U(1307);function re(){return new d.xQ}function j(i){for(let s in i)if(i[s]===j)return s;throw Error("Could not find renamed property on target object.")}function ee(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function X(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(X).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Te=j({__forward_ref__:j});function me(i){return i.__forward_ref__=me,i.toString=function(){return X(this())},i}function Q(i){return Ee(i)?i():i}function Ee(i){return"function"==typeof i&&i.hasOwnProperty(Te)&&i.__forward_ref__===me}class _e extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function Ve(i){return"string"==typeof i?i:null==i?"":String(i)}function Nt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ve(i)}function Dt(i,s){const a=s?` in ${s}`:"";throw new _e("201",`No provider for ${Nt(i)} found${a}`)}function yn(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Mt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function kr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Tr(i){return Me(i,Ut)||Me(i,Oo)}function Me(i,s){return i.hasOwnProperty(s)?i[s]:null}function Fi(i){return i&&(i.hasOwnProperty(ni)||i.hasOwnProperty(at))?i[ni]:null}const Ut=j({\u0275prov:j}),ni=j({\u0275inj:j}),Oo=j({ngInjectableDef:j}),at=j({ngInjectorDef:j});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let Gt;function Tn(i){const s=Gt;return Gt=i,s}function Ht(i,s,a){const c=Tr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&xe.Optional?null:void 0!==s?s:void Dt(X(i),"Injector")}function Qe(i){return{toString:i}.toString()}var Fr=(()=>((Fr=Fr||{})[Fr.OnPush=0]="OnPush",Fr[Fr.Default=1]="Default",Fr))(),Tt=(()=>((Tt=Tt||{})[Tt.Emulated=0]="Emulated",Tt[Tt.None=2]="None",Tt[Tt.ShadowDom=3]="ShadowDom",Tt))();const Dr="undefined"!=typeof globalThis&&globalThis,Ec="undefined"!=typeof window&&window,K="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q=Dr||"undefined"!=typeof global&&global||Ec||K,$e={},He=[],Xt=j({\u0275cmp:j}),qn=j({\u0275dir:j}),vn=j({\u0275pipe:j}),Lr=j({\u0275mod:j}),Lt=j({\u0275loc:j}),gn=j({\u0275fac:j}),Qi=j({__NG_ELEMENT_ID__:j});let Mu=0;function Po(i){return Qe(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Fr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||He,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Tt.Emulated,id:"c",styles:i.styles||He,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,f=i.features,_=i.pipes;return c.id+=Mu++,c.inputs=Ca(i.inputs,a),c.outputs=Ca(i.outputs),f&&f.forEach(v=>v(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(ko):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(Ru):null,c})}function ko(i){return zn(i)||function(i){return i[qn]||null}(i)}function Ru(i){return function(i){return i[vn]||null}(i)}const _i={};function wa(i){return Qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||He,declarations:i.declarations||He,imports:i.imports||He,exports:i.exports||He,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(_i[i.id]=i.type),s})}function Fo(i,s){return Qe(()=>{const a=cr(i,!0);a.declarations=s.declarations||He,a.imports=s.imports||He,a.exports=s.exports||He})}function Ca(i,s){if(null==i)return $e;const a={};for(const c in i)if(i.hasOwnProperty(c)){let u=i[c],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),a[u]=c,s&&(s[u]=f)}return a}const lh=Po;function eo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function zn(i){return i[Xt]||null}function cr(i,s){const a=i[Lr]||null;if(!a&&!0===s)throw new Error(`Type ${X(i)} does not have '\u0275mod' property.`);return a}function es(i){return Array.isArray(i)&&"object"==typeof i[1]}function Sn(i){return Array.isArray(i)&&!0===i[1]}function ro(i){return 0!=(8&i.flags)}function El(i){return 2==(2&i.flags)}function Aa(i){return 1==(1&i.flags)}function vi(i){return null!==i.template}function Nu(i){return 0!=(512&i[2])}function An(i,s){return i.hasOwnProperty(gn)?i[gn]:null}class ts{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Il(){return Tl}function Tl(i){return i.type.prototype.ngOnChanges&&(i.setInput=_p),vh}function vh(){const i=Dl(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===$e)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function _p(i,s,a,c){const u=Dl(i)||function(i,s){return i[Lu]=s}(i,{previous:$e,current:null}),f=u.current||(u.current={}),_=u.previous,v=this.declaredInputs[a],w=_[v];f[v]=new ts(w&&w.currentValue,s,_===$e),i[c]=s}Il.ngInherit=!0;const Lu="__ngSimpleChanges__";function Dl(i){return i[Lu]||null}let Al;function Cs(i){Al=i}function on(i){return!!i.listen}const Ml={createRenderer:(i,s)=>void 0!==Al?Al:"undefined"!=typeof document?document:void 0};function xt(i){for(;Array.isArray(i);)i=i[0];return i}function jo(i,s){return xt(s[i])}function Vr(i,s){return xt(s[i.index])}function rs(i,s){return i.data[s]}function Kn(i,s){return i[s]}function ur(i,s){const a=s[i];return es(a)?a:a[0]}function Cc(i){return 4==(4&i[2])}function Na(i){return 128==(128&i[2])}function Is(i,s){return null==s?null:i[s]}function Rl(i){i[18]=0}function Ic(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const ct={lFrame:Oc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tc(){return ct.bindingsEnabled}function De(){return ct.lFrame.lView}function St(){return ct.lFrame.tView}function Ol(i){return ct.lFrame.contextLView=i,i[8]}function Mn(){let i=Dc();for(;null!==i&&64===i.type;)i=i.parent;return i}function Dc(){return ct.lFrame.currentTNode}function bi(i,s){const a=ct.lFrame;a.currentTNode=i,a.isParent=s}function Nl(){return ct.lFrame.isParent}function oo(){ct.lFrame.isParent=!1}function is(){return ct.isInCheckNoChangesMode}function ss(i){ct.isInCheckNoChangesMode=i}function nr(){const i=ct.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ao(){return ct.lFrame.bindingIndex++}function Ui(i){const s=ct.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Mc(i,s){const a=ct.lFrame;a.bindingIndex=a.bindingRootIndex=i,xc(s)}function xc(i){ct.lFrame.currentDirectiveIndex=i}function Th(){return ct.lFrame.currentQueryIndex}function Rc(i){ct.lFrame.currentQueryIndex=i}function vp(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Dh(i,s,a){if(a&xe.SkipSelf){let u=s,f=i;for(;!(u=u.parent,null!==u||a&xe.Host||(u=vp(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;s=u,i=f}const c=ct.lFrame=Sh();return c.currentTNode=s,c.lView=i,!0}function Ss(i){const s=Sh(),a=i[1];ct.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Sh(){const i=ct.lFrame,s=null===i?null:i.child;return null===s?Oc(i):s}function Oc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Pl(){const i=ct.lFrame;return ct.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Lm=Pl;function Nc(){const i=Pl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ur(){return ct.lFrame.selectedIndex}function ii(i){ct.lFrame.selectedIndex=i}function bn(){const i=ct.lFrame;return rs(i.tView,i.selectedIndex)}function Pc(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:x}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function Ll(i,s,a){Go(i,s,3,a)}function Vl(i,s,a,c){(3&i[2])===a&&Go(i,s,a,c)}function kc(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Go(i,s,a,c){const f=null!=c?c:-1,_=s.length-1;let v=0;for(let w=void 0!==c?65535&i[18]:0;w<_;w++)if("number"==typeof s[w+1]){if(v=s[w],null!=c&&v>=c)break}else s[w]<0&&(i[18]+=65536),(v<f||-1==f)&&(Fc(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function Fc(i,s,a,c){const u=a[c]<0,f=a[c+1],v=i[u?-a[c]:a[c]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class qo{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ul(i,s,a){const c=on(i);let u=0;for(;u<a.length;){const f=a[u];if("number"==typeof f){if(0!==f)break;u++;const _=a[u++],v=a[u++],w=a[u++];c?i.setAttribute(s,v,w,_):s.setAttributeNS(_,v,w)}else{const _=f,v=a[++u];Vc(_)?c&&i.setProperty(s,_,v):c?i.setAttribute(s,_,v):s.setAttribute(_,v),u++}}return u}function Lc(i){return 3===i||4===i||6===i}function Vc(i){return 64===i.charCodeAt(0)}function Bi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const u=s[c];"number"==typeof u?a=u:0===a||Uc(i,a,u,null,-1===a||2===a?s[++c]:null)}}return i}function Uc(i,s,a,c,u){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){_=-1;break}if(v>s){_=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===c)return void(null!==u&&(i[f+1]=u));if(c===i[f+1])return void(i[f+2]=u)}f++,null!==c&&f++,null!==u&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==u&&i.splice(f++,0,u)}function Bc(i){return-1!==i}function Bl(i){return 32767&i}function jl(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let jc=!0;function Wo(i){const s=jc;return jc=i,s}let mn=0;function lt(i,s){const a=Ko(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,$l(c.data,i),$l(s,null),$l(c.blueprint,null));const u=Zo(i,s),f=i.injectorIndex;if(Bc(u)){const _=Bl(u),v=jl(u,s),w=v[1].data;for(let T=0;T<8;T++)s[f+T]=v[_+T]|w[_+T]}return s[f+8]=u,f}function $l(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ko(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Zo(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,u=s;for(;null!==u;){const f=u[1],_=f.type;if(c=2===_?f.declTNode:1===_?u[6]:null,null===c)return-1;if(a++,u=u[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function hr(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Qi)&&(c=a[Qi]),null==c&&(c=a[Qi]=mn++);const u=255&c;s.data[i+(u>>5)]|=1<<u}(i,s,a)}function os(i,s,a){if(a&xe.Optional)return i;Dt(s,"NodeInjector")}function Va(i,s,a,c){if(a&xe.Optional&&void 0===c&&(c=null),0==(a&(xe.Self|xe.Host))){const u=i[9],f=Tn(void 0);try{return u?u.get(s,c,a&xe.Optional):Ht(s,c,a&xe.Optional)}finally{Tn(f)}}return os(c,s,a)}function Bu(i,s,a,c=xe.Default,u){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Qi)?i[Qi]:void 0;return"number"==typeof s?s>=0?255&s:ju:s}(a);if("function"==typeof f){if(!Dh(s,i,c))return c&xe.Host?os(u,a,c):Va(s,a,c,u);try{const _=f(c);if(null!=_||c&xe.Optional)return _;Dt(a)}finally{Lm()}}else if("number"==typeof f){let _=null,v=Ko(i,s),w=-1,T=c&xe.Host?s[16][6]:null;for((-1===v||c&xe.SkipSelf)&&(w=-1===v?Zo(i,s):s[v+8],-1!==w&&wi(c,!1)?(_=s[1],v=Bl(w),s=jl(w,s)):v=-1);-1!==v;){const x=s[1];if(rr(f,v,x.data)){const P=Hu(v,s,a,_,c,T);if(P!==Nn)return P}w=s[v+8],-1!==w&&wi(c,s[1].data[v+8]===T)&&rr(f,v,s)?(_=x,v=Bl(w),s=jl(w,s)):v=-1}}}return Va(s,a,c,u)}const Nn={};function ju(){return new Ua(Mn(),De())}function Hu(i,s,a,c,u,f){const _=s[1],v=_.data[i+8],x=as(v,_,a,null==c?El(v)&&jc:c!=_&&0!=(3&v.type),u&xe.Host&&f===v);return null!==x?Br(s,_,x,v):Nn}function as(i,s,a,c,u){const f=i.providerIndexes,_=s.data,v=1048575&f,w=i.directiveStart,x=f>>20,k=u?v+x:i.directiveEnd;for(let G=c?v:v+x;G<k;G++){const Y=_[G];if(G<w&&a===Y||G>=w&&Y.type===a)return G}if(u){const G=_[w];if(G&&vi(G)&&G.type===a)return w}return null}function Br(i,s,a,c){let u=i[a];const f=s.data;if(function(i){return i instanceof qo}(u)){const _=u;_.resolving&&function(i,s){throw new _e("200",`Circular dependency in DI detected for ${i}`)}(Nt(f[a]));const v=Wo(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?Tn(_.injectImpl):null;Dh(i,c,xe.Default);try{u=i[a]=_.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:f}=s.type.prototype;if(c){const _=Tl(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}u&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,u),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&Tn(w),Wo(v),_.resolving=!1,Lm()}}return u}function rr(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function wi(i,s){return!(i&xe.Self||i&xe.Host&&s)}class Ua{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Bu(this._tNode,this._lView,s,c,a)}}function Yo(i){return Qe(()=>{const s=i.prototype.constructor,a=s[gn]||$c(s),c=Object.prototype;let u=Object.getPrototypeOf(i.prototype).constructor;for(;u&&u!==c;){const f=u[gn]||$c(u);if(f&&f!==a)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function $c(i){return Ee(i)?()=>{const s=$c(Q(i));return s&&s()}:An(i)}function co(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let u=0;for(;u<c;){const f=a[u];if(Lc(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<c&&"string"==typeof a[u];)u++;else{if(f===s)return a[u+1];u+=2}}}return null}(Mn(),i)}const Ms="__parameters__";function Qo(i,s,a){return Qe(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const u in c)this[u]=c[u]}}}(s);function u(...f){if(this instanceof u)return c.apply(this,f),this;const _=new u(...f);return v.annotation=_,v;function v(w,T,x){const P=w.hasOwnProperty(Ms)?w[Ms]:Object.defineProperty(w,Ms,{value:[]})[Ms];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(_),w}}return a&&(u.prototype=Object.create(a.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class ln{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Mt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Rh=new ln("AnalyzeForEntryComponents"),Ci=Function;function jr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),jr(c,s)):s!==i&&s.push(c)}return s}function ji(i,s){i.forEach(a=>Array.isArray(a)?ji(a,s):s(a))}function Ii(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function cs(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Hr(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function I(i,s,a){let c=N(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let u=i.length;if(u==s)i.push(a,c);else if(1===u)i.push(c,i[0]),i[0]=a;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function S(i,s){const a=N(i,s);if(a>=0)return i[1|a]}function N(i,s){return function(i,s,a){let c=0,u=i.length>>a;for(;u!==c;){const f=c+(u-c>>1),_=i[f<<a];if(s===_)return f<<a;_>s?u=f:c=f+1}return~(u<<a)}(i,s,1)}const Rs={},Jo="__NG_DI_FLAG__",Os="ngTempTokenPath",fo=/\n/gm,Kc="__source",Xo=j({provide:String,useValue:j});let Nh;function po(i){const s=Nh;return Nh=i,s}function Zc(i,s=xe.Default){if(void 0===Nh)throw new Error("inject() must be called from an injection context");return null===Nh?Ht(i,void 0,s):Nh.get(i,s&xe.Optional?null:void 0,s)}function cn(i,s=xe.Default){return(Gt||Zc)(Q(i),s)}const $v=cn;function go(i){const s=[];for(let a=0;a<i.length;a++){const c=Q(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let u,f=xe.Default;for(let _=0;_<c.length;_++){const v=c[_],w=Mp(v);"number"==typeof w?-1===w?u=v.token:f|=w:u=v}s.push(cn(u,f))}else s.push(cn(c))}return s}function Wl(i,s){return i[Jo]=s,i.prototype[Jo]=s,i}function Mp(i){return i[Jo]}function xp(i,s,a,c){const u=i[Os];throw s[Kc]&&u.unshift(s[Kc]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=X(s);if(Array.isArray(s))u=s.map(X).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let v=s[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):X(v)))}u=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${u}]: ${i.replace(fo,"\n  ")}`}("\n"+i.message,u,a,c),i.ngTokenPath=u,i[Os]=null,i}const ea=Wl(Qo("Inject",i=>({token:i})),-1),Hi=Wl(Qo("Optional"),8),$a=Wl(Qo("SkipSelf"),4);let eu;function Kl(i){var s;return(null===(s=function(){if(void 0===eu&&(eu=null,q.trustedTypes))try{eu=q.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return eu}())||void 0===s?void 0:s.createHTML(i))||i}class mo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zv extends mo{getTypeName(){return"HTML"}}class Fp extends mo{getTypeName(){return"Style"}}class Lp extends mo{getTypeName(){return"Script"}}class Vp extends mo{getTypeName(){return"URL"}}class t_ extends mo{getTypeName(){return"ResourceURL"}}function ta(i){return i instanceof mo?i.changingThisBreaksApplicationSecurity:i}function Zl(i,s){const a=n_(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function n_(i){return i instanceof mo&&i.getTypeName()||null}function Up(i){return new Zv(i)}function Yv(i){return new Fp(i)}function Bp(i){return new Lp(i)}function Qv(i){return new Vp(i)}function Jv(i){return new t_(i)}class Xv{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Kl(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class r_{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Kl(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Kl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let u=a.length-1;0<u;u--){const _=a.item(u).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const i_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nd(i){return(i=String(i)).match(i_)||i.match(kh)?i:"unsafe:"+i}function Ps(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function tu(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const s_=Ps("area,br,col,hr,img,wbr"),o_=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hp=Ps("rp,rt"),rd=tu(s_,tu(o_,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(Hp,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(Hp,o_)),Lh=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),id=Ps("srcset"),sd=tu(Lh,id,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gC=Ps("script,style,template");class mC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let u=this.checkClobberedElement(a,a.nextSibling);if(u){a=u;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!rd.hasOwnProperty(a))return this.sanitizedSomething=!0,!gC.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let u=0;u<c.length;u++){const f=c.item(u),_=f.name,v=_.toLowerCase();if(!sd.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=f.value;Lh[v]&&(w=nd(w)),id[v]&&(i=w,w=(i=String(i)).split(",").map(s=>nd(s.trim())).join(", ")),this.buf.push(" ",_,'="',c_(w),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();rd.hasOwnProperty(a)&&!s_.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(c_(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const a_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l_=/([^\#-~ |!])/g;function c_(i){return i.replace(/&/g,"&amp;").replace(a_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(l_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vh;function rb(i,s){let a=null;try{Vh=Vh||function(i){const s=new r_(i);return function(){try{return!!(new window.DOMParser).parseFromString(Kl(""),"text/html")}catch(i){return!1}}()?new Xv(s):s}(i);let c=s?String(s):"";a=Vh.getInertBodyElement(c);let u=5,f=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=f,f=a.innerHTML,a=Vh.getInertBodyElement(c)}while(c!==f);return Kl((new mC).sanitizeChildren(u_(a)||a))}finally{if(a){const c=u_(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function u_(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var je=(()=>((je=je||{})[je.NONE=0]="NONE",je[je.HTML=1]="HTML",je[je.STYLE=2]="STYLE",je[je.SCRIPT=3]="SCRIPT",je[je.URL=4]="URL",je[je.RESOURCE_URL=5]="RESOURCE_URL",je))();function si(i){const s=function(){const i=De();return i&&i[12]}();return s?s.sanitize(je.URL,i)||"":Zl(i,"URL")?ta(i):nd(Ve(i))}const za="__ngContext__";function or(i,s){i[za]=s}function ld(i){const s=function(i){return i[za]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Di(i){return i.ngOriginalError}function Ka(i,...s){i.error(...s)}class $i{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),u=(i=s)&&i.ngErrorLogger||Ka;var i;u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a),c&&u(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(Di(s)):null}_findOriginalError(s){let a=s&&Di(s);for(;a&&Di(a);)a=Di(a);return a||null}}const Hh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function y(i){return i instanceof Function?i():i}var R=(()=>((R=R||{})[R.Important=1]="Important",R[R.DashCase=2]="DashCase",R))();function se(i,s){return undefined(i,s)}function Ke(i){const s=i[3];return Sn(s)?s[3]:s}function Zn(i){return ud(i[13])}function yo(i){return ud(i[4])}function ud(i){for(;null!==i&&!Sn(i);)i=i[4];return i}function Za(i,s,a,c,u){if(null!=c){let f,_=!1;Sn(c)?f=c:es(c)&&(_=!0,c=c[0]);const v=xt(c);0===i&&null!==a?null==u?ia(s,a,v):Hn(s,a,v,u||null,!0):1===i&&null!==a?Hn(s,a,v,u||null,!0):2===i?function(i,s,a){const c=Zp(i,s);c&&function(i,s,a,c){on(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,v,_):3===i&&s.destroyNode(v),null!=f&&function(i,s,a,c,u){const f=a[7];f!==xt(a)&&Za(s,i,c,f,u);for(let v=10;v<a.length;v++){const w=a[v];Yp(w[1],w,i,s,c,f)}}(s,i,f,a,u)}}function qh(i,s,a){return on(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function vC(i,s){const a=i[9],c=a.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,Ic(u,-1)),a.splice(c,1)}function mb(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const u=c[17];null!==u&&u!==i&&vC(u,c),s>0&&(i[a-1][4]=c[4]);const f=cs(i,10+s);!function(i,s){Yp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function bC(i,s){if(!(256&s[2])){const a=s[11];on(a)&&a.destroyNode&&Yp(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return vo(i[1],i);for(;s;){let a=null;if(es(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)es(s)&&vo(s[1],s),s=s[3];null===s&&(s=i),es(s)&&vo(s[1],s),a=s&&s[4]}s=a}}(s)}}function vo(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const u=s[a[c]];if(!(u instanceof qo)){const f=a[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=u[f[_]],w=f[_+1];try{w.call(v)}finally{}}else try{f.call(u)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let u=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],v="function"==typeof _?_(s):xt(s[_]),w=c[u=a[f+2]],T=a[f+3];"boolean"==typeof T?v.removeEventListener(a[f],w,T):T>=0?c[u=T]():c[u=-T].unsubscribe(),f+=2}else{const _=c[u=a[f+1]];a[f].call(_)}if(null!==c){for(let f=u+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&on(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Sn(s[3])){a!==s[3]&&vC(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function _b(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const u=i.data[c.directiveStart].encapsulation;if(u===Tt.None||u===Tt.Emulated)return null}return Vr(c,a)}(i,s.parent,a)}function Hn(i,s,a,c,u){on(i)?i.insertBefore(s,a,c,u):s.insertBefore(a,c,u)}function ia(i,s,a){on(i)?i.appendChild(s,a):s.appendChild(a)}function CC(i,s,a,c,u){null!==c?Hn(i,s,a,c,u):ia(i,s,a)}function Zp(i,s){return on(i)?i.parentNode(s):s.parentNode}function TC(i,s,a){return DC(i,s,a)}let DC=function(i,s,a){return 40&i.type?Vr(i,a):null};function dd(i,s,a,c){const u=_b(i,c,s),f=s[11],v=TC(c.parent||s[6],c,s);if(null!=u)if(Array.isArray(a))for(let w=0;w<a.length;w++)CC(f,u,a[w],v,!1);else CC(f,u,a,v,!1)}function Qa(i,s){if(null!==s){const a=s.type;if(3&a)return Vr(s,i);if(4&a)return hd(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Qa(i,c);{const u=i[s.index];return Sn(u)?hd(-1,u):xt(u)}}if(32&a)return se(s,i)()||xt(i[s.index]);{const c=Bt(i,s);return null!==c?Array.isArray(c)?c[0]:Qa(Ke(i[16]),c):Qa(i,s.next)}}return null}function Bt(i,s){return null!==s?i[16][6].projection[s.projection]:null}function hd(i,s){const a=10+i+1;if(a<s.length){const c=s[a],u=c[1].firstChild;if(null!==u)return Qa(c,u)}return s[7]}function Xl(i,s,a,c,u,f,_){for(;null!=a;){const v=c[a.index],w=a.type;if(_&&0===s&&(v&&or(xt(v),c),a.flags|=4),64!=(64&a.flags))if(8&w)Xl(i,s,a.child,c,u,f,!1),Za(s,i,u,v,f);else if(32&w){const T=se(a,c);let x;for(;x=T();)Za(s,i,u,x,f);Za(s,i,u,v,f)}else 16&w?Eb(i,s,c,a,u,f):Za(s,i,u,v,f);a=_?a.projectionNext:a.next}}function Yp(i,s,a,c,u,f){Xl(a,c,i.firstChild,s,u,f,!1)}function Eb(i,s,a,c,u,f){const _=a[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)Za(s,i,u,w[T],f);else Xl(i,s,w,_[3],u,f,!0)}function Wh(i,s,a){on(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function C_(i,s,a){on(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Qp(i,s,a){let c=i.length;for(;;){const u=i.indexOf(s,a);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const f=s.length;if(u+f===c||i.charCodeAt(u+f)<=32)return u}a=u+1}}const I_="ng-template";function T_(i,s,a){let c=0;for(;c<i.length;){let u=i[c++];if(a&&"class"===u){if(u=i[c],-1!==Qp(u.toLowerCase(),s,0))return!0}else if(1===u){for(;c<i.length&&"string"==typeof(u=i[c++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function wb(i){return 4===i.type&&i.value!==I_}function AC(i,s,a){return s===(4!==i.type||a?i.value:I_)}function MA(i,s,a){let c=4;const u=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Lc(i[s]))return s;return i.length}(u);let _=!1;for(let v=0;v<s.length;v++){const w=s[v];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!AC(i,w,a)||""===w&&1===s.length){if(sa(c))return!1;_=!0}}else{const T=8&c?w:s[++v];if(8&c&&null!==i.attrs){if(!T_(i.attrs,T,a)){if(sa(c))return!1;_=!0}continue}const P=xA(8&c?"class":w,u,wb(i),a);if(-1===P){if(sa(c))return!1;_=!0;continue}if(""!==T){let k;k=P>f?"":u[P+1].toLowerCase();const G=8&c?k:null;if(G&&-1!==Qp(G,T,0)||2&c&&T!==k){if(sa(c))return!1;_=!0}}}}else{if(!_&&!sa(c)&&!sa(w))return!1;if(_&&sa(w))continue;_=!1,c=w|1&c}}return sa(c)||_}function sa(i){return 0==(1&i)}function xA(i,s,a,c){if(null===s)return-1;let u=0;if(c||!a){let f=!1;for(;u<s.length;){const _=s[u];if(_===i)return u;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=s[++u];for(;"string"==typeof v;)v=s[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Jp(i,s,a=!1){for(let c=0;c<s.length;c++)if(MA(i,s[c],a))return!0;return!1}function PA(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let u=0;u<i.length;u++)if(i[u]!==c[u])continue e;return!0}}return!1}function MC(i,s){return i?":not("+s.trim()+")":s}function xC(i){let s=i[0],a=1,c=2,u="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const v=i[++a];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?u+="."+_:4&c&&(u+=" "+_);else""!==u&&!sa(_)&&(s+=MC(f,u),u=""),c=_,f=f||!sa(c);a++}return""!==u&&(s+=MC(f,u)),s}const ut={};function Kh(i){Tb(St(),De(),Ur()+i,is())}function Tb(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ll(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Vl(s,f,0,a)}ii(a)}function Xp(i,s){return i<<17|s<<2}function oa(i){return i>>17&32767}function Db(i){return 2|i}function bo(i){return(131068&i)>>2}function D_(i,s){return-131069&i|s<<2}function A_(i){return 1|i}function UC(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const u=a[c],f=a[c+1];if(-1!==f){const _=i.data[f];Rc(u),_.contentQueries(2,s[f],f)}}}function Qh(i,s,a,c,u,f,_,v,w,T){const x=s.blueprint.slice();return x[0]=u,x[2]=140|c,Rl(x),x[3]=x[15]=i,x[8]=a,x[10]=_||i&&i[10],x[11]=v||i&&i[11],x[12]=w||i&&i[12]||null,x[9]=T||i&&i[9]||null,x[6]=f,x[16]=2==s.type?i[16]:x,x}function pd(i,s,a,c,u){let f=i.data[s];if(null===f)f=function(i,s,a,c,u){const f=Dc(),_=Nl(),w=i.data[s]=function(i,s,a,c,u,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,c,u);return null===i.firstChild&&(i.firstChild=w),null!==f&&(_?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(i,s,a,c,u),ct.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=u;const _=function(){const i=ct.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return bi(f,!0),f}function tc(i,s,a,c){if(0===a)return-1;const u=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return u}function rg(i,s,a){Ss(s);try{const c=i.viewQuery;null!==c&&j_(1,c,a);const u=i.template;null!==u&&BC(i,s,u,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&UC(i,s),i.staticViewQueries&&j_(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)oM(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Nc()}}function Xh(i,s,a,c){const u=s[2];if(256==(256&u))return;Ss(s);const f=is();try{Rl(s),function(i){ct.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&BC(i,s,a,2,c);const _=3==(3&u);if(!f)if(_){const T=i.preOrderCheckHooks;null!==T&&Ll(s,T,null)}else{const T=i.preOrderHooks;null!==T&&Vl(s,T,0,null),kc(s,0)}if(function(i){for(let s=Zn(i);null!==s;s=yo(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const u=a[c],f=u[3];0==(1024&u[2])&&Ic(f,1),u[2]|=1024}}}(s),function(i){for(let s=Zn(i);null!==s;s=yo(s))for(let a=10;a<s.length;a++){const c=s[a],u=c[1];Na(c)&&Xh(u,c,u.template,c[8])}}(s),null!==i.contentQueries&&UC(i,s),!f)if(_){const T=i.contentCheckHooks;null!==T&&Ll(s,T)}else{const T=i.contentHooks;null!==T&&Vl(s,T,1),kc(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const u=a[c];if(u<0)ii(~u);else{const f=u,_=a[++c],v=a[++c];Mc(_,f),v(2,s[f])}}}finally{ii(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)YC(i,s[a])}(s,v);const w=i.viewQuery;if(null!==w&&j_(2,w,c),!f)if(_){const T=i.viewCheckHooks;null!==T&&Ll(s,T)}else{const T=i.viewHooks;null!==T&&Vl(s,T,2),kc(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ic(s[3],-1))}finally{Nc()}}function GA(i,s,a,c){const u=s[10],f=!is(),_=Cc(s);try{f&&!_&&u.begin&&u.begin(),_&&rg(i,s,c),Xh(i,s,a,c)}finally{f&&!_&&u.end&&u.end()}}function BC(i,s,a,c,u){const f=Ur(),_=2&c;try{ii(-1),_&&s.length>20&&Tb(i,s,20,is()),a(c,u)}finally{ii(f)}}function ig(i,s,a){if(ro(s)){const u=s.directiveEnd;for(let f=s.directiveStart;f<u;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}function P_(i,s,a){!Tc()||(function(i,s,a,c){const u=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||lt(a,s),or(c,s);const _=a.initialInputs;for(let v=u;v<f;v++){const w=i.data[v],T=vi(w);T&&tM(s,a,w);const x=Br(s,i,v,a);or(x,s),null!==_&&nM(0,v-u,x,w,0,_),T&&(ur(a.index,s)[8]=x)}}(i,s,a,Vr(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,u=a.directiveEnd,_=a.index,v=ct.lFrame.currentDirectiveIndex;try{ii(_);for(let w=c;w<u;w++){const T=i.data[w],x=s[w];xc(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&qC(T,x)}}finally{ii(-1),xc(v)}}(i,s,a))}function k_(i,s,a=Vr){const c=s.localNames;if(null!==c){let u=s.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],v=-1===_?a(s,i):i[_];i[u++]=v}}}function ef(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=sg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function sg(i,s,a,c,u,f,_,v,w,T){const x=20+c,P=x+u,k=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:ut);return a}(x,P),G="function"==typeof T?T():T;return k[1]={type:i,blueprint:k,template:a,queries:null,viewQuery:v,declTNode:s,data:k.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:G,incompleteFirstPass:!1}}function HC(i,s,a,c){const u=JC(s);null===a?u.push(c):(u.push(a),i.firstCreatePass&&XC(i).push(c,u.length-1))}function $C(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const u=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,u):a[c]=[s,u]}return a}function hs(i,s,a,c,u,f,_,v){const w=Vr(s,a);let x,T=s.inputs;!v&&null!=T&&(x=T[c])?(jb(i,a,x,c,u),El(s)&&function(i,s){const a=ur(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),u=null!=_?_(u,s.value||"",c):u,on(f)?f.setProperty(w,c,u):Vc(c)||(w.setProperty?w.setProperty(c,u):w[c]=u))}function kb(i,s,a,c){let u=!1;if(Tc()){const f=function(i,s,a){const c=i.directiveRegistry;let u=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];Jp(a,_.selectors,!1)&&(u||(u=[]),hr(lt(a,s),i,_.type),vi(_)?(zC(i,a),u.unshift(_)):u.push(_))}return u}(i,s,a),_=null===c?null:{"":-1};if(null!==f){u=!0,WC(a,i.data.length,f.length);for(let x=0;x<f.length;x++){const P=f[x];P.providersResolver&&P.providersResolver(P)}let v=!1,w=!1,T=tc(i,s,f.length,null);for(let x=0;x<f.length;x++){const P=f[x];a.mergedAttrs=Bi(a.mergedAttrs,P.hostAttrs),Fb(i,a,s,T,P),eM(T,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const k=P.type.prototype;!v&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!w&&(k.ngOnChanges||k.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),T++}!function(i,s){const c=s.directiveEnd,u=i.data,f=s.attrs,_=[];let v=null,w=null;for(let T=s.directiveStart;T<c;T++){const x=u[T],P=x.inputs,k=null===f||wb(s)?null:rM(P,f);_.push(k),v=$C(P,T,v),w=$C(x.outputs,T,w)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=v,s.outputs=w}(i,a)}_&&function(i,s,a){if(s){const c=i.localNames=[];for(let u=0;u<s.length;u+=2){const f=a[s[u+1]];if(null==f)throw new _e("301",`Export of name '${s[u+1]}' not found!`);c.push(s[u],f)}}}(a,c,_)}return a.mergedAttrs=Bi(a.mergedAttrs,a.attrs),u}function tf(i,s,a,c,u,f){const _=f.hostBindings;if(_){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=w&&v.push(w),v.push(c,u,_)}}function qC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function zC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function eM(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;vi(s)&&(a[""]=i)}}function WC(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Fb(i,s,a,c,u){i.data[c]=u;const f=u.factory||(u.factory=An(u.type)),_=new qo(f,vi(u),null);i.blueprint[c]=_,a[c]=_,tf(i,s,0,c,tc(i,a,u.hostVars,ut),u)}function tM(i,s,a){const c=Vr(s,i),u=ef(a),f=i[10],_=B_(i,Qh(i,u,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=_}function Ja(i,s,a,c,u,f){const _=Vr(i,s);!function(i,s,a,c,u,f,_){if(null==f)on(i)?i.removeAttribute(s,u,a):s.removeAttribute(u);else{const v=null==_?Ve(f):_(f,c||"",u);on(i)?i.setAttribute(s,u,v,a):a?s.setAttributeNS(a,u,v):s.setAttribute(u,v)}}(s[11],_,f,i.value,a,c,u)}function nM(i,s,a,c,u,f){const _=f[s];if(null!==_){const v=c.setInput;for(let w=0;w<_.length;){const T=_[w++],x=_[w++],P=_[w++];null!==v?c.setInput(a,P,T,x):a[x]=P}}}function rM(i,s){let a=null,c=0;for(;c<s.length;){const u=s[c];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===a&&(a=[]),a.push(u,i[u],s[c+1])),c+=2}else c+=2;else c+=4}return a}function sM(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function YC(i,s){const a=ur(s,i);if(Na(a)){const c=a[1];80&a[2]?Xh(c,a,c.template,a[8]):a[5]>0&&U_(a)}}function U_(i){for(let c=Zn(i);null!==c;c=yo(c))for(let u=10;u<c.length;u++){const f=c[u];if(1024&f[2]){const _=f[1];Xh(_,f,_.template,f[8])}else f[5]>0&&U_(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const u=ur(a[c],i);Na(u)&&u[5]>0&&U_(u)}}function oM(i,s){const a=ur(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),rg(c,a,a[8])}function B_(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Vb(i){for(;i;){i[2]|=64;const s=Ke(i);if(Nu(i)&&!s)return i;i=s}return null}function Ub(i,s,a){const c=s[10];c.begin&&c.begin();try{Xh(i,s,i.template,a)}catch(u){throw tI(s,u),u}finally{c.end&&c.end()}}function QC(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=ld(a),u=c[1];GA(u,c,u.template,a)}}(i[8])}function j_(i,s,a){Rc(0),s(i,a)}const nf=(()=>Promise.resolve(null))();function JC(i){return i[7]||(i[7]=[])}function XC(i){return i.cleanup||(i.cleanup=[])}function tI(i,s){const a=i[9],c=a?a.get($i,null):null;c&&c.handleError(s)}function jb(i,s,a,c,u){for(let f=0;f<a.length;){const _=a[f++],v=a[f++],w=s[_],T=i.data[_];null!==T.setInput?T.setInput(w,u,c,v):w[v]=u}}function nc(i,s,a){const c=jo(s,i);!function(i,s,a){on(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function H_(i,s,a){let c=a?i.styles:null,u=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const v=s[_];"number"==typeof v?f=v:1==f?u=ue(u,v):2==f&&(c=ue(c,v+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=u:i.classesWithoutHost=u}const lu=new ln("INJECTOR",-1);class $_{get(s,a=Rs){if(a===Rs){const c=new Error(`NullInjectorError: No provider for ${X(s)}!`);throw c.name="NullInjectorError",c}return a}}const Xa=new ln("Set Injector scope."),ag={},dM={};let lg;function nI(){return void 0===lg&&(lg=new $_),lg}function iI(i,s=null,a=null,c){return new sI(i,a,s||nI(),c)}class sI{constructor(s,a,c,u=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&ji(a,v=>this.processProvider(v,s,a)),ji([s],v=>this.processInjectorType(v,[],f)),this.records.set(lu,gd(void 0,this));const _=this.records.get(Xa);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof s?null:X(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Rs,c=xe.Default){this.assertNotDestroyed();const u=po(this),f=Tn(void 0);try{if(!(c&xe.SkipSelf)){let v=this.records.get(s);if(void 0===v){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof ln)&&Tr(s);v=w&&this.injectableDefInScope(w)?gd(G_(s),ag):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(c&xe.Self?nI():this.parent).get(s,a=c&xe.Optional&&a===Rs?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Os]=_[Os]||[]).unshift(X(s)),u)throw _;return xp(_,s,"R3InjectorError",this.source)}throw _}finally{Tn(f),po(u)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,u)=>s.push(X(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=Q(s)))return!1;let u=Fi(s);const f=null==u&&s.ngModule||void 0,_=void 0===f?s:f,v=-1!==c.indexOf(_);if(void 0!==f&&(u=Fi(f)),null==u)return!1;if(null!=u.imports&&!v){let x;c.push(_);try{ji(u.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:k,providers:G}=x[P];ji(G,Y=>this.processProvider(Y,k,G||He))}}this.injectorDefTypes.add(_);const w=An(_)||(()=>new _);this.records.set(_,gd(w,ag));const T=u.providers;if(null!=T&&!v){const x=s;ji(T,P=>this.processProvider(P,x,T))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let u=md(s=Q(s))?s:Q(s&&s.provide);const f=oI(i=s)?gd(void 0,i.useValue):gd(cu(i),ag);var i;if(md(s)||!0!==s.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=gd(void 0,ag,!0),_.factory=()=>go(_.multi),this.records.set(u,_)),u=s,_.multi.push(s)}this.records.set(u,f)}hydrate(s,a){return a.value===ag&&(a.value=dM,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function G_(i){const s=Tr(i),a=null!==s?s.factory:An(i);if(null!==a)return a;if(i instanceof ln)throw new Error(`Token ${X(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Hr(s,"?");throw new Error(`Can't resolve all parameters for ${X(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[Ut]||i[Oo]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function cu(i,s,a){let c;if(md(i)){const u=Q(i);return An(u)||G_(u)}if(oI(i))c=()=>Q(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...go(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>cn(Q(i.useExisting));else{const u=Q(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return An(u)||G_(u);c=()=>new u(...go(i.deps))}return c}function gd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function oI(i){return null!==i&&"object"==typeof i&&Xo in i}function md(i){return"function"==typeof i}const lI=function(i,s,a){return function(i,s=null,a=null,c){const u=iI(i,s,a,c);return u._resolveInjectorDefTypes(),u}({name:a},s,i,a)};let En=(()=>{class i{static create(a,c){return Array.isArray(a)?lI(a,c,""):lI(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Rs,i.NULL=new $_,i.\u0275prov=Mt({token:i,providedIn:"any",factory:()=>cn(lu)}),i.__NG_ELEMENT_ID__=-1,i})();function DM(i,s){Pc(ld(i)[1],Mn())}function ug(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let u;if(vi(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");u=s.\u0275dir}if(u){if(a){c.push(u);const _=i;_.inputs=tl(i.inputs),_.declaredInputs=tl(i.declaredInputs),_.outputs=tl(i.outputs);const v=u.hostBindings;v&&SM(i,v);const w=u.viewQuery,T=u.contentQueries;if(w&&bI(i,w),T&&uu(i,T),ee(i.inputs,u.inputs),ee(i.declaredInputs,u.declaredInputs),ee(i.outputs,u.outputs),vi(u)&&u.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(i),v===ug&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const u=i[c];u.hostVars=s+=u.hostVars,u.hostAttrs=Bi(u.hostAttrs,a=Bi(a,u.hostAttrs))}}(c)}function tl(i){return i===$e?{}:i===He?[]:i}function bI(i,s){const a=i.viewQuery;i.viewQuery=a?(c,u)=>{s(c,u),a(c,u)}:s}function uu(i,s){const a=i.contentQueries;i.contentQueries=a?(c,u,f)=>{s(c,u,f),a(c,u,f)}:s}function SM(i,s){const a=i.hostBindings;i.hostBindings=a?(c,u)=>{s(c,u),a(c,u)}:s}let Z_=null;function sf(){if(!Z_){const i=q.Symbol;if(i&&i.iterator)Z_=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Z_=c)}}}return Z_}class aa{constructor(s){this.wrapped=s}static wrap(s){return new aa(s)}static unwrap(s){return aa.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof aa}}function dg(i){return!!qi(i)&&(Array.isArray(i)||!(i instanceof Map)&&sf()in i)}function qi(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Io(i,s,a){return i[s]=a}function li(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function vd(i,s,a,c){const u=li(i,s,a);return li(i,s+1,c)||u}function eE(i,s,a,c){const u=De();return li(u,ao(),s)&&(St(),Ja(bn(),u,i,s,a,c)),eE}function lf(i,s,a,c){return li(i,ao(),a)?s+Ve(a)+c:ut}function SI(i,s,a,c,u,f,_,v){const w=De(),T=St(),x=i+20,P=T.firstCreatePass?function(i,s,a,c,u,f,_,v,w){const T=s.consts,x=pd(s,i,4,_||null,Is(T,v));kb(s,a,x,Is(T,w)),Pc(s,x);const P=x.tViews=sg(2,x,c,u,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,x),P.queries=s.queries.embeddedTView(x)),x}(x,T,w,s,a,c,u,f,_):T.data[x];bi(P,!1);const k=w[11].createComment("");dd(T,w,k,P),or(k,w),B_(w,w[x]=sM(k,w,k,P)),Aa(P)&&P_(T,w,P),null!=_&&k_(w,P,v)}function ff(i,s=xe.Default){const a=De();return null===a?cn(i,s):Bu(Mn(),a,Q(i),s)}function jI(i,s,a){const c=De();return li(c,ao(),s)&&hs(St(),bn(),c,i,s,c[11],a,!1),jI}function dE(i,s,a,c,u){const _=u?"class":"style";jb(i,a,s.inputs[_],_,c)}function hE(i,s,a,c){const u=De(),f=St(),_=20+i,v=u[11],w=u[_]=qh(v,s,ct.lFrame.currentNamespace),T=f.firstCreatePass?function(i,s,a,c,u,f,_){const v=s.consts,T=pd(s,i,2,u,Is(v,f));return kb(s,a,T,Is(v,_)),null!==T.attrs&&H_(T,T.attrs,!1),null!==T.mergedAttrs&&H_(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,f,u,0,s,a,c):f.data[_];bi(T,!0);const x=T.mergedAttrs;null!==x&&Ul(v,w,x);const P=T.classes;null!==P&&C_(v,w,P);const k=T.styles;null!==k&&Wh(v,w,k),64!=(64&T.flags)&&dd(f,u,w,T),0===ct.lFrame.elementDepthCount&&or(w,u),ct.lFrame.elementDepthCount++,Aa(T)&&(P_(f,u,T),ig(f,T,u)),null!==c&&k_(u,T)}function fE(){let i=Mn();Nl()?oo():(i=i.parent,bi(i,!1));const s=i;ct.lFrame.elementDepthCount--;const a=St();a.firstCreatePass&&(Pc(a,i),ro(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&dE(a,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&dE(a,s,De(),s.stylesWithoutHost,!1)}function HI(i,s,a,c){hE(i,s,a,c),fE()}function ey(i,s,a){const c=De(),u=St(),f=i+20,_=u.firstCreatePass?function(i,s,a,c,u){const f=s.consts,_=Is(f,c),v=pd(s,i,8,"ng-container",_);return null!==_&&H_(v,_,!0),kb(s,a,v,Is(f,u)),null!==s.queries&&s.queries.elementStart(s,v),v}(f,u,c,s,a):u.data[f];bi(_,!0);const v=c[f]=c[11].createComment("");dd(u,c,v,_),or(v,c),Aa(_)&&(P_(u,c,_),ig(u,_,c)),null!=a&&k_(c,_)}function pE(){let i=Mn();const s=St();Nl()?oo():(i=i.parent,bi(i,!1)),s.firstCreatePass&&(Pc(s,i),ro(i)&&s.queries.elementEnd(i))}function ZM(i,s,a){ey(i,s,a),pE()}function $I(){return De()}function gE(i){return!!i&&"function"==typeof i.then}function GI(i){return!!i&&"function"==typeof i.subscribe}const pf=GI;function ty(i,s,a,c){const u=De(),f=St(),_=Mn();return function(i,s,a,c,u,f,_,v){const w=Aa(c),x=i.firstCreatePass&&XC(i),P=s[8],k=JC(s);let G=!0;if(3&c.type||v){const te=Vr(c,s),Pe=v?v(te):te,we=k.length,it=v?dt=>v(xt(dt[c.index])):c.index;if(on(a)){let dt=null;if(!v&&w&&(dt=function(i,s,a,c){const u=i.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const _=u[f];if(_===a&&u[f+1]===c){const v=s[7],w=u[f+2];return v.length>w?v[w]:null}"string"==typeof _&&(f+=2)}return null}(i,s,u,c.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=f,dt.__ngLastListenerFn__=f,G=!1;else{f=vE(c,s,P,f,!1);const jt=a.listen(Pe,u,f);k.push(f,jt),x&&x.push(u,it,we,we+1)}}else f=vE(c,s,P,f,!0),Pe.addEventListener(u,f,_),k.push(f),x&&x.push(u,it,we,_)}else f=vE(c,s,P,f,!1);const Y=c.outputs;let ce;if(G&&null!==Y&&(ce=Y[u])){const te=ce.length;if(te)for(let Pe=0;Pe<te;Pe+=2){const Jn=s[ce[Pe]][ce[Pe+1]].subscribe(f),Xr=k.length;k.push(f,Jn),x&&x.push(u,c.index,Xr,-(Xr+1))}}}(f,u,u[11],_,i,s,!!a,c),ty}function yE(i,s,a,c){try{return!1!==a(c)}catch(u){return tI(i,u),!1}}function vE(i,s,a,c,u){return function f(_){if(_===Function)return c;const v=2&i.flags?ur(i.index,s):s;0==(32&s[2])&&Vb(v);let w=yE(s,0,c,_),T=f.__ngNextListenerFn__;for(;T;)w=yE(s,0,T,_)&&w,T=T.__ngNextListenerFn__;return u&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function qI(i=1){return function(i){return(ct.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ct.lFrame.contextLView))[8]}(i)}function YM(i,s){let a=null;const c=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let u=0;u<s.length;u++){const f=s[u];if("*"!==f){if(null===c?Jp(i,f,!0):PA(c,f))return u}else a=u}return a}function zI(i){const s=De()[16][6];if(!s.projection){const c=s.projection=Hr(i?i.length:1,null),u=c.slice();let f=s.child;for(;null!==f;){const _=i?YM(f,i):0;null!==_&&(u[_]?u[_].projectionNext=f:c[_]=f,u[_]=f),f=f.next}}}function WI(i,s=0,a){const c=De(),u=St(),f=pd(u,20+i,16,null,a||null);null===f.projection&&(f.projection=s),oo(),64!=(64&f.flags)&&function(i,s,a){Eb(s[11],0,s,a,_b(i,a,s),TC(a.parent||s[6],a,s))}(u,c,f)}function rl(i,s,a){return bE(i,"",s,"",a),rl}function bE(i,s,a,c,u){const f=De(),_=lf(f,s,a,c);return _!==ut&&hs(St(),bn(),f,i,_,f[11],u,!1),bE}function YI(i,s,a,c,u){const f=i[a+1],_=null===s;let v=c?oa(f):bo(f),w=!1;for(;0!==v&&(!1===w||_);){const x=i[v+1];ci(i[v],s)&&(w=!0,i[v+1]=c?A_(x):Db(x)),v=c?oa(x):bo(x)}w&&(i[a+1]=c?Db(f):A_(f))}function ci(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&N(i,s)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qr(i){return i.substring(Yn.key,Yn.keyEnd)}function QI(i,s){const a=Yn.textEnd;return a===s?-1:(s=Yn.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Yn.key=s,a),wd(i,s,a))}function wd(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function oy(i,s){return function(i,s,a,c){const u=De(),f=St(),_=Ui(2);f.firstUpdatePass&&Cd(f,i,_,c),s!==ut&&li(u,_,s)&&iT(f,f.data[Ur()],u,u[11],i,u[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=X(ta(i)))),i}(s,a),c,_)}(i,s,null,!0),oy}function TE(i){!function(i,s,a,c){const u=St(),f=Ui(2);u.firstUpdatePass&&Cd(u,null,f,c);const _=De();if(a!==ut&&li(_,f,a)){const v=u.data[Ur()];if(aT(v,c)&&!tT(u,f)){let w=c?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(a=ue(w,a||"")),dE(u,v,_,a,c)}else!function(i,s,a,c,u,f,_,v){u===ut&&(u=He);let w=0,T=0,x=0<u.length?u[0]:null,P=0<f.length?f[0]:null;for(;null!==x||null!==P;){const k=w<u.length?u[w+1]:void 0,G=T<f.length?f[T+1]:void 0;let ce,Y=null;x===P?(w+=2,T+=2,k!==G&&(Y=P,ce=G)):null===P||null!==x&&x<P?(w+=2,Y=x):(T+=2,Y=P,ce=G),null!==Y&&iT(i,s,a,c,Y,ce,_,v),x=w<u.length?u[w]:null,P=T<f.length?f[T]:null}}(u,v,_,_[11],_[f+1],_[f+1]=function(i,s,a){if(null==a||""===a)return He;const c=[],u=ta(a);if(Array.isArray(u))for(let f=0;f<u.length;f++)i(c,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&i(c,f,u[f]);else"string"==typeof u&&s(c,u);return c}(i,s,a),c,f)}}(I,ca,i,!0)}function ca(i,s){for(let a=function(i){return function(i){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=i.length}(i),QI(i,wd(i,0,Yn.textEnd))}(s);a>=0;a=QI(s,a))I(i,qr(s),!0)}function tT(i,s){return s>=i.expandoStartIndex}function Cd(i,s,a,c){const u=i.data;if(null===u[a+1]){const f=u[Ur()],_=tT(i,a);aT(f,c)&&null===s&&!_&&(s=!1),s=function(i,s,a,c){const u=function(i){const s=ct.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===u)0===(c?s.classBindings:s.styleBindings)&&(a=fu(a=ay(null,i,s,a,c),s.attrs,c),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==u)if(a=ay(u,i,s,a,c),null===f){let w=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==bo(c))return i[oa(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=ay(null,i,s,w[1],c),w=fu(w,s.attrs,c),function(i,s,a,c){i[oa(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function(i,s,a){let c;const u=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<u;f++)c=fu(c,i[f].hostAttrs,a);return fu(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(u,f,s,c),function(i,s,a,c,u,f){let _=f?s.classBindings:s.styleBindings,v=oa(_),w=bo(_);i[c]=a;let x,T=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||N(P,x)>0)&&(T=!0)}else x=a;if(u)if(0!==w){const k=oa(i[v+1]);i[c+1]=Xp(k,v),0!==k&&(i[k+1]=D_(i[k+1],c)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],c)}else i[c+1]=Xp(v,0),0!==v&&(i[v+1]=D_(i[v+1],c)),v=c;else i[c+1]=Xp(w,0),0===v?v=c:i[w+1]=D_(i[w+1],c),w=c;T&&(i[c+1]=Db(i[c+1])),YI(i,x,c,!0),YI(i,x,c,!1),function(i,s,a,c,u){const f=u?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&N(f,s)>=0&&(a[c+1]=A_(a[c+1]))}(s,x,i,c,f),_=Xp(v,w),f?s.classBindings=_:s.styleBindings=_}(u,f,s,a,_,c)}}function ay(i,s,a,c,u){let f=null;const _=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<_&&(f=s[v],c=fu(c,f.hostAttrs,u),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),c}function fu(i,s,a){const c=a?1:2;let u=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?u=_:u===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),I(i,_,!!a||s[++f]))}return void 0===i?null:i}function iT(i,s,a,c,u,f,_,v){if(!(3&s.type))return;const w=i.data,T=w[v+1];mf(function(i){return 1==(1&i)}(T)?sT(w,s,a,u,bo(T),_):void 0)||(mf(f)||function(i){return 2==(2&i)}(T)&&(f=sT(w,null,a,u,v,_)),function(i,s,a,c,u){const f=on(i);if(s)u?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:R.DashCase;if(null==u)f?i.removeStyle(a,c,_):a.style.removeProperty(c);else{const v="string"==typeof u&&u.endsWith("!important");v&&(u=u.slice(0,-10),_|=R.Important),f?i.setStyle(a,c,u,_):a.style.setProperty(c,u,v?"important":"")}}}(c,_,jo(Ur(),a),u,f))}function sT(i,s,a,c,u,f){const _=null===s;let v;for(;u>0;){const w=i[u],T=Array.isArray(w),x=T?w[1]:w,P=null===x;let k=a[u+1];k===ut&&(k=P?He:void 0);let G=P?S(k,c):x===c?k:void 0;if(T&&!mf(G)&&(G=S(w,c)),mf(G)&&(v=G,_))return v;const Y=i[u+1];u=_?oa(Y):bo(Y)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(v=S(w,c))}return v}function mf(i){return void 0!==i}function aT(i,s){return 0!=(i.flags&(s?16:32))}function lT(i,s=""){const a=De(),c=St(),u=i+20,f=c.firstCreatePass?pd(c,u,1,s,null):c.data[u],_=a[u]=function(i,s){return on(i)?i.createText(s):i.createTextNode(s)}(a[11],s);dd(c,a,_,f),bi(f,!1)}function zr(i){return pu("",i,""),zr}function pu(i,s,a){const c=De(),u=lf(c,i,s,a);return u!==ut&&nc(c,Ur(),u),pu}function VE(i,s,a){const c=De();return li(c,ao(),s)&&hs(St(),bn(),c,i,s,c[11],a,!0),VE}const sc=void 0;var ET=["en",[["a","p"],["AM","PM"],sc],[["AM","PM"],sc,sc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sc,"{1} 'at' {0}",sc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let yf={};function my(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Eg(s);if(a)return a;const c=s.split("-")[0];if(a=Eg(c),a)return a;if("en"===c)return ET;throw new Error(`Missing locale data for the locale "${i}".`)}function BE(i){return my(i)[ht.PluralCase]}function Eg(i){return i in yf||(yf[i]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[i]),yf[i]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const sl="en-US";let Mi=sl;function _y(i){yn(i,"Expected localeId to be defined"),"string"==typeof i&&(Mi=i.toLowerCase().replace(/_/g,"-"))}function Ay(i,s,a,c,u){if(i=Q(i),Array.isArray(i))for(let f=0;f<i.length;f++)Ay(i[f],s,a,c,u);else{const f=St(),_=De();let v=md(i)?i:Q(i.provide),w=cu(i);const T=Mn(),x=1048575&T.providerIndexes,P=T.directiveStart,k=T.providerIndexes>>20;if(md(i)||!i.multi){const G=new qo(w,u,ff),Y=JE(v,s,u?x:x+k,P);-1===Y?(hr(lt(T,_),f,v),QE(f,i,s.length),s.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),a.push(G),_.push(G)):(a[Y]=G,_[Y]=G)}else{const G=JE(v,s,x+k,P),Y=JE(v,s,x,x+k),ce=G>=0&&a[G],te=Y>=0&&a[Y];if(u&&!te||!u&&!ce){hr(lt(T,_),f,v);const Pe=function(i,s,a,c,u){const f=new qo(i,a,ff);return f.multi=[],f.index=s,f.componentProviders=0,UT(f,u,c&&!a),f}(u?BT:wx,a.length,u,c,w);!u&&te&&(a[Y].providerFactory=Pe),QE(f,i,s.length,0),s.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),a.push(Pe),_.push(Pe)}else QE(f,i,G>-1?G:Y,UT(a[u?Y:G],w,!u&&c));!u&&c&&te&&a[Y].componentProviders++}}}function QE(i,s,a,c){const u=md(s);if(u||function(i){return!!i.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const v=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const w=v.indexOf(a);-1===w?v.push(a,[c,_]):v[w+1].push(c,_)}else v.push(a,_)}}}function UT(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function JE(i,s,a,c){for(let u=a;u<c;u++)if(s[u]===i)return u;return-1}function wx(i,s,a,c){return My(this.multi,[])}function BT(i,s,a,c){const u=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=Br(a,a[1],this.providerFactory.index,c);f=v.slice(0,_),My(u,f);for(let w=_;w<v.length;w++)f.push(v[w])}else f=[],My(u,f);return f}function My(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Lg(i,s=[]){return a=>{a.providersResolver=(c,u)=>function(i,s,a){const c=St();if(c.firstCreatePass){const u=vi(i);Ay(a,c.data,c.blueprint,u,!0),Ay(s,c.data,c.blueprint,u,!1)}}(c,u?u(i):i,s)}}class al{}const $T="ngComponent";class Vg{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${X(i)}. Did you add it to @NgModule.entryComponents?`);return s[$T]=i,s}(s)}}let Md=(()=>{class i{}return i.NULL=new Vg,i})();function Ug(...i){}function lc(i,s){return new da(Vr(i,s))}const Bg=function(){return lc(Mn(),De())};let da=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Bg,i})();function t0(i){return i instanceof da?i.nativeElement:i}class Af{}let WT=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>KT(),i})();const KT=function(){const i=De(),a=ur(Mn().index,i);return function(i){return i[11]}(es(a)?a:i)};let Ry=(()=>{class i{}return i.\u0275prov=Mt({token:i,providedIn:"root",factory:()=>null}),i})();class n0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Oy=new n0("12.2.13");class jg{constructor(){}supports(s){return dg(s)}create(s){return new YT(s)}}const Ls=(i,s)=>s;class YT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Ls}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,u=0,f=null;for(;a||c;){const _=!c||a&&a.currentIndex<Ny(c,u,f)?a:c,v=Ny(_,u,f),w=_.currentIndex;if(_===c)u--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)u++;else{f||(f=[]);const T=v-u,x=w-u;if(T!=x){for(let k=0;k<T;k++){const G=k<f.length?f[k]:f[k]=0,Y=G+k;x<=Y&&Y<T&&(f[k]=G+1)}f[_.previousIndex]=x-T}}v!==w&&s(_,v,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!dg(s))throw new Error(`Error trying to diff '${X(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,f,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],_=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,f,_,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,v),c=!0),a=a._next}else u=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[sf()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,v=>{_=this._trackByFn(u,v),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,v,_,u)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,_,u),c=!0),a=a._next,u++}),this.length=u;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,u){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,u)):s=this._addAfter(new Mf(a,c),f,u),s}_verifyReinsertion(s,a,c,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,f=s._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const u=null===a?this._itHead:a._next;return s._next=u,s._prev=a,null===u?this._itTail=s:u._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new QT),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Mf{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sx{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class QT{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new Sx,this.map.set(a,c)),c.add(s)}get(s,a){const u=this.map.get(s);return u?u.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ny(i,s,a){const c=i.previousIndex;if(null===c)return c;let u=0;return a&&c<a.length&&(u=a[c]),c+s+u}class JT{constructor(){}supports(s){return s instanceof Map||qi(s)}create(){return new Ax}}class Ax{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||qi(s)))throw new Error(`Error trying to diff '${X(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,u)=>{if(a&&a.key===u)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(u,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,a);const f=u._prev,_=u._next;return f&&(f._next=_),_&&(_._prev=f),u._next=null,u._prev=null,u}const c=new XT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class XT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eD(){return new Rd([new jg])}let Rd=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||eD()),deps:[[i,new $a,new Hi]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=Mt({token:i,providedIn:"root",factory:eD}),i})();function r0(){return new mr([new JT])}let mr=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||r0()),deps:[[i,new $a,new Hi]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=Mt({token:i,providedIn:"root",factory:r0}),i})();function cc(i,s,a,c,u=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(xt(f)),Sn(f))for(let v=10;v<f.length;v++){const w=f[v],T=w[1].firstChild;null!==T&&cc(w[1],w,T,c)}const _=a.type;if(8&_)cc(i,s,a.child,c);else if(32&_){const v=se(a,s);let w;for(;w=v();)c.push(w)}else if(16&_){const v=Bt(s,a);if(Array.isArray(v))c.push(...v);else{const w=Ke(s[16]);cc(w[1],w,v,c,!0)}}a=u?a.projectionNext:a.next}return c}class So{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return cc(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Sn(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(mb(s,c),cs(a,c))}this._attachedToViewContainer=!1}bC(this._lView[1],this._lView)}onDestroy(s){HC(this._lView[1],this._lView,null,s)}markForCheck(){Vb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ub(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){ss(!0);try{Ub(i,s,a)}finally{ss(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Yp(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class s0 extends So{constructor(s){super(s),this._view=s}detectChanges(){QC(this._view)}checkNoChanges(){!function(i){ss(!0);try{QC(i)}finally{ss(!1)}}(this._view)}get context(){return null}}const _r=function(i){return function(i,s,a){if(El(i)&&!a){const c=ur(i.index,s);return new So(c,c)}return 47&i.type?new So(s[16],s):null}(Mn(),De(),16==(16&i))};let Hg=(()=>{class i{}return i.__NG_ELEMENT_ID__=_r,i})();const yt=[new JT],Be=new Rd([new jg]),pe=new mr(yt),tD=function(){return Py(Mn(),De())};let $g=(()=>{class i{}return i.__NG_ELEMENT_ID__=tD,i})();const Ox=$g,Nx=class extends Ox{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Qh(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),rg(a,c,s),new So(c)}};function Py(i,s){return 4&i.type?new Nx(s,i,lc(i,s)):null}class Ar{}class nD{}const xf=function(){return Rf(Mn(),De())};let Gg=(()=>{class i{}return i.__NG_ELEMENT_ID__=xf,i})();const Rt=Gg,a0=class extends Rt{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Ua(this._hostTNode,this._hostLView)}get parentInjector(){const s=Zo(this._hostTNode,this._hostLView);if(Bc(s)){const a=jl(s,this._hostLView),c=Bl(s);return new Ua(a[1].data[c+8],a)}return new Ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=mu(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const u=s.createEmbeddedView(a||{});return this.insert(u,c),u}createComponent(s,a,c,u,f){const _=c||this.parentInjector;if(!f&&null==s.ngModule&&_){const w=_.get(Ar,null);w&&(f=w)}const v=s.create(_,u,void 0,f);return this.insert(v.hostView,a),v}insert(s,a){const c=s._lView,u=c[1];if(Sn(c[3])){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const P=c[3],k=new a0(P,P[6],P[3]);k.detach(k.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function(i,s,a,c){const u=10+c,f=a.length;c>0&&(a[u-1][4]=s),c<f-10?(s[4]=a[u],Ii(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(u,c,_,f);const v=hd(f,_),w=c[11],T=Zp(w,_[7]);return null!==T&&function(i,s,a,c,u,f){c[0]=u,c[6]=s,Yp(i,c,a,1,u,f)}(u,_[6],w,c,T,v),s.attachToViewContainerRef(),Ii(ky(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=mu(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=mb(this._lContainer,a);c&&(cs(ky(this._lContainer),a),bC(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=mb(this._lContainer,a);return c&&null!=cs(ky(this._lContainer),a)?new So(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function mu(i){return i[8]}function ky(i){return i[8]||(i[8]=[])}function Rf(i,s){let a;const c=s[i.index];if(Sn(c))a=c;else{let u;if(8&i.type)u=xt(c);else{const f=s[11];u=f.createComment("");const _=Vr(i,s);Hn(f,Zp(f,_),u,function(i,s){return on(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=sM(c,s,u,i),B_(s,a)}return new a0(a,i,s)}const _n={};class w0 extends Md{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=zn(s);return new Hf(a,this.ngModule)}}function ID(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Yx=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Hh});class Hf extends al{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(xC).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return ID(this.componentDef.inputs)}get outputs(){return ID(this.componentDef.outputs)}create(s,a,c,u){const f=(u=u||this.ngModule)?function(i,s){return{get:(a,c,u)=>{const f=i.get(a,_n,u);return f!==_n||c===_n?f:s.get(a,c,u)}}}(s,u.injector):s,_=f.get(Af,Ml),v=f.get(Ry,null),w=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=c?function(i,s,a){if(on(i))return i.selectRootElement(s,a===Tt.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):qh(_.createRenderer(null,this.componentDef),T,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),P=this.componentDef.onPush?576:528,k=function(i,s){return{components:[],scheduler:i||Hh,clean:nf,playerHandler:s||null,flags:0}}(),G=sg(0,null,null,1,0,null,null,null,null,null),Y=Qh(null,G,k,P,null,null,_,w,v,f);let ce,te;Ss(Y);try{const Pe=function(i,s,a,c,u,f){const _=a[1];a[20]=i;const w=pd(_,20,2,"#host",null),T=w.mergedAttrs=s.hostAttrs;null!==T&&(H_(w,T,!0),null!==i&&(Ul(u,i,T),null!==w.classes&&C_(u,i,w.classes),null!==w.styles&&Wh(u,i,w.styles)));const x=c.createRenderer(i,s),P=Qh(a,ef(s),null,s.onPush?64:16,a[20],w,c,x,f||null,null);return _.firstCreatePass&&(hr(lt(w,a),_,s.type),zC(_,w),WC(w,a.length,1)),B_(a,P),a[20]=P}(x,this.componentDef,Y,_,w);if(x)if(c)Ul(w,x,["ng-version",Oy.full]);else{const{attrs:we,classes:it}=function(i){const s=[],a=[];let c=1,u=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===u?""!==f&&s.push(f,i[++c]):8===u&&a.push(f);else{if(!sa(u))break;u=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&Ul(w,x,we),it&&it.length>0&&C_(w,x,it.join(" "))}if(te=rs(G,20),void 0!==a){const we=te.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const dt=a[it];we.push(null!=dt?Array.from(dt):null)}}ce=function(i,s,a,c,u){const f=a[1],_=function(i,s,a){const c=Mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Fb(i,c,s,tc(i,s,1,null),a));const u=Br(s,i,c.directiveStart,c);or(u,s);const f=Vr(c,s);return f&&or(f,s),u}(f,a,s);if(c.components.push(_),i[8]=_,u&&u.forEach(w=>w(_,s)),s.contentQueries){const w=Mn();s.contentQueries(1,_,w.directiveStart)}const v=Mn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ii(v.index),tf(a[1],v,0,v.directiveStart,v.directiveEnd,s),qC(s,_)),_}(Pe,this.componentDef,Y,k,[DM]),rg(G,Y,null)}finally{Nc()}return new TD(this.componentType,ce,lc(te,Y),Y,te)}}class TD extends class{}{constructor(s,a,c,u,f){super(),this.location=c,this._rootLView=u,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new s0(u),this.componentType=s}get injector(){return new Ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Ud=new Map;class Qx extends Ar{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w0(this);const c=cr(s),u=s[Lt]||null;u&&_y(u),this._bootstrapComponents=y(c.bootstrap),this._r3Injector=iI(s,a,[{provide:Ar,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],X(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=En.THROW_IF_NOT_FOUND,c=xe.Default){return s===En||s===Ar||s===lu?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Bd extends nD{constructor(s){super(),this.moduleType=s,null!==cr(s)&&function(i){const s=new Set;!function a(c){const u=cr(c,!0),f=u.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${X(s)} vs ${X(s.name)}`)}(f,Ud.get(f),c),Ud.set(f,c));const _=y(u.imports);for(const v of _)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new Qx(this.moduleType,s)}}function xD(i,s,a,c){return D0(De(),nr(),i,s,a,c)}function Or(i,s,a,c,u){return S0(De(),nr(),i,s,a,c,u)}function Wy(i,s,a,c,u,f){return function(i,s,a,c,u,f,_,v){const w=s+a;return function(i,s,a,c,u){const f=vd(i,s,a,c);return li(i,s+2,u)||f}(i,w,u,f,_)?Io(i,w+3,v?c.call(v,u,f,_):c(u,f,_)):$f(i,w+3)}(De(),nr(),i,s,a,c,u,f)}function $f(i,s){const a=i[s];return a===ut?void 0:a}function D0(i,s,a,c,u,f){const _=s+a;return li(i,_,u)?Io(i,_+1,f?c.call(f,u):c(u)):$f(i,_+1)}function S0(i,s,a,c,u,f,_){const v=s+a;return vd(i,v,u,f)?Io(i,v+2,_?c.call(_,u,f):c(u,f)):$f(i,v+2)}function A0(i,s){const a=St();let c;const u=i+20;a.firstCreatePass?(c=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}throw new _e("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[u]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(u,c.onDestroy)):c=a.data[u];const f=c.factory||(c.factory=An(c.type)),_=Tn(ff);try{const v=Wo(!1),w=f();return Wo(v),function(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,De(),u,w),w}finally{Tn(_)}}function M0(i,s,a){const c=i+20,u=De(),f=Kn(u,c);return qf(u,Gf(u,c)?D0(u,nr(),s,f.transform,a,f):f.transform(a))}function x0(i,s,a,c){const u=i+20,f=De(),_=Kn(f,u);return qf(f,Gf(f,u)?S0(f,nr(),s,_.transform,a,c,_):_.transform(a,c))}function Gf(i,s){return i[1].data[s].pure}function qf(i,s){return aa.isWrapped(s)&&(s=aa.unwrap(s),i[ct.lFrame.bindingIndex]=ut),s}function R0(i){return s=>{setTimeout(i,void 0,s)}}const Zi=class extends d.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var u,f,_;let v=s,w=a||(()=>null),T=c;if(s&&"object"==typeof s){const P=s;v=null===(u=P.next)||void 0===u?void 0:u.bind(P),w=null===(f=P.error)||void 0===f?void 0:f.bind(P),T=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(w=R0(w),v&&(v=R0(v)),T&&(T=R0(T)));const x=super.subscribe({next:v,error:w,complete:T});return s instanceof ne.w&&s.add(x),x}};function zf(){return this._results[sf()]()}class Ky{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=sf(),c=Ky.prototype;c[a]||(c[a]=zf)}get changes(){return this._changes||(this._changes=new Zi)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const u=jr(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let u=i[c],f=s[c];if(a&&(u=a(u),f=a(f)),f!==u)return!1}return!0}(c._results,u,a))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Us{constructor(s){this.queryList=s,this.matches=null}clone(){return new Us(this.queryList)}setDirty(){this.queryList.setDirty()}}class O0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,u=[];for(let f=0;f<c;f++){const _=a.getByIndex(f);u.push(this.queries[_.indexInDeclarationView].clone())}return new O0(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==jd(s,a).matches&&this.queries[a].setDirty()}}class N0{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class pa{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const u=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,u);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new pa(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class P0{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new P0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const f=c[u];this.matchTNodeWithReadOption(s,a,Bs(a,f)),this.matchTNodeWithReadOption(s,a,as(a,s,f,!1,!1))}else c===$g?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,as(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===da||u===Gg||u===$g&&4&a.type)this.addMatch(a.index,-2);else{const f=as(a,s,u,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Bs(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function Rn(i,s,a,c){return-1===a?function(i,s){return 11&i.type?lc(i,s):4&i.type?Py(i,s):null}(s,i):-2===a?function(i,s,a){return a===da?lc(s,i):a===$g?Py(s,i):a===Gg?Rf(s,i):void 0}(i,s,c):Br(i,i[1],a,s)}function LD(i,s,a,c){const u=s[19].queries[c];if(null===u.matches){const f=i.data,_=a.matches,v=[];for(let w=0;w<_.length;w+=2){const T=_[w];v.push(T<0?null:Rn(s,f[T],_[w+1],a.metadata.read))}u.matches=v}return u.matches}function k0(i,s,a,c){const u=i.queries.getByIndex(a),f=u.matches;if(null!==f){const _=LD(i,s,u,a);for(let v=0;v<f.length;v+=2){const w=f[v];if(w>0)c.push(_[v/2]);else{const T=f[v+1],x=s[-w];for(let P=10;P<x.length;P++){const k=x[P];k[17]===k[3]&&k0(k[1],k,T,c)}if(null!==x[9]){const P=x[9];for(let k=0;k<P.length;k++){const G=P[k];k0(G[1],G,T,c)}}}}}return c}function Gn(i){const s=De(),a=St(),c=Th();Rc(c+1);const u=jd(a,c);if(i.dirty&&Cc(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const f=u.crossesNgTemplate?k0(a,s,c,[]):LD(a,s,u,c);i.reset(f,t0),i.notifyOnChanges()}return!0}return!1}function ga(i,s,a){const c=St();c.firstCreatePass&&(dl(c,new N0(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),Eu(c,De(),s)}function Yi(i,s,a,c){const u=St();if(u.firstCreatePass){const f=Mn();dl(u,new N0(s,a,c),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(u,i),2==(2&a)&&(u.staticContentQueries=!0)}Eu(u,De(),a)}function Qr(){return i=De(),s=Th(),i[19].queries[s].queryList;var i,s}function Eu(i,s,a){const c=new Ky(4==(4&a));HC(i,s,c,c.destroy),null===s[19]&&(s[19]=new O0),s[19].queries.push(new Us(c))}function dl(i,s,a){null===i.queries&&(i.queries=new pa),i.queries.track(new P0(s,a))}function jd(i,s){return i.queries.getByIndex(s)}const rv=new ln("Application Initializer");let Yf=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Ug,this.reject=Ug,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(gE(f))a.push(f);else if(pf(f)){const _=new Promise((v,w)=>{f.subscribe({complete:v,error:w})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(u=>{this.reject(u)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(cn(rv,8))},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})();const ew=new ln("AppId"),Qf={provide:ew,useFactory:function(){return`${wu()}${wu()}${wu()}`},deps:[]};function wu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iv=new ln("Platform Initializer"),sm=new ln("Platform ID"),tw=new ln("appBootstrapListener");let QD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})();const Jf=new ln("LocaleId"),JD=new ln("DefaultCurrencyCode");class bR{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const nw=function(i){return new Bd(i)},ER=nw,rS=function(i){return Promise.resolve(nw(i))},sv=function(i){const s=nw(i),c=y(cr(i).declarations).reduce((u,f)=>{const _=zn(f);return _&&u.push(new Hf(_)),u},[]);return new bR(s,c)},ov=sv,iw=function(i){return Promise.resolve(sv(i))};let Qd=(()=>{class i{constructor(){this.compileModuleSync=ER,this.compileModuleAsync=rS,this.compileModuleAndAllComponentsSync=ov,this.compileModuleAndAllComponentsAsync=iw}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})();const CR=(()=>Promise.resolve(0))();function lv(i){"undefined"==typeof Zone?CR.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Hs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zi(!1),this.onMicrotaskEmpty=new Zi(!1),this.onStable=new Zi(!1),this.onError=new Zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&a,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let i=q.requestAnimationFrame,s=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(q,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,am(i),i.isCheckStableRunning=!0,cv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),am(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,u,f,_,v)=>{try{return ow(i),a.invokeTask(u,f,_,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),sS(i)}},onInvoke:(a,c,u,f,_,v,w)=>{try{return ow(i),a.invoke(u,f,_,v,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),sS(i)}},onHasTask:(a,c,u,f)=>{a.hasTask(u,f),c===u&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,am(i),cv(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,u,f)=>(a.handleError(u,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,u){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+u,s,TR,Ug,Ug);try{return f.runTask(_,a,c)}finally{f.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const TR={};function cv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function am(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ow(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function sS(i){i._nesting--,cv(i)}class DR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zi,this.onMicrotaskEmpty=new Zi,this.onStable=new Zi,this.onError=new Zi}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,u){return s.apply(a,c)}}let oS=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hs.assertNotInAngularZone(),lv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,u){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:u})}whenStable(a,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,u){return[]}}return i.\u0275fac=function(a){return new(a||i)(cn(Hs))},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})(),aS=(()=>{class i{constructor(){this._applications=new Map,cm.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return cm.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})();class SR{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function lm(i){cm=i}let cm=new SR,Jd=!0,dv=!1;function Xf(){return dv=!0,Jd}function um(){if(dv)throw new Error("Cannot enable prod mode after platform setup.");Jd=!1}let $s;const dS=new ln("AllowMultipleToken");class uw{constructor(s,a){this.name=s,this.token=a}}function fv(i,s,a=[]){const c=`Platform: ${s}`,u=new ln(c);return(f=[])=>{let _=pv();if(!_||_.injector.get(dS,!1))if(i)i(a.concat(f).concat({provide:u,useValue:!0}));else{const v=a.concat(f).concat({provide:u,useValue:!0},{provide:Xa,useValue:"platform"});!function(i){if($s&&!$s.destroyed&&!$s.injector.get(dS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$s=i.get(fS);const s=i.get(iv,null);s&&s.forEach(a=>a())}(En.create({providers:v,name:c}))}return function(i){const s=pv();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(u)}}function pv(){return $s&&!$s.destroyed?$s:null}let fS=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const v=function(i,s){let a;return a="noop"===i?new DR:("zone.js"===i?void 0:i)||new Hs({enableLongStackTrace:Xf(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:Hs,useValue:v}];return v.run(()=>{const T=En.create({providers:w,parent:this.injector,name:a.moduleType.name}),x=a.create(T),P=x.injector.get($i,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const k=v.onError.subscribe({next:G=>{P.handleError(G)}});x.onDestroy(()=>{fm(this._modules,x),k.unsubscribe()})}),function(i,s,a){try{const c=a();return gE(c)?c.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(P,v,()=>{const k=x.injector.get(Yf);return k.runInitializers(),k.donePromise.then(()=>(_y(x.injector.get(Jf,sl)||sl),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const u=dw({},c);return function(i,s,a){const c=new Bd(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(a){const c=a.injector.get(hm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${X(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(cn(En))},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})();function dw(i,s){return Array.isArray(s)?s.reduce(dw,i):Object.assign(Object.assign({},i),s)}let hm=(()=>{class i{constructor(a,c,u,f,_){this._zone=a,this._injector=c,this._exceptionHandler=u,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new F.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),w=new F.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Hs.assertNotInAngularZone(),lv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Hs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,he.T)(v,w.pipe(i=>(0,fe.x)()(function(i,s){return function(c){let u;u="function"==typeof i?i:function(){return i};const f=Object.create(c,ie.N);return f.source=c,f.subjectFactory=u,f}}(re)(i))))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=a instanceof al?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(u.componentType);const f=function(i){return i.isBoundToModule}(u)?void 0:this._injector.get(Ar),v=u.create(En.NULL,[],c||u.selector,f),w=v.location.nativeElement,T=v.injector.get(oS,null),x=T&&v.injector.get(aS);return T&&x&&x.registerApplication(w,T),v.onDestroy(()=>{this.detachView(v.hostView),fm(this.components,v),x&&x.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;fm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(tw,[]).concat(this._bootstrapListeners).forEach(u=>u(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(cn(Hs),cn(En),cn($i),cn(Md),cn(Yf))},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})();function fm(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class xR{}class Cu{}const fw={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let tp=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||fw}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,u]=a.split("#");return void 0===u&&(u="default"),U(8255)(c).then(f=>f[u]).then(f=>eh(f,c,u)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[c,u]=a.split("#"),f="NgFactory";return void 0===u&&(u="default",f=""),U(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(_=>_[u+f]).then(_=>eh(_,c,u))}}return i.\u0275fac=function(a){return new(a||i)(cn(Qd),cn(Cu,8))},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),i})();function eh(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const vw=function(i){return null},DS=fv(null,"core",[{provide:sm,useValue:"unknown"},{provide:fS,deps:[En]},{provide:aS,deps:[]},{provide:QD,deps:[]}]),ww=[{provide:hm,useClass:hm,deps:[Hs,En,$i,Md,Yf]},{provide:Yx,deps:[Hs],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Yf,useClass:Yf,deps:[[new Hi,rv]]},{provide:Qd,useClass:Qd,deps:[]},Qf,{provide:Rd,useFactory:function(){return Be},deps:[]},{provide:mr,useFactory:function(){return pe},deps:[]},{provide:Jf,useFactory:function(i){return _y(i=i||"undefined"!=typeof $localize&&$localize.locale||sl),i},deps:[[new ea(Jf),new Hi,new $a]]},{provide:JD,useValue:"USD"}];let Cw=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(cn(hm))},i.\u0275mod=wa({type:i}),i.\u0275inj=kr({providers:ww}),i})()},8939:(rt,Ie,U)=>{"use strict";U.d(Ie,{hO:()=>X,xv:()=>re,Dh:()=>fe,GT:()=>oe,cc:()=>ue,on:()=>V,pX:()=>ie});var d=U(3018),ne=U(7841),F=U(5618);rt=U.hmd(rt);const he=["ngOnDestroy"],ie=(Ee,ve,_e,Re={})=>new Proxy(Ee,{get:(Ye,Ve)=>_e.runOutsideAngular(()=>{var Nt;if(Ee[Ve])return(null===(Nt=null==Re?void 0:Re.spy)||void 0===Nt?void 0:Nt.get)&&Re.spy.get(Ve,Ee[Ve]),Ee[Ve];if(he.indexOf(Ve)>-1)return()=>{};const Ct=ve.toPromise().then(In=>{const It=In&&In[Ve];return"function"==typeof It?It.bind(In):It&&It.then?It.then(Dt=>_e.run(()=>Dt)):_e.run(()=>It)});return new Proxy(()=>{},{get:(In,It)=>Ct[It],apply:(In,It,Dt)=>Ct.then(vt=>{var pt;const Ft=vt&&vt(...Dt);return(null===(pt=null==Re?void 0:Re.spy)||void 0===pt?void 0:pt.apply)&&Re.spy.apply(Ve,Dt,Ft),Ft})})})}),oe=(Ee,ve)=>{ve.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(Re=>{Object.defineProperty(Ee.prototype,Re,Object.getOwnPropertyDescriptor(_e.prototype||_e,Re))})})};class ge{constructor(ve){return ve}}const fe=new d.OlP("angularfire2.app.options"),re=new d.OlP("angularfire2.app.name");function V(Ee,ve,_e){const Ye="object"==typeof _e&&_e||{};Ye.name=Ye.name||"string"==typeof _e&&_e||"[DEFAULT]";const Nt=ne.Z.apps.filter(Ct=>Ct&&Ct.name===Ye.name)[0]||ve.runOutsideAngular(()=>ne.Z.initializeApp(Ee,Ye));try{JSON.stringify(Ee)!==JSON.stringify(Nt.options)&&j("error",`${Nt.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ct){}return new ge(Nt)}const j=(Ee,...ve)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ee](...ve)},ee={provide:ge,useFactory:V,deps:[fe,d.R0b,[new d.FiY,re]]};let X=(()=>{class Ee{constructor(_e){ne.Z.registerVersion("angularfire",F.q4.full,"core"),ne.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ne.Z.registerVersion("angular",d.q4F.full,_e.toString())}static initializeApp(_e,Re){return{ngModule:Ee,providers:[{provide:fe,useValue:_e},{provide:re,useValue:Re}]}}}return Ee.\u0275fac=function(_e){return new(_e||Ee)(d.LFG(d.Lbi))},Ee.\u0275mod=d.oAB({type:Ee}),Ee.\u0275inj=d.cJS({providers:[ee]}),Ee})();function ue(Ee,ve,_e,Re,Ye){const[,Ve,Nt]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===Ee)||[];if(Ve)return function(Ee,ve){try{return Ee.toString()===ve.toString()}catch(_e){return Ee===ve}}(Ye,Nt)||(Q("error",`${ve} was already initialized on the ${_e} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:Ye,was:Nt})),Ve;{const Ct=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Ct,Ye]),Ct}}const me=!!rt.hot,Q=(Ee,...ve)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ee](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5618:(rt,Ie,U)=>{"use strict";U.d(Ie,{q4:()=>qu,iC:()=>Qu,fc:()=>ja,HU:()=>ji,vb:()=>zl,JM:()=>Ci});var d=U(3018),ne=U(2329),F=U(8239),he=U(8026),ie=U(3854),oe=U(3910),ge=U(5422),fe=U(6676);const re="@firebase/installations",V="0.5.4",ee=`w:${V}`,X="FIS_v2",ve=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _e(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function Re({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ye(I){return{token:I.token,requestStatus:2,expiresIn:vt(I.expiresIn),creationTime:Date.now()}}function Ve(I,S){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,F.Z)(function*(I,S){const H=(yield S.json()).error;return ve.create("request-failed",{requestName:I,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Ct({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function In(I,{refreshToken:S}){const N=Ct(I);return N.append("Authorization",function(I){return`${X} ${I}`}(S)),N}function It(I){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,F.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function vt(I){return Number(I.replace("s","000"))}function Ft(I,S){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(I,{fid:S}){const N=Re(I),de={method:"POST",headers:Ct(I),body:JSON.stringify({fid:S,authVersion:X,appId:I.appId,sdkVersion:ee})},Se=yield It(()=>fetch(N,de));if(Se.ok){const We=yield Se.json();return{fid:We.fid||S,registrationStatus:2,refreshToken:We.refreshToken,authToken:Ye(We.authToken)}}throw yield Ve("Create Installation",Se)})).apply(this,arguments)}function mi(I){return new Promise(S=>{setTimeout(S,I)})}const Ro=/^[cdef][\w-]{21}$/;function Fn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const N=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Ro.test(N)?N:""}catch(I){return""}}function vs(I){return`${I.appName}!${I.appId}`}const Js=new Map;function bs(I,S){const N=vs(I);Xn(N,S),function(I,S){const N=(!$t&&"BroadcastChannel"in self&&($t=new BroadcastChannel("[Firebase] FID Change"),$t.onmessage=I=>{Xn(I.data.key,I.data.fid)}),$t);N&&N.postMessage({key:I,fid:S}),0===Js.size&&$t&&($t.close(),$t=null)}(N,S)}function Xn(I,S){const N=Js.get(I);if(N)for(const H of N)H(S)}let $t=null;const Me="firebase-installations-store";let lr=null;function Ln(){return lr||(lr=(0,fe.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Me)}})),lr}function Fi(I,S){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,F.Z)(function*(I,S){const N=vs(I),J=(yield Ln()).transaction(Me,"readwrite"),de=J.objectStore(Me),Se=yield de.get(N);return yield de.put(S,N),yield J.complete,(!Se||Se.fid!==S.fid)&&bs(I,S.fid),S})).apply(this,arguments)}function ni(I){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,F.Z)(function*(I){const S=vs(I),H=(yield Ln()).transaction(Me,"readwrite");yield H.objectStore(Me).delete(S),yield H.complete})).apply(this,arguments)}function at(I,S){return xe.apply(this,arguments)}function xe(){return(xe=(0,F.Z)(function*(I,S){const N=vs(I),J=(yield Ln()).transaction(Me,"readwrite"),de=J.objectStore(Me),Se=yield de.get(N),We=S(Se);return void 0===We?yield de.delete(N):yield de.put(We,N),yield J.complete,We&&(!Se||Se.fid!==We.fid)&&bs(I,We.fid),We})).apply(this,arguments)}function Gt(I){return un.apply(this,arguments)}function un(){return(un=(0,F.Z)(function*(I){let S;const N=yield at(I,H=>{const J=Tn(H),de=Ht(I,J);return S=de.registrationPromise,de.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function Tn(I){return Tt(I||{fid:Fn(),registrationStatus:0})}function Ht(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ve.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:N,registrationPromise:function(I,S){return Qe.apply(this,arguments)}(I,N)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Fr(I)}:{installationEntry:S}}function Qe(){return(Qe=(0,F.Z)(function*(I,S){try{return Fi(I,yield Ft(I,S))}catch(N){throw _e(N)&&409===N.customData.serverCode?yield ni(I):yield Fi(I,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Fr(I){return No.apply(this,arguments)}function No(){return(No=(0,F.Z)(function*(I){let S=yield Jt(I);for(;1===S.registrationStatus;)yield mi(100),S=yield Jt(I);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:H}=yield Gt(I);return H||N}return S})).apply(this,arguments)}function Jt(I){return at(I,S=>{if(!S)throw ve.create("installation-not-found");return Tt(S)})}function Tt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ec(I,S){return K.apply(this,arguments)}function K(){return(K=(0,F.Z)(function*({appConfig:I,platformLoggerProvider:S},N){const H=z(I,N),J=In(I,N),de=S.getImmediate({optional:!0});de&&J.append("x-firebase-client",de.getPlatformInfoString());const We={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee}})},Ge=yield It(()=>fetch(H,We));if(Ge.ok)return Ye(yield Ge.json());throw yield Ve("Generate Auth Token",Ge)})).apply(this,arguments)}function z(I,{fid:S}){return`${Re(I)}/${S}/authTokens:generate`}function q(I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,F.Z)(function*(I,S=!1){let N;const H=yield at(I.appConfig,de=>{if(!vn(de))throw ve.create("not-registered");const Se=de.authToken;if(!S&&Lr(Se))return de;if(1===Se.requestStatus)return N=ae(I,S),de;{if(!navigator.onLine)throw ve.create("app-offline");const We=gn(de);return N=Xt(I,We),We}});return N?yield N:H.authToken})).apply(this,arguments)}function ae(I,S){return $e.apply(this,arguments)}function $e(){return($e=(0,F.Z)(function*(I,S){let N=yield He(I.appConfig);for(;1===N.authToken.requestStatus;)yield mi(100),N=yield He(I.appConfig);const H=N.authToken;return 0===H.requestStatus?q(I,S):H})).apply(this,arguments)}function He(I){return at(I,S=>{if(!vn(S))throw ve.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Xt(I,S){return qn.apply(this,arguments)}function qn(){return(qn=(0,F.Z)(function*(I,S){try{const N=yield Ec(I,S),H=Object.assign(Object.assign({},S),{authToken:N});return yield Fi(I.appConfig,H),N}catch(N){if(!_e(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const H=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Fi(I.appConfig,H)}else yield ni(I.appConfig);throw N}})).apply(this,arguments)}function vn(I){return void 0!==I&&2===I.registrationStatus}function Lr(I){return 2===I.requestStatus&&!function(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function gn(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function Po(){return(Po=(0,F.Z)(function*(I){const S=I,{installationEntry:N,registrationPromise:H}=yield Gt(S.appConfig);return H?H.catch(console.error):q(S).catch(console.error),N.fid})).apply(this,arguments)}function ko(){return(ko=(0,F.Z)(function*(I,S=!1){const N=I;return yield Ru(N.appConfig),(yield q(N,S)).token})).apply(this,arguments)}function Ru(I){return _i.apply(this,arguments)}function _i(){return(_i=(0,F.Z)(function*(I){const{registrationPromise:S}=yield Gt(I);S&&(yield S)})).apply(this,arguments)}function cr(I){return ve.create("missing-app-config-values",{valueName:I})}const ch="installations";(0,he._registerComponent)(new oe.wA(ch,I=>{const S=I.getProvider("app").getImmediate();return{app:S,appConfig:function(I){if(!I||!I.options)throw cr("App Configuration");if(!I.name)throw cr("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!I.options[N])throw cr(N);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S),platformLoggerProvider:(0,he._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,he._registerComponent)(new oe.wA("installations-internal",I=>{const S=I.getProvider("app").getImmediate(),N=(0,he._getProvider)(S,ch).getImmediate();return{getId:()=>function(I){return Po.apply(this,arguments)}(N),getToken:J=>function(I){return ko.apply(this,arguments)}(N,J)}},"PRIVATE")),(0,he.registerVersion)(re,V),(0,he.registerVersion)(re,V,"esm2017");const Dn="@firebase/remote-config",Vn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dh{constructor(S,N,H,J){this.client=S,this.storage=N,this.storageCache=H,this.logger=J}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-N,J=H<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var N=this;return(0,F.Z)(function*(){const[H,J]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(J&&N.isCachedDataFresh(S.cacheMaxAgeMillis,H))return J;S.eTag=J&&J.eTag;const de=yield N.client.fetch(S),Se=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Se.push(N.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Se),de})()}}function es(I=navigator){return I.languages&&I.languages[0]||I.language}class Sn{constructor(S,N,H,J,de,Se){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=H,this.projectId=J,this.apiKey=de,this.appId=Se}fetch(S){var N=this;return(0,F.Z)(function*(){const[H,J]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ge={sdk_version:N.sdkVersion,app_instance_id:H,app_instance_id_token:J,app_id:N.appId,language_code:es()},Pt={method:"POST",headers:We,body:JSON.stringify(Ge)},Kt=fetch(Se,Pt),ir=new Promise((Ns,fo)=>{S.signal.addEventListener(()=>{const Wc=new Error("The operation was aborted.");Wc.name="AbortError",fo(Wc)})});let sr;try{yield Promise.race([Kt,ir]),sr=yield Kt}catch(Ns){let fo="fetch-client-network";throw"AbortError"===Ns.name&&(fo="fetch-timeout"),Vn.create(fo,{originalErrorMessage:Ns.message})}let fr=sr.status;const Rs=sr.headers.get("ETag")||void 0;let Jo,Os;if(200===sr.status){let Ns;try{Ns=yield sr.json()}catch(fo){throw Vn.create("fetch-client-parse",{originalErrorMessage:fo.message})}Jo=Ns.entries,Os=Ns.state}if("INSTANCE_STATE_UNSPECIFIED"===Os?fr=500:"NO_CHANGE"===Os?fr=304:("NO_TEMPLATE"===Os||"EMPTY_CONFIG"===Os)&&(Jo={}),304!==fr&&200!==fr)throw Vn.create("fetch-status",{httpStatus:fr});return{status:fr,eTag:Rs,config:Jo}})()}}class Aa{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,F.Z)(function*(){const H=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,H)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:H}){var J=this;return(0,F.Z)(function*(){yield function(I,S){return new Promise((N,H)=>{const J=Math.max(S-Date.now(),0),de=setTimeout(N,J);I.addEventListener(()=>{clearTimeout(de),H(Vn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const de=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),de}catch(de){if(!function(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(de))throw de;const Se={throttleEndTimeMillis:Date.now()+(0,ie.$s)(H),backoffCount:H+1};return yield J.storage.setThrottleMetadata(Se),J.attemptFetch(S,Se)}})()}}class Pm{constructor(S,N,H,J,de){this.app=S,this._client=N,this._storageCache=H,this._storage=J,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ma(I,S){const N=I.target.error||void 0;return Vn.create(S,{originalErrorMessage:N&&N.message})}const Uo="app_namespace_store";class km{constructor(S,N,H,J=function(){return new Promise((I,S)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=H=>{S(Ma(H,"storage-open"))},N.onsuccess=H=>{I(H.target.result)},N.onupgradeneeded=H=>{const J=H.target.result;switch(H.oldVersion){case 0:J.createObjectStore(Uo,{keyPath:"compositeKey"})}}}catch(N){S(Vn.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=S,this.appName=N,this.namespace=H,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,F.Z)(function*(){const H=yield N.openDbPromise;return new Promise((J,de)=>{const We=H.transaction([Uo],"readonly").objectStore(Uo),Ge=N.createCompositeKey(S);try{const Pt=We.get(Ge);Pt.onerror=Kt=>{de(Ma(Kt,"storage-get"))},Pt.onsuccess=Kt=>{const ir=Kt.target.result;J(ir?ir.value:void 0)}}catch(Pt){de(Vn.create("storage-get",{originalErrorMessage:Pt&&Pt.message}))}})})()}set(S,N){var H=this;return(0,F.Z)(function*(){const J=yield H.openDbPromise;return new Promise((de,Se)=>{const Ge=J.transaction([Uo],"readwrite").objectStore(Uo),Pt=H.createCompositeKey(S);try{const Kt=Ge.put({compositeKey:Pt,value:N});Kt.onerror=ir=>{Se(Ma(ir,"storage-set"))},Kt.onsuccess=()=>{de()}}catch(Kt){Se(Vn.create("storage-set",{originalErrorMessage:Kt&&Kt.message}))}})})()}delete(S){var N=this;return(0,F.Z)(function*(){const H=yield N.openDbPromise;return new Promise((J,de)=>{const We=H.transaction([Uo],"readwrite").objectStore(Uo),Ge=N.createCompositeKey(S);try{const Pt=We.delete(Ge);Pt.onerror=Kt=>{de(Ma(Kt,"storage-delete"))},Pt.onsuccess=()=>{J()}}catch(Pt){de(Vn.create("storage-delete",{originalErrorMessage:Pt&&Pt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ph{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const N=S.storage.getLastFetchStatus(),H=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),de=yield N;de&&(S.lastFetchStatus=de);const Se=yield H;Se&&(S.lastSuccessfulFetchTimestampMillis=Se);const We=yield J;We&&(S.activeConfig=We)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function ku(){return mh.apply(this,arguments)}function mh(){return(mh=(0,F.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new oe.wA("remote-config",function(S,{instanceIdentifier:N}){const H=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,ie.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:de,apiKey:Se,appId:We}=H.options;if(!de)throw Vn.create("registration-project-id");if(!Se)throw Vn.create("registration-api-key");if(!We)throw Vn.create("registration-app-id");const Ge=new km(We,H.name,N=N||"firebase"),Pt=new ph(Ge),Kt=new ge.Yd(Dn);Kt.logLevel=ge.in.ERROR;const ir=new Sn(J,he.SDK_VERSION,N,de,Se,We),sr=new Aa(ir,Ge),fr=new dh(sr,Ge,Pt,Kt),Rs=new Pm(H,fr,Pt,Ge,Kt);return function(I){const S=(0,ie.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Rs),Rs},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Dn,"0.3.3"),(0,he.registerVersion)(Dn,"0.3.3","esm2017");const _h="/firebase-messaging-sw.js",Fm="/firebase-cloud-messaging-push-scope",wl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cl="google.c.a.c_id",xa="google.c.a.c_l",Un="google.c.a.ts",Fu="google.c.a.e";var An=(()=>{return(I=An||(An={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",An;var I})();function ts(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Il(I){const N=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(N),J=new Uint8Array(H.length);for(let de=0;de<H.length;++de)J[de]=H.charCodeAt(de);return J}const Tl="fcm_token_details_db",_p="fcm_token_object_Store";function Lu(I){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,F.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(Tl))return null;let S=null;return(yield(0,fe.openDb)(Tl,5,function(){var H=(0,F.Z)(function*(J){var de;if(J.oldVersion<2||!J.objectStoreNames.contains(_p))return;const Se=J.transaction.objectStore(_p),We=yield Se.index("fcmSenderId").get(I);if(yield Se.clear(),We)if(2===J.oldVersion){const Ge=We;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;S={token:Ge.fcmToken,createTime:null!==(de=Ge.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:ts(Ge.vapidKey)}}}else if(3===J.oldVersion){const Ge=We;S={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:ts(Ge.auth),p256dh:ts(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:ts(Ge.vapidKey)}}}else if(4===J.oldVersion){const Ge=We;S={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:ts(Ge.auth),p256dh:ts(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:ts(Ge.vapidKey)}}}});return function(J){return H.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(Tl),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),yp(S)?S:null})).apply(this,arguments)}function yp(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const tr="firebase-messaging-store";let Sl=null;function io(){return Sl||(Sl=(0,fe.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(tr)}})),Sl}function Al(I){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,F.Z)(function*(I){const S=Ml(I),H=yield(yield io()).transaction(tr).objectStore(tr).get(S);if(H)return H;{const J=yield Lu(I.appConfig.senderId);if(J)return yield ri(I,J),J}})).apply(this,arguments)}function ri(I,S){return ns.apply(this,arguments)}function ns(){return(ns=(0,F.Z)(function*(I,S){const N=Ml(I),J=(yield io()).transaction(tr,"readwrite");return yield J.objectStore(tr).put(S,N),yield J.complete,S})).apply(this,arguments)}function on(I){return wc.apply(this,arguments)}function wc(){return(wc=(0,F.Z)(function*(I){const S=Ml(I),H=(yield io()).transaction(tr,"readwrite");yield H.objectStore(tr).delete(S),yield H.complete})).apply(this,arguments)}function Ml({appConfig:I}){return I.appId}const xt=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oa(I,S){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,F.Z)(function*(I,S){const N=yield ur(I),H=Na(S),J={method:"POST",headers:N,body:JSON.stringify(H)};let de;try{de=yield(yield fetch(Kn(I.appConfig),J)).json()}catch(Se){throw xt.create("token-subscribe-failed",{errorInfo:Se})}if(de.error)throw xt.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw xt.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function jo(I,S){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,F.Z)(function*(I,S){const N=yield ur(I),H=Na(S.subscriptionOptions),J={method:"PATCH",headers:N,body:JSON.stringify(H)};let de;try{de=yield(yield fetch(`${Kn(I.appConfig)}/${S.token}`,J)).json()}catch(Se){throw xt.create("token-update-failed",{errorInfo:Se})}if(de.error)throw xt.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw xt.create("token-update-no-token");return de.token})).apply(this,arguments)}function wh(I,S){return rs.apply(this,arguments)}function rs(){return(rs=(0,F.Z)(function*(I,S){const H={method:"DELETE",headers:yield ur(I)};try{const de=yield(yield fetch(`${Kn(I.appConfig)}/${S}`,H)).json();if(de.error)throw xt.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(J){throw xt.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Kn({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ur(I){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,F.Z)(function*({appConfig:I,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Na({p256dh:I,auth:S,endpoint:N,vapidKey:H}){const J={web:{endpoint:N,auth:S,p256dh:I}};return H!==wl&&(J.web.applicationPubKey=H),J}const xl=6048e5;function Is(I){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,F.Z)(function*(I){const S=yield Tc(I.swRegistration,I.vapidKey),N={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:ts(S.getKey("auth")),p256dh:ts(S.getKey("p256dh"))},H=yield Al(I.firebaseDependencies);if(H){if(Vu(H.subscriptionOptions,N))return Date.now()>=H.createTime+xl?Ch(I,{token:H.token,createTime:Date.now(),subscriptionOptions:N}):H.token;try{yield wh(I.firebaseDependencies,H.token)}catch(J){console.warn(J)}return so(I.firebaseDependencies,N)}return so(I.firebaseDependencies,N)})).apply(this,arguments)}function Ic(I){return ct.apply(this,arguments)}function ct(){return(ct=(0,F.Z)(function*(I){const S=yield Al(I.firebaseDependencies);S&&(yield wh(I.firebaseDependencies,S.token),yield on(I.firebaseDependencies));const N=yield I.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Ch(I,S){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,F.Z)(function*(I,S){try{const N=yield jo(I.firebaseDependencies,S),H=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield ri(I.firebaseDependencies,H),N}catch(N){throw yield Ic(I),N}})).apply(this,arguments)}function so(I,S){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,F.Z)(function*(I,S){const H={token:yield Oa(I,S),createTime:Date.now(),subscriptionOptions:S};return yield ri(I,H),H.token})).apply(this,arguments)}function Tc(I,S){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,F.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Il(S)})})).apply(this,arguments)}function Vu(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function De(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcm_message_id};return function(I,S){if(!S.notification)return;I.notification={};const N=S.notification.title;N&&(I.notification.title=N);const H=S.notification.body;H&&(I.notification.body=H);const J=S.notification.image;J&&(I.notification.image=J)}(S,I),function(I,S){!S.data||(I.data=S.data)}(S,I),function(I,S){if(!S.fcmOptions)return;I.fcmOptions={};const N=S.fcmOptions.link;N&&(I.fcmOptions.link=N);const H=S.fcmOptions.analytics_label;H&&(I.fcmOptions.analyticsLabel=H)}(S,I),S}function Dc(I){return"object"==typeof I&&!!I&&Cl in I}function $o(I,S){const N=[];for(let H=0;H<I.length;H++)N.push(I.charAt(H)),H<S.length&&N.push(S.charAt(H));return N.join("")}function Nl(I){return xt.create("missing-app-config-values",{valueName:I})}$o("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$o("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oo{constructor(S,N,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(I){if(!I||!I.options)throw Nl("App Configuration Object");if(!I.name)throw Nl("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=I;for(const H of S)if(!N[H])throw Nl(H);return{appName:I.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:N,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Ih(I){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,F.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(_h,{scope:Fm}),I.swRegistration.update().catch(()=>{})}catch(S){throw xt.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function is(I,S){return ss.apply(this,arguments)}function ss(){return(ss=(0,F.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield Ih(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw xt.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function nr(I,S){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,F.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=wl)})).apply(this,arguments)}function ao(){return(ao=(0,F.Z)(function*(I,S){if(!navigator)throw xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xt.create("permission-blocked");return yield nr(I,null==S?void 0:S.vapidKey),yield is(I,null==S?void 0:S.serviceWorkerRegistration),Is(I)})).apply(this,arguments)}function Ui(I,S,N){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,F.Z)(function*(I,S,N){const H=Ac(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:N[Cl],message_name:N[xa],message_time:N[Un],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ac(I){switch(I){case An.NOTIFICATION_CLICKED:return"notification_open";case An.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ka(){return(ka=(0,F.Z)(function*(I,S){const N=S.data;if(!N.isFirebaseMessaging)return;I.onMessageHandler&&N.messageType===An.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(De(N)):I.onMessageHandler.next(De(N)));const H=N.data;Dc(H)&&"1"===H[Fu]&&(yield Ui(I,N.messageType,H))})).apply(this,arguments)}const xc="@firebase/messaging";function Dh(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new oe.wA("messaging",I=>{const S=new oo(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function(I,S){return ka.apply(this,arguments)}(S,N)),S},"PUBLIC")),(0,he._registerComponent)(new oe.wA("messaging-internal",I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:H=>function(I,S){return ao.apply(this,arguments)}(S,H)}},"PRIVATE")),(0,he.registerVersion)(xc,"0.9.4"),(0,he.registerVersion)(xc,"0.9.4","esm2017");const ii="analytics",bn="firebase_id",Fl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mh="https://www.googletagmanager.com/gtag/js",Bn=new ge.Yd("@firebase/analytics");function xh(I){return Promise.all(I.map(S=>S.catch(N=>N)))}function Pc(I,S){const N=document.createElement("script");N.src=`${Mh}?l=${I}&id=${S}`,N.async=!0,document.head.appendChild(N)}function Vl(I,S,N,H,J,de){return kc.apply(this,arguments)}function kc(){return(kc=(0,F.Z)(function*(I,S,N,H,J,de){const Se=H[J];try{if(Se)yield S[Se];else{const Ge=(yield xh(N)).find(Pt=>Pt.measurementId===J);Ge&&(yield S[Ge.appId])}}catch(We){Bn.error(We)}I("config",J,de)})).apply(this,arguments)}function Go(I,S,N,H,J){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,F.Z)(function*(I,S,N,H,J){try{let de=[];if(J&&J.send_to){let Se=J.send_to;Array.isArray(Se)||(Se=[Se]);const We=yield xh(N);for(const Ge of Se){const Pt=We.find(ir=>ir.measurementId===Ge),Kt=Pt&&S[Pt.appId];if(!Kt){de=[];break}de.push(Kt)}}0===de.length&&(de=Object.values(S)),yield Promise.all(de),I("event",H,J||{})}catch(de){Bn.error(de)}})).apply(this,arguments)}function Vm(){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(Mh))return S;return null}const dr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Bm=new class{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function jv(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ul(I){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,F.Z)(function*(I){var S;const{appId:N,apiKey:H}=I,J={method:"GET",headers:jv(H)},de=Fl.replace("{app-id}",N),Se=yield fetch(de,J);if(200!==Se.status&&304!==Se.status){let We="";try{const Ge=yield Se.json();(null===(S=Ge.error)||void 0===S?void 0:S.message)&&(We=Ge.error.message)}catch(Ge){}throw dr.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:We})}return Se.json()})).apply(this,arguments)}function Vc(I){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,F.Z)(function*(I,S=Bm,N){const{appId:H,apiKey:J,measurementId:de}=I.options;if(!H)throw dr.create("no-app-id");if(!J){if(de)return{measurementId:de,appId:H};throw dr.create("no-api-key")}const Se=S.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new jl;return setTimeout((0,F.Z)(function*(){We.abort()}),void 0!==N?N:6e4),Uc({appId:H,apiKey:J,measurementId:de},Se,We,S)})).apply(this,arguments)}function Uc(I,S,N){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,F.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:N},H,J=Bm){const{appId:de,measurementId:Se}=I;try{yield Bl(H,S)}catch(We){if(Se)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:de,measurementId:Se};throw We}try{const We=yield Ul(I);return J.deleteThrottleMetadata(de),We}catch(We){if(!Ip(We)){if(J.deleteThrottleMetadata(de),Se)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:de,measurementId:Se};throw We}const Ge=503===Number(We.customData.httpStatus)?(0,ie.$s)(N,J.intervalMillis,30):(0,ie.$s)(N,J.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:N+1};return J.setThrottleMetadata(de,Pt),Bn.debug(`Calling attemptFetch again in ${Ge} millis`),Uc(I,Pt,H,J)}})).apply(this,arguments)}function Bl(I,S){return new Promise((N,H)=>{const J=Math.max(S-Date.now(),0),de=setTimeout(N,J);I.addEventListener(()=>{clearTimeout(de),H(dr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Ip(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class jl{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function jc(){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,F.Z)(function*(){if(!(0,ie.hl)())return Bn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return Bn.warn(dr.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function La(){return(La=(0,F.Z)(function*(I,S,N,H,J,de,Se){var We;const Ge=Vc(I);Ge.then(fr=>{N[fr.measurementId]=fr.appId,I.options.measurementId&&fr.measurementId!==I.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${fr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fr=>Bn.error(fr)),S.push(Ge);const Pt=jc().then(fr=>{if(fr)return H.getId()}),[Kt,ir]=yield Promise.all([Ge,Pt]);Vm()||Pc(de,Kt.measurementId),J("js",new Date);const sr=null!==(We=null==Se?void 0:Se.config)&&void 0!==We?We:{};return sr.origin="firebase",sr.update=!0,null!=ir&&(sr[bn]=ir),J("config",Kt.measurementId,sr),Kt.measurementId})).apply(this,arguments)}class en{constructor(S){this.app=S}_delete(){return delete mn[this.app.options.appId],Promise.resolve()}}let mn={},Hl=[];const lt={};let Zo,hr,$l="dataLayer",As=!1;function Bu(I,S,N){!function(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((H,J)=>`(${J+1}) ${H}`).join(" "),N=dr.create("invalid-analytics-context",{errorInfo:S});Bn.warn(N.message)}}();const H=I.options.appId;if(!H)throw dr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw dr.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mn[H])throw dr.create("already-exists",{id:H});if(!As){!function(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}($l);const{wrappedGtag:de,gtagCore:Se}=function(I,S,N,H,J){let de=function(...Se){window[H].push(arguments)};return window[J]&&"function"==typeof window[J]&&(de=window[J]),window[J]=function(I,S,N,H){function de(){return(de=(0,F.Z)(function*(Se,We,Ge){try{"event"===Se?yield Go(I,S,N,We,Ge):"config"===Se?yield Vl(I,S,N,H,We,Ge):I("set",We)}catch(Pt){Bn.error(Pt)}})).apply(this,arguments)}return function(Se,We,Ge){return de.apply(this,arguments)}}(de,I,S,N),{gtagCore:de,wrappedGtag:window[J]}}(mn,Hl,lt,$l,"gtag");hr=de,Zo=Se,As=!0}return mn[H]=function(I,S,N,H,J,de,Se){return La.apply(this,arguments)}(I,Hl,lt,S,Zo,$l,N),new en(I)}function ju(){return(ju=(0,F.Z)(function*(I,S,N,H,J){if(J&&J.global)I("event",N,H);else{const de=yield S;I("event",N,Object.assign(Object.assign({},H),{send_to:de}))}})).apply(this,arguments)}function ls(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,F.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(I){return!1}})).apply(this,arguments)}const $u="@firebase/analytics";(0,he._registerComponent)(new oe.wA(ii,(S,{options:N})=>Bu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,he._registerComponent)(new oe.wA("analytics-internal",function(S){try{const N=S.getProvider(ii).getImmediate();return{logEvent:(H,J,de)=>function(I,S,N,H){I=(0,ie.m9)(I),function(I,S,N,H,J){return ju.apply(this,arguments)}(hr,mn[I.app.options.appId],S,N,H).catch(J=>Bn.error(J))}(N,H,J,de)}}catch(N){throw dr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,he.registerVersion)($u,"0.7.4"),(0,he.registerVersion)($u,"0.7.4","esm2017");var Dp=U(7771),ln=U(3637),Rh=U(3342),Gc=U(309),Oh=U(3101);const qu=new d.GfV("7.2.0"),qc="__angularfire_symbol__analyticsIsSupported",Ku="__angularfire_symbol__remoteConfigIsSupported",ho="__angularfire_symbol__messagingIsSupported";function Ci(I,S,N){if(S){if(1===S.length)return S[0];const de=S.filter(Se=>Se.app===N);if(1===de.length)return de[0]}return N.container.getProvider(I).getImmediate({optional:!0})}globalThis[qc]||(globalThis[qc]=ls().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[ho]||(globalThis[ho]=Dh().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Ku]||(globalThis[Ku]=ku().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const zl=(I,S)=>{const N=S?[S]:(0,ne.C6)(),H=[];return N.forEach(J=>{J.container.getProvider(I).instances.forEach(Se=>{H.includes(Se)||H.push(Se)})}),H};function zc(){}class Sp{constructor(S,N=Dp.N){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,H){const J=this.zone;return this.delegate.schedule(function(Se){J.runGuarded(()=>{S.apply(this,[Se])})},N,H)}}class jr{constructor(S){this.zone=S,this.task=null}call(S,N){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zc,{},zc,zc)),N.pipe((0,Rh.b)({next:H,complete:H,error:H})).subscribe(S).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ji=(()=>{class I{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Sp(Zone.current)),this.insideAngular=N.run(()=>new Sp(Zone.current,ln.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(N){return new(N||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ii(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ja(I){return I.pipe((0,Gc.QV)(Ii().outsideAngular))}function Qu(I){return Ii(),function(I){return function(N){return(N=N.lift(new jr(I.ngZone))).pipe((0,Oh.R)(I.outsideAngular),(0,Gc.QV)(I.insideAngular))}}(Ii())(I)}},3854:(rt,Ie,U)=>{"use strict";U.d(Ie,{BH:()=>X,LL:()=>et,ZR:()=>Ft,zI:()=>Dt,US:()=>oe,tV:()=>re,$s:()=>Jt,r3:()=>yn,Sg:()=>ue,ne:()=>lr,vZ:()=>$t,ZB:()=>j,pd:()=>Tr,m9:()=>Ec,z$:()=>Te,jU:()=>Ee,ru:()=>ve,d:()=>Re,xb:()=>Xn,w1:()=>Ye,hl:()=>In,uI:()=>me,UG:()=>Q,b$:()=>_e,G6:()=>Ct,Mn:()=>Ve,xO:()=>vl,zd:()=>kr,eu:()=>It});const he=function(K){const z=[];let q=0;for(let Ce=0;Ce<K.length;Ce++){let ae=K.charCodeAt(Ce);ae<128?z[q++]=ae:ae<2048?(z[q++]=ae>>6|192,z[q++]=63&ae|128):55296==(64512&ae)&&Ce+1<K.length&&56320==(64512&K.charCodeAt(Ce+1))?(ae=65536+((1023&ae)<<10)+(1023&K.charCodeAt(++Ce)),z[q++]=ae>>18|240,z[q++]=ae>>12&63|128,z[q++]=ae>>6&63|128,z[q++]=63&ae|128):(z[q++]=ae>>12|224,z[q++]=ae>>6&63|128,z[q++]=63&ae|128)}return z},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,z){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ae=0;ae<K.length;ae+=3){const $e=K[ae],He=ae+1<K.length,Xt=He?K[ae+1]:0,qn=ae+2<K.length,vn=qn?K[ae+2]:0;let gn=(15&Xt)<<2|vn>>6,Qi=63&vn;qn||(Qi=64,He||(gn=64)),Ce.push(q[$e>>2],q[(3&$e)<<4|Xt>>4],q[gn],q[Qi])}return Ce.join("")},encodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(K):this.encodeByteArray(he(K),z)},decodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(K):function(K){const z=[];let q=0,Ce=0;for(;q<K.length;){const ae=K[q++];if(ae<128)z[Ce++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const $e=K[q++];z[Ce++]=String.fromCharCode((31&ae)<<6|63&$e)}else if(ae>239&&ae<365){const qn=((7&ae)<<18|(63&K[q++])<<12|(63&K[q++])<<6|63&K[q++])-65536;z[Ce++]=String.fromCharCode(55296+(qn>>10)),z[Ce++]=String.fromCharCode(56320+(1023&qn))}else{const $e=K[q++],He=K[q++];z[Ce++]=String.fromCharCode((15&ae)<<12|(63&$e)<<6|63&He)}}return z.join("")}(this.decodeStringToByteArray(K,z))},decodeStringToByteArray(K,z){this.init_();const q=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ae=0;ae<K.length;){const $e=q[K.charAt(ae++)],Xt=ae<K.length?q[K.charAt(ae)]:0;++ae;const vn=ae<K.length?q[K.charAt(ae)]:64;++ae;const Lt=ae<K.length?q[K.charAt(ae)]:64;if(++ae,null==$e||null==Xt||null==vn||null==Lt)throw Error();Ce.push($e<<2|Xt>>4),64!==vn&&(Ce.push(Xt<<4&240|vn>>2),64!==Lt&&Ce.push(vn<<6&192|Lt))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},fe=function(K){return function(K){const z=he(K);return oe.encodeByteArray(z,!0)}(K).replace(/\./g,"")},re=function(K){try{return oe.decodeString(K,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function j(K,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return z}for(const q in z)!z.hasOwnProperty(q)||!ee(q)||(K[q]=j(K[q],z[q]));return K}function ee(K){return"__proto__"!==K}class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,q)=>{this.resolve=z,this.reject=q})}wrapCallback(z){return(q,Ce)=>{q?this.reject(q):this.resolve(Ce),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(q):z(q,Ce))}}}function ue(K,z){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=z||"demo-project",ae=K.iat||0,$e=K.sub||K.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ae,exp:ae+3600,auth_time:ae,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},K);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(He)),""].join(".")}function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function Q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function ve(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function _e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return Te().indexOf("Electron/")>=0}function Ye(){const K=Te();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ve(){return Te().indexOf("MSAppHost/")>=0}function Ct(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function In(){return"object"==typeof indexedDB}function It(){return new Promise((K,z)=>{try{let q=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Ce);ae.onsuccess=()=>{ae.result.close(),q||self.indexedDB.deleteDatabase(Ce),K(!0)},ae.onupgradeneeded=()=>{q=!1},ae.onerror=()=>{var $e;z((null===($e=ae.error)||void 0===$e?void 0:$e.message)||"")}}catch(q){z(q)}})}function Dt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ft extends Error{constructor(z,q,Ce){super(q),this.code=z,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(z,q,Ce){this.service=z,this.serviceName=q,this.errors=Ce}create(z,...q){const Ce=q[0]||{},ae=`${this.service}/${z}`,$e=this.errors[z],He=$e?function(K,z){return K.replace(Ys,(q,Ce)=>{const ae=z[Ce];return null!=ae?String(ae):`<${Ce}?>`})}($e,Ce):"Error";return new Ft(ae,`${this.serviceName}: ${He} (${ae}).`,Ce)}}const Ys=/\{\$([^}]+)}/g;function yn(K,z){return Object.prototype.hasOwnProperty.call(K,z)}function Xn(K){for(const z in K)if(Object.prototype.hasOwnProperty.call(K,z))return!1;return!0}function $t(K,z){if(K===z)return!0;const q=Object.keys(K),Ce=Object.keys(z);for(const ae of q){if(!Ce.includes(ae))return!1;const $e=K[ae],He=z[ae];if(Mt($e)&&Mt(He)){if(!$t($e,He))return!1}else if($e!==He)return!1}for(const ae of Ce)if(!q.includes(ae))return!1;return!0}function Mt(K){return null!==K&&"object"==typeof K}function vl(K){const z=[];for(const[q,Ce]of Object.entries(K))Array.isArray(Ce)?Ce.forEach(ae=>{z.push(encodeURIComponent(q)+"="+encodeURIComponent(ae))}):z.push(encodeURIComponent(q)+"="+encodeURIComponent(Ce));return z.length?"&"+z.join("&"):""}function kr(K){const z={};return K.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ae,$e]=Ce.split("=");z[decodeURIComponent(ae)]=decodeURIComponent($e)}}),z}function Tr(K){const z=K.indexOf("?");if(!z)return"";const q=K.indexOf("#",z);return K.substring(z,q>0?q:void 0)}function lr(K,z){const q=new Ln(K,z);return q.subscribe.bind(q)}class Ln{constructor(z,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{z(this)}).catch(Ce=>{this.error(Ce)})}next(z){this.forEachObserver(q=>{q.next(z)})}error(z){this.forEachObserver(q=>{q.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,q,Ce){let ae;if(void 0===z&&void 0===q&&void 0===Ce)throw new Error("Missing Observer.");ae=function(K,z){if("object"!=typeof K||null===K)return!1;for(const q of["next","error","complete"])if(q in K&&"function"==typeof K[q])return!0;return!1}(z)?z:{next:z,error:q,complete:Ce},void 0===ae.next&&(ae.next=ni),void 0===ae.error&&(ae.error=ni),void 0===ae.complete&&(ae.complete=ni);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(He){}}),this.observers.push(ae),$e}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,z)}sendOne(z,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{q(this.observers[z])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ni(){}function Jt(K,z=1e3,q=2){const Ce=z*Math.pow(q,K),ae=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+ae)}function Ec(K){return K&&K._delegate?K._delegate:K}},2329:(rt,Ie,U)=>{"use strict";U.d(Ie,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=U(8026);(0,d.registerVersion)("firebase","9.4.1","app")},7841:(rt,Ie,U)=>{"use strict";U.d(Ie,{Z:()=>d.Z});var d=U(3394);d.Z.registerVersion("firebase","9.4.1","app-compat")},941:(rt,Ie,U)=>{"use strict";U.r(Ie);var d=U(8239),ne=U(3394),F=U(3854),he=U(8026);function fe(y,p){var g={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&p.indexOf(E)<0&&(g[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(y);D<E.length;D++)p.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(y,E[D])&&(g[E[D]]=y[E[D]])}return g}var Ft=U(5422),et=U(3910);const Js=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},bs=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yn=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xn=new Ft.Yd("@firebase/auth");function Xs(y,...p){Xn.logLevel<=Ft.in.ERROR&&Xn.error(`Auth (${he.SDK_VERSION}): ${y}`,...p)}function $t(y,...p){throw Tr(y,...p)}function Mt(y,...p){return Tr(y,...p)}function vl(y,p,g){const E=Object.assign(Object.assign({},bs()),{[p]:g});return new F.LL("auth","Firebase",E).create(p,{appName:y.name})}function kr(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&$t(y,"argument-error"),vl(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tr(y,...p){if("string"!=typeof y){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(g,...E)}return yn.create(y,...p)}function Me(y,p,...g){if(!y)throw Tr(p,...g)}function lr(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Xs(p),new Error(p)}function Ln(y,p){y||lr(p)}const Fi=new Map;function Ut(y){Ln(y instanceof Function,"Expected a class definition");let p=Fi.get(y);return p?(Ln(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Fi.set(y,p),p)}function at(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function xe(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ht{constructor(p,g){this.shortDelay=p,this.longDelay=g,Ln(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xe()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tt(y,p){Ln(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Qe{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},No=new Ht(3e4,6e4);function Jt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Tt(y,p,g,E){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(y,p,g,E,D={}){return Ec(y,D,()=>{let R={},$={};E&&("GET"===p?$=E:R={body:JSON.stringify(E)});const se=(0,F.xO)(Object.assign({key:y.config.apiKey},$)).slice(1),ke=new(Qe.headers());return ke.set("Content-Type","application/json"),ke.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&ke.set("X-Firebase-Locale",y.languageCode),Qe.fetch()(Ce(y,y.config.apiHost,g,se),Object.assign({method:p,headers:ke,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function Ec(y,p,g){return K.apply(this,arguments)}function K(){return(K=(0,d.Z)(function*(y,p,g){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Fr),p);try{const D=new ae(y),R=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const $=yield R.json();if("needConfirmation"in $)throw $e(y,"account-exists-with-different-credential",$);if(R.ok&&!("errorMessage"in $))return $;{const se=R.ok?$.errorMessage:$.error.message,[ke,Oe]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw $e(y,"credential-already-in-use",$);if("EMAIL_EXISTS"===ke)throw $e(y,"email-already-in-use",$);const Ke=E[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(Oe)throw vl(y,Ke,Oe);$t(y,Ke)}}catch(D){if(D instanceof F.ZR)throw D;$t(y,"network-request-failed")}})).apply(this,arguments)}function z(y,p,g,E){return q.apply(this,arguments)}function q(){return(q=(0,d.Z)(function*(y,p,g,E,D={}){const R=yield Tt(y,p,g,E,D);return"mfaPendingCredential"in R&&$t(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ce(y,p,g,E){const D=`${p}${g}?${E}`;return y.config.emulator?tt(y.config,D):`${y.config.apiScheme}://${D}`}class ae{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Mt(this.auth,"timeout")),No.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $e(y,p,g){const E={appName:y.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const D=Mt(y,p,E);return D.customData._tokenResponse=g,D}function Xt(){return(Xt=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function qn(y,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Lr(y,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function gn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Po(){return(Po=(0,d.Z)(function*(y,p=!1){const g=(0,F.m9)(y),E=yield g.getIdToken(p),D=ko(E);Me(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const R="object"==typeof D.firebase?D.firebase:void 0,$=null==R?void 0:R.sign_in_provider;return{claims:D,token:E,authTime:gn(xu(D.auth_time)),issuedAtTime:gn(xu(D.iat)),expirationTime:gn(xu(D.exp)),signInProvider:$||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function xu(y){return 1e3*Number(y)}function ko(y){const[p,g,E]=y.split(".");if(void 0===p||void 0===g||void 0===E)return Xs("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,F.tV)(g);return D?JSON.parse(D):(Xs("Failed to decode base64 JWT payload"),null)}catch(D){return Xs("Caught error parsing JWT payload as JSON",D),null}}function _i(y,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof F.ZR&&Fo(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function Fo({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ca{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class lh{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=gn(this.lastLoginAt),this.creationTime=gn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function eo(y){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(y){var p;const g=y.auth,E=yield y.getIdToken(),D=yield _i(y,Lr(g,{idToken:E}));Me(null==D?void 0:D.users.length,g,"internal-error");const R=D.users[0];y._notifyReloadListener(R);const $=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?ch(R.providerUserInfo):[],se=cr(y.providerData,$),Ke=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==se?void 0:se.length)),Je={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:se,metadata:new lh(R.createdAt,R.lastLoginAt),isAnonymous:Ke};Object.assign(y,Je)})).apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(y){const p=(0,F.m9)(y);yield eo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function cr(y,p){return[...y.filter(E=>!p.some(D=>D.providerId===E.providerId)),...p]}function ch(y){return y.map(p=>{var{providerId:g}=p,E=fe(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ue(){return(Ue=(0,d.Z)(function*(y,p){const g=yield Ec(y,{},()=>{const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:R}=y.config,$=Ce(y,D,"/v1/token",`key=${R}`);return Qe.fetch()($,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Me(p.idToken,"internal-error"),Me(void 0!==p.idToken,"internal-error"),Me(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=ko(y);return Me(p,"internal-error"),Me(void 0!==p.exp,"internal-error"),Me(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,d.Z)(function*(){return Me(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:$}=yield function(y,p){return Ue.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(D,R,Number($))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:D,expirationTime:R}=g,$=new gt;return E&&(Me("string"==typeof E,"internal-error",{appName:p}),$.refreshToken=E),D&&(Me("string"==typeof D,"internal-error",{appName:p}),$.accessToken=D),R&&(Me("number"==typeof R,"internal-error",{appName:p}),$.expirationTime=R),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new gt,this.toJSON())}_performRefresh(){return lr("not implemented")}}function qt(y,p){Me("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Dn{constructor(p){var{uid:g,auth:E,stsTokenManager:D}=p,R=fe(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ca(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new lh(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const E=yield _i(g,g.stsTokenManager.getToken(g.auth,p));return Me(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function(y){return Po.apply(this,arguments)}(this,p)}reload(){return function(y){return Es.apply(this,arguments)}(this)}_assign(p){this!==p&&(Me(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Dn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,d.Z)(function*(){let D=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),D=!0),g&&(yield eo(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield _i(p,function(y,p){return Xt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,D,R,$,se,ke,Oe,Ke;const Je=null!==(E=g.displayName)&&void 0!==E?E:void 0,kt=null!==(D=g.email)&&void 0!==D?D:void 0,Zn=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,yo=null!==($=g.photoURL)&&void 0!==$?$:void 0,ud=null!==(se=g.tenantId)&&void 0!==se?se:void 0,Kp=null!==(ke=g._redirectEventId)&&void 0!==ke?ke:void 0,Za=null!==(Oe=g.createdAt)&&void 0!==Oe?Oe:void 0,$h=null!==(Ke=g.lastLoginAt)&&void 0!==Ke?Ke:void 0,{uid:Gh,emailVerified:v_,isAnonymous:qh,providerData:zh,stsTokenManager:Ot}=g;Me(Gh&&Ot,p,"internal-error");const pb=gt.fromJSON(this.name,Ot);Me("string"==typeof Gh,p,"internal-error"),qt(Je,p.name),qt(kt,p.name),Me("boolean"==typeof v_,p,"internal-error"),Me("boolean"==typeof qh,p,"internal-error"),qt(Zn,p.name),qt(yo,p.name),qt(ud,p.name),qt(Kp,p.name),qt(Za,p.name),qt($h,p.name);const Ya=new Dn({uid:Gh,auth:p,email:kt,emailVerified:v_,displayName:Je,isAnonymous:qh,photoURL:yo,phoneNumber:Zn,tenantId:ud,stsTokenManager:pb,createdAt:Za,lastLoginAt:$h});return zh&&Array.isArray(zh)&&(Ya.providerData=zh.map(b_=>Object.assign({},b_))),Kp&&(Ya._redirectEventId=Kp),Ya}static _fromIdTokenResponse(p,g,E=!1){return(0,d.Z)(function*(){const D=new gt;D.updateFromServerResponse(g);const R=new Dn({uid:g.localId,auth:p,stsTokenManager:D,isAnonymous:E});return yield eo(R),R})()}}const hn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,E){var D=this;return(0,d.Z)(function*(){D.storage[g]=E})()}_get(g){var E=this;return(0,d.Z)(function*(){const D=E.storage[g];return void 0===D?null:D})()}_remove(g){var E=this;return(0,d.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return y.type="NONE",y})();function er(y,p,g){return`firebase:${y}:${p}:${g}`}class rn{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:D,name:R}=this.auth;this.fullUserKey=er(this.userKey,D.apiKey,R),this.fullPersistenceKey=er("persistence",D.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Dn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,d.Z)(function*(){if(!g.length)return new rn(Ut(hn),p,E);const D=(yield Promise.all(g.map(function(){var Oe=(0,d.Z)(function*(Ke){if(yield Ke._isAvailable())return Ke});return function(Ke){return Oe.apply(this,arguments)}}()))).filter(Oe=>Oe);let R=D[0]||Ut(hn);const $=er(E,p.config.apiKey,p.name);let se=null;for(const Oe of g)try{const Ke=yield Oe._get($);if(Ke){const Je=Dn._fromJSON(p,Ke);Oe!==R&&(se=Je),R=Oe;break}}catch(Ke){}const ke=D.filter(Oe=>Oe._shouldAllowMigration);return R._shouldAllowMigration&&ke.length?(R=ke[0],se&&(yield R._set($,se.toJSON())),yield Promise.all(g.map(function(){var Oe=(0,d.Z)(function*(Ke){if(Ke!==R)try{yield Ke._remove($)}catch(Je){}});return function(Ke){return Oe.apply(this,arguments)}}())),new rn(R,p,E)):new rn(R,p,E)})()}}function Vn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(no(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ia(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Li(p))return"Blackberry";if(Sr(p))return"Webos";if(mt(p))return"Safari";if((p.includes("chrome/")||Ta(p))&&!p.includes("edge/"))return"Chrome";if(Vo(p))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ia(y=(0,F.z$)()){return/firefox\//i.test(y)}function mt(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ta(y=(0,F.z$)()){return/crios\//i.test(y)}function no(y=(0,F.z$)()){return/iemobile/i.test(y)}function Vo(y=(0,F.z$)()){return/android/i.test(y)}function Li(y=(0,F.z$)()){return/blackberry/i.test(y)}function Sr(y=(0,F.z$)()){return/webos/i.test(y)}function Ji(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)}function Da(y=(0,F.z$)()){return Ji(y)||Vo(y)||Sr(y)||Li(y)||/windows phone/i.test(y)||no(y)}function bl(y,p=[]){let g;switch(y){case"Browser":g=Vn((0,F.z$)());break;case"Worker":g=`${Vn((0,F.z$)())}-${y}`;break;default:g=y}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${E}`}class uh{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ws(this),this.idTokenSubscription=new ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=Ut(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D,R;E._deleted||(E.persistenceManager=yield rn.create(E,p),!E._deleted&&((null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var E;let D=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,$=null==D?void 0:D._redirectEventId,se=yield g.tryRedirectSignIn(p);(!R||R===$)&&(null==se?void 0:se.user)&&(D=se.user)}return D?D._redirectEventId?(Me(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===D._redirectEventId?g.directlySetCurrentUser(D):g.reloadAndSetCurrentUserOrClear(D)):g.reloadAndSetCurrentUserOrClear(D):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(D){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield eo(p)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const E=p?(0,F.m9)(p):null;return E&&Me(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&Me(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Ut(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,d.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(g);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&Ut(p)||g._popupRedirectResolver;Me(E,g,"argument-error"),g.redirectPersistenceManager=yield rn.create(g,[Ut(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var E,D;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,D){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Me($,this,"internal-error"),$.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,E,D):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=bl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function On(y){return(0,F.m9)(y)}class ws{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wn(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function es(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ro{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return lr("not implemented")}_getIdTokenResponse(p){return lr("not implemented")}_linkToIdToken(p,g){return lr("not implemented")}_getReauthenticationResolver(p){return lr("not implemented")}}function El(y,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:resetPassword",Jt(y,p))})).apply(this,arguments)}function vi(y,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pm(y,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:update",Jt(y,p))})).apply(this,arguments)}function hh(){return(hh=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signInWithPassword",Jt(y,p))})).apply(this,arguments)}function Pu(y,p){return fh.apply(this,arguments)}function fh(){return(fh=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:sendOobCode",Jt(y,p))})).apply(this,arguments)}function km(y,p){return ph.apply(this,arguments)}function ph(){return(ph=(0,d.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function gp(y,p){return mp.apply(this,arguments)}function mp(){return(mp=(0,d.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function gh(y,p){return ku.apply(this,arguments)}function ku(){return(ku=(0,d.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function mh(y,p){return _h.apply(this,arguments)}function _h(){return(_h=(0,d.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signInWithEmailLink",Jt(y,p))})).apply(this,arguments)}function Cl(){return(Cl=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signInWithEmailLink",Jt(y,p))})).apply(this,arguments)}class xa extends ro{constructor(p,g,E,D=null){super("password",E),this._email=p,this._password=g,this._tenantId=D}static _fromEmailAndPassword(p,g){return new xa(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new xa(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return hh.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return wl.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:$t(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return vi(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(y,p){return Cl.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:$t(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Un(y,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signInWithIdp",Jt(y,p))})).apply(this,arguments)}class An extends ro{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new An(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):$t("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D}=g,R=fe(g,["providerId","signInMethod"]);if(!E||!D)return null;const $=new An(E,D);return $.idToken=R.idToken||void 0,$.accessToken=R.accessToken||void 0,$.secret=R.secret,$.nonce=R.nonce,$.pendingToken=R.pendingToken||null,$}_getIdTokenResponse(p){return Un(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Un(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Un(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function ts(y,p){return Il.apply(this,arguments)}function Il(){return(Il=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:sendVerificationCode",Jt(y,p))})).apply(this,arguments)}function vh(){return(vh=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,p))})).apply(this,arguments)}function Lu(){return(Lu=(0,d.Z)(function*(y,p){const g=yield z(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,p));if(g.temporaryProof)throw $e(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Dl={USER_NOT_FOUND:"user-not-found"};function Ra(){return(Ra=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Dl)})).apply(this,arguments)}class Bo extends ro{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Bo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Bo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return vh.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return Lu.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return Ra.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:D}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}=p;return E||g||D||R?new Bo({verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}):null}}class io{constructor(p){var g,E,D,R,$,se;const ke=(0,F.zd)((0,F.pd)(p)),Oe=null!==(g=ke.apiKey)&&void 0!==g?g:null,Ke=null!==(E=ke.oobCode)&&void 0!==E?E:null,Je=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=ke.mode)&&void 0!==D?D:null);Me(Oe&&Ke&&Je,"argument-error"),this.apiKey=Oe,this.operation=Je,this.code=Ke,this.continueUrl=null!==(R=ke.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==($=ke.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(se=ke.tenantId)&&void 0!==se?se:null}static parseLink(p){const g=function(y){const p=(0,F.zd)((0,F.pd)(y)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||g||p||y}(p);try{return new io(g)}catch(E){return null}}}let Cs=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,E){return xa._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const D=io.parseLink(E);return Me(D,"argument-error"),xa._fromEmailAndCode(g,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ri{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ns extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class on extends ns{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Me("providerId"in g&&"signInMethod"in g,"argument-error"),An._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Me(p.idToken||p.accessToken,"argument-error"),An._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return on.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return on.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:R,nonce:$,providerId:se}=p;if(!E&&!D&&!g&&!R||!se)return null;try{return new on(se)._credential({idToken:g,accessToken:E,nonce:$,pendingToken:R})}catch(ke){return null}}}let wc=(()=>{class y extends ns{constructor(){super("facebook.com")}static credential(g){return An._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ml=(()=>{class y extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return An._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:D}=g;if(!E&&!D)return null;try{return y.credential(E,D)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),bh=(()=>{class y extends ns{constructor(){super("github.com")}static credential(g){return An._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Oa extends ro{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Un(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Un(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Un(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D,pendingToken:R}=g;return E&&D&&R&&E===D?new Oa(E,R):null}static _create(p,g){return new Oa(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jo extends ri{constructor(p){Me(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return jo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return jo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Oa.fromJSON(p);return Me(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return Oa._create(E,g)}catch(D){return null}}}let Vr=(()=>{class y extends ns{constructor(){super("twitter.com")}static credential(g,E){return An._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=g;if(!E||!D)return null;try{return y.credential(E,D)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wh(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signUp",Jt(y,p))})).apply(this,arguments)}class Kn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,D=!1){return(0,d.Z)(function*(){const R=yield Dn._fromIdTokenResponse(p,E,D),$=ur(E);return new Kn({user:R,providerId:$,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const D=ur(E);return new Kn({user:p,providerId:D,_tokenResponse:E,operationType:g})})()}}function ur(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Na(){return(Na=(0,d.Z)(function*(y){var p;const g=On(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Kn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield wh(g,{returnSecureToken:!0}),D=yield Kn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class xl extends F.ZR{constructor(p,g,E,D){var R;super(g.code,g.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,xl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,D){return new xl(p,g,E,D)}}function Is(y,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?xl._fromErrorAndOperation(y,R,p,E):R})}function Rl(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ct(){return(ct=(0,d.Z)(function*(y,p){const g=(0,F.m9)(y);yield so(!0,g,p);const{providerUserInfo:E}=yield qn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),D=Rl(E||[]);return g.providerData=g.providerData.filter(R=>D.has(R.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ch(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(y,p,g=!1){const E=yield _i(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Kn._forOperation(y,"link",E)})).apply(this,arguments)}function so(y,p,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(y,p,g){yield eo(p);const D=!1===y?"provider-already-linked":"no-such-provider";Me(Rl(p.providerData).has(g)===y,p.auth,D)})).apply(this,arguments)}function Tc(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(y,p,g=!1){const{auth:E}=y,D="reauthenticate";try{const R=yield _i(y,Is(E,D,p,y),g);Me(R.idToken,E,"internal-error");const $=ko(R.idToken);Me($,E,"internal-error");const{sub:se}=$;return Me(y.uid===se,E,"user-mismatch"),Kn._forOperation(y,D,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&$t(E,"user-mismatch"),R}})).apply(this,arguments)}function Vu(y,p){return De.apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(y,p,g=!1){const E="signIn",D=yield Is(y,E,p),R=yield Kn._fromIdTokenResponse(y,E,D);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function St(y,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,d.Z)(function*(y,p){return Vu(On(y),p)})).apply(this,arguments)}function Mn(y,p){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,d.Z)(function*(y,p){const g=(0,F.m9)(y);return yield so(!1,g,p.providerId),Ch(g,p)})).apply(this,arguments)}function $o(y,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(y,p){return Tc((0,F.m9)(y),p)})).apply(this,arguments)}function Nl(y,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(y,p){return z(y,"POST","/v1/accounts:signInWithCustomToken",Jt(y,p))})).apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(y,p){const g=On(y),E=yield Nl(g,{token:p,returnSecureToken:!0}),D=yield Kn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class is{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ss._fromServerResponse(p,g):$t(p,"internal-error")}}class ss extends is{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ss(g)}}function nr(y,p,g){var E;Me((null===(E=g.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Me(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Me(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Me(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Pa(){return(Pa=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y),D={requestType:"PASSWORD_RESET",email:p};g&&nr(E,D,g),yield gp(E,D)})).apply(this,arguments)}function Ui(){return(Ui=(0,d.Z)(function*(y,p,g){yield El((0,F.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(y,p){yield Pm((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function Mc(y,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(y,p){const g=(0,F.m9)(y),E=yield El(g,{oobCode:p}),D=E.requestType;switch(Me(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(E.mfaInfo,g,"internal-error");default:Me(E.email,g,"internal-error")}let R=null;return E.mfaInfo&&(R=is._fromServerResponse(On(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:D}})).apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(y,p){const{data:g}=yield Mc((0,F.m9)(y),p);return g.email})).apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(y,p,g){const E=On(y),D=yield wh(E,{returnSecureToken:!0,email:p,password:g}),R=yield Kn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y),D={requestType:"EMAIL_SIGNIN",email:p};Me(g.handleCodeInApp,E,"argument-error"),g&&nr(E,D,g),yield gh(E,D)})).apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y),D=Cs.credentialWithLink(p,g||at());return Me(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),St(E,D)})).apply(this,arguments)}function Lm(y,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:createAuthUri",Jt(y,p))})).apply(this,arguments)}function bp(){return(bp=(0,d.Z)(function*(y,p){const E={identifier:p,continueUri:xe()?at():"http://localhost"},{signinMethods:D}=yield Lm((0,F.m9)(y),E);return D||[]})).apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(y,p){const g=(0,F.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&nr(g.auth,D,p);const{email:R}=yield km(g.auth,D);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&nr(E.auth,R,g);const{email:$}=yield mh(E.auth,R);$!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ep(y,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(y,p){return Tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,F.m9)(y),R={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},$=yield _i(E,Ep(E.auth,R));E.displayName=$.displayName||null,E.photoURL=$.photoUrl||null;const se=E.providerData.find(({providerId:ke})=>"password"===ke);se&&(se.displayName=E.displayName,se.photoURL=E.photoURL),yield E._updateTokensIfNecessary($)})).apply(this,arguments)}function Ll(y,p,g){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,d.Z)(function*(y,p,g){const{auth:E}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const $=yield _i(y,vi(E,R));yield y._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Go{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class Fc extends Go{constructor(p,g,E,D){super(p,g,E),this.username=D}}class lo extends Go{constructor(p,g){super(p,"facebook.com",g)}}class qo extends Fc{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Vm extends Go{constructor(p,g){super(p,"google.com",g)}}class wp extends Fc{constructor(p,g,E){super(p,"twitter.com",g,E)}}function dr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:E}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const $=null===(g=null===(p=ko(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new Go(R,"anonymous"!==$&&"custom"!==$?$:null)}if(!E)return null;switch(E){case"facebook.com":return new lo(R,D);case"github.com":return new qo(R,D);case"google.com":return new Vm(R,D);case"twitter.com":return new wp(R,D,y.screenName||null);case"custom":case"anonymous":return new Go(R,null);default:return new Go(R,E,D)}}(g)}class Bi{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Bi("enroll",p)}static _fromMfaPendingCredential(p){return new Bi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Bi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Bi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Uc{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=On(p),D=g.customData._serverResponse,R=(D.mfaInfo||[]).map(se=>is._fromServerResponse(E,se));Me(D.mfaPendingCredential,E,"internal-error");const $=Bi._fromMfaPendingCredential(D.mfaPendingCredential);return new Uc($,R,function(){var se=(0,d.Z)(function*(ke){const Oe=yield ke._process(E,$);delete D.mfaInfo,delete D.mfaPendingCredential;const Ke=Object.assign(Object.assign({},D),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(g.operationType){case"signIn":const Je=yield Kn._fromIdTokenResponse(E,g.operationType,Ke);return yield E._updateCurrentUser(Je.user),Je;case"reauthenticate":return Me(g.user,E,"internal-error"),Kn._forOperation(g.user,g.operationType,Ke);default:$t(E,"internal-error")}});return function(ke){return se.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function Bl(y,p){return Tt(y,"POST","/v2/accounts/mfaEnrollment:start",Jt(y,p))}class jc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>is._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new jc(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Bi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var E=this;return(0,d.Z)(function*(){const D=p,R=yield E.getSession(),$=yield _i(E.user,D._process(E.user.auth,R,g));return yield E.user._updateTokensIfNecessary($),E.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,D=yield g.user.getIdToken(),R=yield _i(g.user,function(y,p){return Tt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(y,p))}(g.user.auth,{idToken:D,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==E),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const Wo=new WeakMap,La="__sak";class en{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(La,"1"),this.storage.removeItem(La),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ko=(()=>{class y extends en{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,F.z$)();return mt(y)||Ji(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Da(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),R=this.localCache[E];D!==R&&g(E,R,D)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((se,ke,Oe)=>{this.notifyListeners(se,Oe)});const D=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(D);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!E)return}const R=()=>{const se=this.storage.getItem(D);!E&&this.localCache[D]===se||this.notifyListeners(D,se)},$=this.storage.getItem(D);(0,F.w1)()&&10===document.documentMode&&$!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var D=()=>super._set,R=this;return(0,d.Z)(function*(){yield D().call(R,g,E),R.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,D=this;return(0,d.Z)(function*(){const R=yield E().call(D,g);return D.localCache[g]=JSON.stringify(R),R})()}_remove(g){var E=()=>super._remove,D=this;return(0,d.Z)(function*(){yield E().call(D,g),delete D.localCache[g]})()}}return y.type="LOCAL",y})(),hr=(()=>{class y extends en{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return y.type="SESSION",y})();let os=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(R=>R.isListeningto(g));if(E)return E;const D=new y(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,d.Z)(function*(){const D=g,{eventId:R,eventType:$,data:se}=D.data,ke=E.handlersMap[$];if(!(null==ke?void 0:ke.size))return;D.ports[0].postMessage({status:"ack",eventId:R,eventType:$});const Oe=Array.from(ke).map(function(){var Je=(0,d.Z)(function*(kt){return kt(D.origin,se)});return function(kt){return Je.apply(this,arguments)}}()),Ke=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(Oe);D.ports[0].postMessage({status:"done",eventId:R,eventType:$,response:Ke})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Va(y="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return y+g}class Bu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var D=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let $,se;return new Promise((ke,Oe)=>{const Ke=Va("",20);R.port1.start();const Je=setTimeout(()=>{Oe(new Error("unsupported_event"))},E);se={messageChannel:R,onMessage(kt){const Zn=kt;if(Zn.data.eventId===Ke)switch(Zn.data.status){case"ack":clearTimeout(Je),$=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout($),ke(Zn.data.response);break;default:clearTimeout(Je),clearTimeout($),Oe(new Error("invalid_response"))}}},D.handlers.add(se),R.port1.addEventListener("message",se.onMessage),D.target.postMessage({eventType:p,eventId:Ke,data:g},[R.port2])}).finally(()=>{se&&D.removeMessageHandler(se)})})()}}function Nn(){return window}function Hu(){return void 0!==Nn().WorkerGlobalScope&&"function"==typeof Nn().importScripts}function Br(){return(Br=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const wi="firebaseLocalStorageDb",Yo="firebaseLocalStorage",$c="fbase_key";class co{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ls(y,p){return y.transaction([Yo],p?"readwrite":"readonly").objectStore(Yo)}function uo(){const y=indexedDB.open(wi,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Yo,{keyPath:$c})}catch(D){g(D)}}),y.addEventListener("success",(0,d.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Yo)?p(E):(E.close(),yield function(){const y=indexedDB.deleteDatabase(wi);return new co(y).toPromise()}(),p(yield uo()))}))})}function Ba(y,p,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,d.Z)(function*(y,p,g){const E=ls(y,!0).put({[$c]:p,value:g});return new co(E).toPromise()})).apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(y,p){const g=ls(y,!1).get(p),E=yield new co(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function $u(y,p){const g=ls(y,!0).delete(p);return new co(g).toPromise()}const ln=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield uo()),g.db})()}_withRetries(g){var E=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const R=yield E._openDb();return yield g(R)}catch(R){if(D++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Hu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=os._getInstance(Hu()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(D,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(D,R){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(D,R){return["keyChanged"]});return function(D,R){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var E,D;if(g.activeServiceWorker=yield function(){return Br.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Bu(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=R[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield uo();return yield Ba(g,La,"1"),yield $u(g,La),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(R=>Ba(R,g,E)),D.localCache[g]=E,D.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,d.Z)(function*(){const D=yield E._withRetries(R=>function(y,p){return xs.apply(this,arguments)}(R,g));return E.localCache[g]=D,D})()}_remove(g){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(D=>$u(D,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const E=yield g._withRetries($=>{const se=ls($,!1).getAll();return new co(se).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const D=[],R=new Set;for(const{fbase_key:$,value:se}of E)R.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(se)&&(g.notifyListeners($,se),D.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!R.has($)&&(g.notifyListeners($,null),D.push($));return D})()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Rh(y,p){return Tt(y,"POST","/v2/accounts/mfaSignIn:start",Jt(y,p))}function qu(){return(qu=(0,d.Z)(function*(y){return(yield Tt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qc(y){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=p,E.onerror=D=>{const R=Mt("internal-error");R.customData=D,g(R)},E.type="text/javascript",E.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(E)})}function Wu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ho=1e12;class Yu{constructor(p){this.auth=p,this.counter=ho,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new ql(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||ho;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ho))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var E;return null===(E=g._widgets.get(p||ho))||void 0===E||E.execute(),""})()}}class ql{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;Me(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vt=Wu("rcb"),Ci=new Ht(3e4,6e4);class zc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nn().grecaptcha}load(p,g=""){return Me((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Nn().grecaptcha):new Promise((E,D)=>{const R=Nn().setTimeout(()=>{D(Mt(p,"network-request-failed"))},Ci.get());Nn()[Vt]=()=>{Nn().clearTimeout(R),delete Nn()[Vt];const se=Nn().grecaptcha;if(!se)return void D(Mt(p,"internal-error"));const ke=se.render;se.render=(Oe,Ke)=>{const Je=ke(Oe,Ke);return this.counter++,Je},this.hostLanguage=g,E(se)},qc(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Vt,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),D(Mt(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Nn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jr{load(p){return(0,d.Z)(function*(){return new Yu(p)})()}clearedOneInstance(){}}const ji="recaptcha",Ii={theme:"light",type:"image"};class cs{constructor(p,g=Object.assign({},Ii),E){this.parameters=g,this.type=ji,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(E),this.isInvisible="invisible"===this.parameters.size,Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;Me(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jr:new zc,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(R=>{const $=se=>{!se||(p.tokenChangeListeners.delete($),R(se))};p.tokenChangeListeners.add($),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=Nn()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){Me(xe()&&!Hu(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return qu.apply(this,arguments)}(p.auth);Me(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ja{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Bo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Qu(){return(Qu=(0,d.Z)(function*(y,p,g){const E=On(y),D=yield S(E,p,(0,F.m9)(g));return new ja(D,R=>St(E,R))})).apply(this,arguments)}function Ap(){return(Ap=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y);yield so(!1,E,"phone");const D=yield S(E.auth,p,(0,F.m9)(g));return new ja(D,R=>Mn(E,R))})).apply(this,arguments)}function I(){return(I=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y),D=yield S(E.auth,p,(0,F.m9)(g));return new ja(D,R=>$o(E,R))})).apply(this,arguments)}function S(y,p,g){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(y,p,g){var E;const D=yield g.verify();try{let R;if(Me("string"==typeof D,y,"argument-error"),Me(g.type===ji,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const $=R.session;if("phoneNumber"in R)return Me("enroll"===$.type,y,"internal-error"),(yield Bl(y,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Me("signin"===$.type,y,"internal-error");const se=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return Me(se,y,"missing-multi-factor-info"),(yield Rh(y,{mfaPendingCredential:$.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield ts(y,{phoneNumber:R.phoneNumber,recaptchaToken:D});return $}}finally{g._reset()}})).apply(this,arguments)}function J(){return(J=(0,d.Z)(function*(y,p){yield Ch((0,F.m9)(y),p)})).apply(this,arguments)}let de=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=On(g)}verifyPhoneNumber(g,E){return S(this.auth,g,(0,F.m9)(E))}static credential(g,E){return Bo._fromVerification(g,E)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:D}=g;return E&&D?Bo._fromTokenResponse(E,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Se(y,p){return p?Ut(p):(Me(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class We extends ro{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Un(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Un(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Un(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ge(y){return Vu(y.auth,new We(y),y.bypassAuthState)}function Pt(y){const{auth:p,user:g}=y;return Me(g,p,"internal-error"),Tc(g,new We(y),y.bypassAuthState)}function Kt(y){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(y){const{auth:p,user:g}=y;return Me(g,p,"internal-error"),Ch(g,new We(y),y.bypassAuthState)})).apply(this,arguments)}class sr{constructor(p,g,E,D,R=!1){this.auth=p,this.resolver=E,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(E,D){p.pendingPromise={resolve:E,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(E,D){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:R,tenantId:$,error:se,type:ke}=p;if(se)return void g.reject(se);const Oe={auth:g.auth,requestUri:E,sessionId:D,tenantId:$||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ke)(Oe))}catch(Ke){g.reject(Ke)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ge;case"linkViaPopup":case"linkViaRedirect":return Kt;case"reauthViaPopup":case"reauthViaRedirect":return Pt;default:$t(this.auth,"internal-error")}}resolve(p){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fr=new Ht(2e3,1e4);function Jo(){return(Jo=(0,d.Z)(function*(y,p,g){const E=On(y);kr(y,p,ri);const D=Se(E,g);return new Kc(E,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y);kr(E.auth,p,ri);const D=Se(E.auth,g);return new Kc(E.auth,"reauthViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y);kr(E.auth,p,ri);const D=Se(E.auth,g);return new Kc(E.auth,"linkViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}let Kc=(()=>{class y extends sr{constructor(g,E,D,R,$){super(g,E,R,$),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const E=yield g.execute();return Me(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,d.Z)(function*(){Ln(1===g.filter.length,"Popup operations only handle one event");const E=Va();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(Mt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Mt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,fr.get())};g()}}return y.currentPopupAction=null,y})();const Xo=new Map;class Nh extends sr{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let E=Xo.get(g.auth._key());if(!E){try{const R=(yield function(y,p){return Zc.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(R)}catch(D){E=()=>Promise.reject(D)}Xo.set(g.auth._key(),E)}return g.bypassAuthState||Xo.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const D=yield E.auth._redirectUserForId(p.eventId);if(D)return E.user=D,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Zc(){return(Zc=(0,d.Z)(function*(y,p){const g=Wl(p),E=go(y);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(g));return yield E._remove(g),D})).apply(this,arguments)}function cn(y,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.Z)(function*(y,p){return go(y)._set(Wl(p),"true")})).apply(this,arguments)}function go(y){return Ut(y._redirectPersistence)}function Wl(y){return er("pendingRedirect",y.config.apiKey,y.name)}function Yc(){return(Yc=(0,d.Z)(function*(y,p,g){const E=On(y);kr(y,p,ri);const D=Se(E,g);return yield cn(D,E),D._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y);kr(E.auth,p,ri);const D=Se(E.auth,g);yield cn(D,E.auth);const R=yield Gv(E);return D._openRedirect(E.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Wm(){return(Wm=(0,d.Z)(function*(y,p,g){const E=(0,F.m9)(y);kr(E.auth,p,ri);const D=Se(E.auth,g);yield so(!1,E,p.providerId),yield cn(D,E.auth);const R=yield Gv(E);return D._openRedirect(E.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(y,p){return yield On(y)._initializationPromise,qa(y,p,!1)})).apply(this,arguments)}function qa(y,p){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,d.Z)(function*(y,p,g=!1){const E=On(y),D=Se(E,p),$=yield new Nh(E,D,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield E._persistUserIfCurrent($.user),yield E._setRedirectUser(null,p)),$})).apply(this,arguments)}function Gv(y){return Km.apply(this,arguments)}function Km(){return(Km=(0,d.Z)(function*(y){const p=Va(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Jc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qv(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!qv(p)){const D=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Mt(this.auth,D))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Op(p))}saveEventToCache(p){this.cachedEventUids.add(Op(p)),this.lastProcessedEventTime=Date.now()}}function Op(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function qv({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Np(y){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,d.Z)(function*(y,p={}){return Tt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Wv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kv=/^https?/;function eu(){return(eu=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Np(y);for(const g of p)try{if(Ym(g))return}catch(E){}$t(y,"unauthorized-domain")})).apply(this,arguments)}function Ym(y){const p=at(),{protocol:g,hostname:E}=new URL(p);if(y.startsWith("chrome-extension://")){const $=new URL(y);return""===$.hostname&&""===E?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===E}if(!Kv.test(g))return!1;if(Wv.test(y))return E===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const Kl=new Ht(3e4,6e4);function Qm(){const y=Nn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Pp=null;function Xu(y){return Pp=Pp||function(y){return new Promise((p,g)=>{var E,D,R;function $(){Qm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Qm(),g(Mt(y,"network-request-failed"))},timeout:Kl.get()})}if(null===(D=null===(E=Nn().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Nn().gapi)||void 0===R?void 0:R.load)){const se=Wu("iframefcb");return Nn()[se]=()=>{gapi.load?$():g(Mt(y,"network-request-failed"))},qc(`https://apis.google.com/js/api.js?onload=${se}`)}$()}}).catch(p=>{throw Pp=null,p})}(y),Pp}const ed=new Ht(5e3,15e3),e_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zv(y){const p=y.config;Me(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?tt(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:y.name,v:he.SDK_VERSION},D=mo.get(y.config.apiHost);D&&(E.eid=D);const R=y._getFrameworks();return R.length&&(E.fw=R.join(",")),`${g}?${(0,F.xO)(E).slice(1)}`}function Lp(){return(Lp=(0,d.Z)(function*(y){const p=yield Xu(y),g=Nn().gapi;return Me(g,y,"internal-error"),p.open({where:document.body,url:Zv(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e_,dontclear:!0},E=>new Promise(function(){var D=(0,d.Z)(function*(R,$){yield E.restyle({setHideOnLeave:!1});const se=Mt(y,"network-request-failed"),ke=Nn().setTimeout(()=>{$(se)},ed.get());function Oe(){Nn().clearTimeout(ke),R(E)}E.ping(Oe).then(Oe,()=>{$(se)})});return function(R,$){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const Vp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Up{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function td(y,p,g,E,D,R){Me(y.config.authDomain,y,"auth-domain-config-required"),Me(y.config.apiKey,y,"invalid-api-key");const $={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:E,v:he.SDK_VERSION,eventId:D};if(p instanceof ri){p.setDefaultLanguage(y.languageCode),$.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ke,Oe]of Object.entries(R||{}))$[ke]=Oe}if(p instanceof ns){const ke=p.getScopes().filter(Oe=>""!==Oe);ke.length>0&&($.scopes=ke.join(","))}y.tenantId&&($.tid=y.tenantId);const se=$;for(const ke of Object.keys(se))void 0===se[ke]&&delete se[ke];return`${function({config:y}){return y.emulator?tt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(se).slice(1)}`}const r_="webStorageSupport";class kh extends class{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return lr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new kh(p)}_finalizeEnroll(p,g,E){return function(y,p){return Tt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(y,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return Tt(y,"POST","/v2/accounts/mfaSignIn:finalize",Jt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nd=(()=>{class y{constructor(){}static assertion(g){return kh._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Fh="@firebase/auth";class tu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{var D;p((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yl(){return window}function rd(){return(rd=(0,d.Z)(function*(y,p,g){var E;const{BuildInfo:D}=Yl();Ln(p.sessionId,"AuthEvent did not contain a session ID");const R=yield mC(p.sessionId),$={};return Ji()?$.ibi=D.packageName:Vo()?$.apn=D.packageName:$t(y,"operation-not-supported-in-this-environment"),D.displayName&&($.appDisplayName=D.displayName),$.sessionId=R,td(y,g,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,$)})).apply(this,arguments)}function id(){return(id=(0,d.Z)(function*(y){const{BuildInfo:p}=Yl(),g={};Ji()?g.iosBundleId=p.packageName:Vo()?g.androidPackageName=p.packageName:$t(y,"operation-not-supported-in-this-environment"),yield Np(y,g)})).apply(this,arguments)}function sd(){return(sd=(0,d.Z)(function*(y,p,g){const{cordova:E}=Yl();let D=()=>{};try{yield new Promise((R,$)=>{let se=null;function ke(){var Je;R();const kt=null===(Je=E.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof kt&&kt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Oe(){se||(se=window.setTimeout(()=>{$(Mt(y,"redirect-cancelled-by-user"))},2e3))}function Ke(){"visible"===(null==document?void 0:document.visibilityState)&&Oe()}p.addPassiveListener(ke),document.addEventListener("resume",Oe,!1),Vo()&&document.addEventListener("visibilitychange",Ke,!1),D=()=>{p.removePassiveListener(ke),document.removeEventListener("resume",Oe,!1),document.removeEventListener("visibilitychange",Ke,!1),se&&window.clearTimeout(se)}})}finally{D()}})).apply(this,arguments)}function mC(y){return a_.apply(this,arguments)}function a_(){return(a_=(0,d.Z)(function*(y){const p=l_(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function l_(y){if(Ln(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let E=0;E<y.length;E++)g[E]=y.charCodeAt(E);return g}y="Browser",(0,he._registerComponent)(new et.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),{apiKey:D,authDomain:R}=E.options;return($=>{Me(D&&!D.includes(":"),"invalid-api-key",{appName:$.name}),Me(!(null==R?void 0:R.includes(":")),"argument-error",{appName:$.name});const se={apiKey:D,authDomain:R,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bl(y)},ke=new uh($,se);return function(y,p){const g=(null==p?void 0:p.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Ut);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(ke,g),ke})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new et.wA("auth-internal",p=>{const g=On(p.getProvider("auth").getImmediate());return new tu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Fh,"0.19.3",void 0),(0,he.registerVersion)(Fh,"0.19.3","esm2017");class Vh extends Jc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function ib(y){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(y){const p=yield si()._get(od(y));return p&&(yield si()._remove(od(y))),p})).apply(this,arguments)}function d_(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*p.length);y.push(p.charAt(E))}return y.join("")}function si(){return Ut(Ko)}function od(y){return er("authEvent",y.config.apiKey,y.name)}function Uh(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,F.zd)(g.join("?"))}function h_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mt("no-auth-event")}}function za(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function nu(y=(0,F.z$)()){return!("file:"!==za()&&"ionic:"!==za()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function _o(){try{const y=self.localStorage,p=Va();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return jn()&&(0,F.hl)()}return!1}function jn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gp(){return("http:"===za()||"https:"===za()||(0,F.ru)()||nu())&&!((0,F.b$)()||(0,F.UG)())&&_o()&&!jn()}function qp(){return nu()&&"undefined"!=typeof document}function Bh(){return(Bh=(0,d.Z)(function*(){return!!qp()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const $r={LOCAL:"local",NONE:"none",SESSION:"session"},ru=Me,jh="persistence";function Ql(y){return g_.apply(this,arguments)}function g_(){return(g_=(0,d.Z)(function*(y){yield y._initializationPromise;const p=Di(),g=er(jh,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function Di(){return"undefined"!=typeof window?window:null}const cb=Me;class Ka{constructor(){this.browserResolver=Ut(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hr,this._completeRedirectFn=qa}_openPopup(p,g,E,D){var R=this;return(0,d.Z)(function*(){var $;Ln(null===($=R.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const se=td(p,g,E,at(),D);return function(y,p,g,E=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-E)/2,0).toString();let se="";const ke=Object.assign(Object.assign({},Vp),{width:E.toString(),height:D.toString(),top:R,left:$}),Oe=(0,F.z$)().toLowerCase();g&&(se=Ta(Oe)?"_blank":g),Ia(Oe)&&(p=p||"http://localhost",ke.scrollbars="yes");const Ke=Object.entries(ke).reduce((kt,[Zn,yo])=>`${kt}${Zn}=${yo},`,"");if(function(y=(0,F.z$)()){var p;return Ji(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Oe)&&"_self"!==se)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",se),new Up(null);const Je=window.open(p||"",se,Ke);Me(Je,y,"popup-blocked");try{Je.focus()}catch(kt){}return new Up(Je)}(p,se,Va())})()}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(p),y=td(p,g,E,at(),D),Nn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:D,promise:R}=this.eventManagers[g];return D?Promise.resolve(D):(Ln(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const E=yield function(y){return Lp.apply(this,arguments)}(p),D=new Jc(p);return E.register("authEvent",R=>(Me(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:D},g.iframes[p._key()]=E,D})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(r_,{type:r_},D=>{var R;const $=null===(R=null==D?void 0:D[0])||void 0===R?void 0:R[r_];void 0!==$&&g(!!$),$t(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return eu.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Da()||mt()||Ji()}}),this.cordovaResolver=Ut(class{constructor(){this._redirectPersistence=hr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qa}_initialize(p){var g=this;return(0,d.Z)(function*(){const E=p._key();let D=g.eventManagers.get(E);return D||(D=new Vh(p),g.eventManagers.set(E,D),g.attachCallbackListeners(p,D)),D})()}_openPopup(p){$t(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){!function(y){var p,g,E,D,R,$,se,ke,Oe,Ke;const Je=Yl();Me("function"==typeof(null===(p=null==Je?void 0:Je.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(void 0!==(null===(g=null==Je?void 0:Je.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(R=null===(D=null===(E=null==Je?void 0:Je.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(ke=null===(se=null===($=null==Je?void 0:Je.cordova)||void 0===$?void 0:$.plugins)||void 0===se?void 0:se.browsertab)||void 0===ke?void 0:ke.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Ke=null===(Oe=null==Je?void 0:Je.cordova)||void 0===Oe?void 0:Oe.InAppBrowser)||void 0===Ke?void 0:Ke.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const $=yield R._initialize(p);yield $.initialized(),$.resetRedirect(),Xo.clear(),yield R._originValidation(p);const se=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:d_(),postBody:null,tenantId:y.tenantId,error:Mt(y,"no-auth-event")}}(p,E,D);yield function(y,p){return si()._set(od(y),p)}(p,se);const ke=yield function(y,p,g){return rd.apply(this,arguments)}(p,se,g),Oe=yield function(y){const{cordova:p}=Yl();return new Promise(g=>{p.plugins.browsertab.isAvailable(E=>{let D=null;E?p.plugins.browsertab.openUrl(y):D=p.InAppBrowser.open(y,function(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(D)})})}(ke);return function(y,p,g){return sd.apply(this,arguments)}(p,$,Oe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return id.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:E,handleOpenURL:D,BuildInfo:R}=Yl(),$=setTimeout((0,d.Z)(function*(){yield ib(p),g.onEvent(h_())}),500),se=function(){var Ke=(0,d.Z)(function*(Je){clearTimeout($);const kt=yield ib(p);let Zn=null;kt&&(null==Je?void 0:Je.url)&&(Zn=function(y,p){var g,E;const D=function(y){const p=Uh(y),g=p.link?decodeURIComponent(p.link):void 0,E=Uh(g).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Uh(D).link||D||E||g||y}(p);if(D.includes("/__/auth/callback")){const R=Uh(D),$=R.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,se=null===(E=null===(g=null==$?void 0:$.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],ke=se?Mt(se):null;return ke?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(kt,Je.url)),g.onEvent(Zn||h_())});return function(kt){return Ke.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,se);const ke=D,Oe=`${R.packageName.toLowerCase()}://`;Yl().handleOpenURL=function(){var Ke=(0,d.Z)(function*(Je){if(Je.toLowerCase().startsWith(Oe)&&se({url:Je}),"function"==typeof ke)try{ke(Je)}catch(kt){console.error(kt)}});return function(Je){return Ke.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=hr,this._completeRedirectFn=qa}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,E,D)})()}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,E,D)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return qp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cb(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Bh.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function $i(y){return y.unwrap()}function db(y){return Jl(y)}function Jl(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return de.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=Ml;break;case"facebook.com":E=wc;break;case"github.com":E=bh;break;case"twitter.com":E=Vr;break;default:const{oauthIdToken:D,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:se,nonce:ke}=p;return R||$||D||se?se?g.startsWith("saml.")?Oa._create(g,se):An._fromParams({providerId:g,signInMethod:g,pendingToken:se,idToken:D,accessToken:R}):new on(g).credential({idToken:D,accessToken:R,rawNonce:ke}):null}return y instanceof F.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function Gr(y,p){return p.catch(g=>{throw g instanceof F.ZR&&function(y,p){var g;const E=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new zp(y,function(y,p){var g;const E=(0,F.m9)(y),D=p;return Me(p.customData.operationType,E,"argument-error"),Me(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Uc._fromError(E,D)}(y,p));else if(E){const D=Jl(p),R=p;D&&(R.credential=D,R.tenantId=E.tenantId||void 0,R.email=E.email||void 0,R.phoneNumber=E.phoneNumber||void 0)}}(y,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:db(g),additionalUserInfo:dr(g),user:ra.getOrCreate(D)}})}function iu(y,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:E=>Gr(y,g.confirm(E))}})).apply(this,arguments)}class zp{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Gr($i(this.auth),this.resolver.resolveSignIn(p))}}class ra{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,F.m9)(y);return Wo.has(p)||Wo.set(p,jc._fromUser(p)),Wo.get(p)}(p)}static getOrCreate(p){return ra.USER_MAP.has(p)||ra.USER_MAP.set(p,new ra(p)),ra.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return Gr(g.auth,Mn(g._delegate,p))})()}linkWithPhoneNumber(p,g){var E=this;return(0,d.Z)(function*(){return iu(E.auth,function(y,p,g){return Ap.apply(this,arguments)}(E._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return Gr(g.auth,function(y,p,g){return Wc.apply(this,arguments)}(g._delegate,p,Ka))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Ql(On(g.auth)),function(y,p,g){return function(y,p,g){return Wm.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ka)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return Gr(g.auth,$o(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return iu(this.auth,function(y,p,g){return I.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Gr(this.auth,function(y,p,g){return Ns.apply(this,arguments)}(this._delegate,p,Ka))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Ql(On(g.auth)),function(y,p,g){return function(y,p,g){return Hi.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ka)})()}sendEmailVerification(p){return function(y,p){return ii.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function(y,p){return ct.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return Ll((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return Ll((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return J.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return Bn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return kl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ra.USER_MAP=new WeakMap;const cd=Me;let Wp=(()=>{class y{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;cd(D,"invalid-api-key",{appName:g.name});let R=[hn];if("undefined"!=typeof window){R=function(y,p){const g=Di();if(!(null==g?void 0:g.sessionStorage))return[];const E=er(jh,y,p);switch(g.sessionStorage.getItem(E)){case $r.NONE:return[hn];case $r.LOCAL:return[ln,hr];case $r.SESSION:return[hr];default:return[]}}(D,g.name);for(const se of[ln,Ko,hr])R.includes(se)||R.push(se)}cd(D,"invalid-api-key",{appName:g.name});const $="undefined"!=typeof window?Ka:void 0;this._delegate=E.initialize({options:{persistence:R,popupRedirectResolver:$}}),this._delegate._updateErrorMap(Js),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ra.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(y,p,g){const E=On(y);Me(E._canInitEmulator,E,"emulator-config-failed"),Me(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const D=!!(null==g?void 0:g.disableWarnings),R=Wn(p),{host:$,port:se}=function(y){const p=Wn(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const R=D[1];return{host:R,port:es(E.substr(R.length+1))}}{const[R,$]=E.split(":");return{host:R,port:es($)}}}(p);E.config.emulator={url:`${R}//${$}${null===se?"":`:${se}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:$,port:se,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,E)}applyActionCode(g){return function(y,p){return Ac.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Mc(this._delegate,g)}confirmPasswordReset(g,E){return function(y,p,g){return Ui.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var D=this;return(0,d.Z)(function*(){return Gr(D._delegate,function(y,p,g){return Rc.apply(this,arguments)}(D._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return bp.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=io.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){cd(Gp(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(y,p){return Ga.apply(this,arguments)}(g._delegate,Ka);return E?Gr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){On(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,E,D){const{next:R,error:$,complete:se}=__(g,E,D);return this._delegate.onAuthStateChanged(R,$,se)}onIdTokenChanged(g,E,D){const{next:R,error:$,complete:se}=__(g,E,D);return this._delegate.onIdTokenChanged(R,$,se)}sendSignInLinkToEmail(g,E){return function(y,p,g){return Ss.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(y,p,g){return Pa.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,d.Z)(function*(){let D;switch(function(y,p){ru(Object.values($r).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?ru(p!==$r.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?ru(p===$r.NONE,y,"unsupported-persistence-type"):jn()?ru(p===$r.NONE||p===$r.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):ru(p===$r.NONE||_o(),y,"unsupported-persistence-type")}(E._delegate,g),g){case $r.SESSION:D=hr;break;case $r.LOCAL:D=(yield Ut(ln)._isAvailable())?ln:Ko;break;case $r.NONE:D=hn;break;default:return $t("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Gr(this._delegate,function(y){return Na.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Gr(this._delegate,St(this._delegate,g))}signInWithCustomToken(g){return Gr(this._delegate,function(y,p){return Sc.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Gr(this._delegate,function(y,p,g){return St((0,F.m9)(y),Cs.credential(p,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return Gr(this._delegate,function(y,p,g){return Pl.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return iu(this._delegate,function(y,p,g){return Qu.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,d.Z)(function*(){return cd(Gp(),E._delegate,"operation-not-supported-in-this-environment"),Gr(E._delegate,function(y,p,g){return Jo.apply(this,arguments)}(E._delegate,g,Ka))})()}signInWithRedirect(g){var E=this;return(0,d.Z)(function*(){return cd(Gp(),E._delegate,"operation-not-supported-in-this-environment"),yield Ql(E._delegate),function(y,p,g){return function(y,p,g){return Yc.apply(this,arguments)}(y,p,g)}(E._delegate,g,Ka)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return Fa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=$r,y})();function __(y,p,g){let E=y;"function"!=typeof y&&({next:E,error:p,complete:g}=y);const D=E;return{next:$=>D($&&ra.getOrCreate($)),error:p,complete:g}}class Hh{constructor(){this.providerId="phone",this._delegate=new de($i(ne.Z.auth()))}static credential(p,g){return de.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Hh.PHONE_SIGN_IN_METHOD=de.PHONE_SIGN_IN_METHOD,Hh.PROVIDER_ID=de.PROVIDER_ID;const hb=Me;class y_{constructor(p,g,E=ne.Z.app()){var D;hb(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new cs(p,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new et.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new Wp(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cs,FacebookAuthProvider:wc,GithubAuthProvider:bh,GoogleAuthProvider:Ml,OAuthProvider:on,SAMLAuthProvider:jo,PhoneAuthProvider:Hh,PhoneMultiFactorGenerator:nd,RecaptchaVerifier:y_,TwitterAuthProvider:Vr,Auth:Wp,AuthCredential:ro,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.3")}(ne.Z)},6676:function(rt,Ie){!function(U){"use strict";function d(Q){return Array.prototype.slice.call(Q)}function ne(Q){return new Promise(function(Ee,ve){Q.onsuccess=function(){Ee(Q.result)},Q.onerror=function(){ve(Q.error)}})}function F(Q,Ee,ve){var _e,Re=new Promise(function(Ye,Ve){ne(_e=Q[Ee].apply(Q,ve)).then(Ye,Ve)});return Re.request=_e,Re}function he(Q,Ee,ve){var _e=F(Q,Ee,ve);return _e.then(function(Re){if(Re)return new V(Re,_e.request)})}function ie(Q,Ee,ve){ve.forEach(function(_e){Object.defineProperty(Q.prototype,_e,{get:function(){return this[Ee][_e]},set:function(Re){this[Ee][_e]=Re}})})}function oe(Q,Ee,ve,_e){_e.forEach(function(Re){Re in ve.prototype&&(Q.prototype[Re]=function(){return F(this[Ee],Re,arguments)})})}function ge(Q,Ee,ve,_e){_e.forEach(function(Re){Re in ve.prototype&&(Q.prototype[Re]=function(){return this[Ee][Re].apply(this[Ee],arguments)})})}function fe(Q,Ee,ve,_e){_e.forEach(function(Re){Re in ve.prototype&&(Q.prototype[Re]=function(){return he(this[Ee],Re,arguments)})})}function re(Q){this._index=Q}function V(Q,Ee){this._cursor=Q,this._request=Ee}function j(Q){this._store=Q}function ee(Q){this._tx=Q,this.complete=new Promise(function(Ee,ve){Q.oncomplete=function(){Ee()},Q.onerror=function(){ve(Q.error)},Q.onabort=function(){ve(Q.error)}})}function X(Q,Ee,ve){this._db=Q,this.oldVersion=Ee,this.transaction=new ee(ve)}function ue(Q){this._db=Q}ie(re,"_index",["name","keyPath","multiEntry","unique"]),oe(re,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(re,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie(V,"_cursor",["direction","key","primaryKey","value"]),oe(V,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Q){Q in IDBCursor.prototype&&(V.prototype[Q]=function(){var Ee=this,ve=arguments;return Promise.resolve().then(function(){return Ee._cursor[Q].apply(Ee._cursor,ve),ne(Ee._request).then(function(_e){if(_e)return new V(_e,Ee._request)})})})}),j.prototype.createIndex=function(){return new re(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new re(this._store.index.apply(this._store,arguments))},ie(j,"_store",["name","keyPath","indexNames","autoIncrement"]),oe(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ge(j,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},ie(ee,"_tx",["objectStoreNames","mode"]),ge(ee,"_tx",IDBTransaction,["abort"]),X.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},ie(X,"_db",["name","version","objectStoreNames"]),ge(X,"_db",IDBDatabase,["deleteObjectStore","close"]),ue.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},ie(ue,"_db",["name","version","objectStoreNames"]),ge(ue,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Q){[j,re].forEach(function(Ee){Q in Ee.prototype&&(Ee.prototype[Q.replace("open","iterate")]=function(){var ve=d(arguments),_e=ve[ve.length-1],Re=this._store||this._index,Ye=Re[Q].apply(Re,ve.slice(0,-1));Ye.onsuccess=function(){_e(Ye.result)}})})}),[re,j].forEach(function(Q){Q.prototype.getAll||(Q.prototype.getAll=function(Ee,ve){var _e=this,Re=[];return new Promise(function(Ye){_e.iterateCursor(Ee,function(Ve){Ve?(Re.push(Ve.value),void 0===ve||Re.length!=ve?Ve.continue():Ye(Re)):Ye(Re)})})})}),U.openDb=function(Q,Ee,ve){var _e=F(indexedDB,"open",[Q,Ee]),Re=_e.request;return Re&&(Re.onupgradeneeded=function(Ye){ve&&ve(new X(Re.result,Ye.oldVersion,Re.transaction))}),_e.then(function(Ye){return new ue(Ye)})},U.deleteDb=function(Q){return F(indexedDB,"deleteDatabase",[Q])},Object.defineProperty(U,"__esModule",{value:!0})}(Ie)},7574:(rt,Ie,U)=>{"use strict";U.d(Ie,{y:()=>j});var d=U(7393),F=U(9181),he=U(6490),oe=U(6554),ge=U(4487);var V=U(2494);let j=(()=>{class X{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const me=new X;return me.source=this,me.operator=Te,me}subscribe(Te,me,Q){const{operator:Ee}=this,ve=function(X,ue,Te){if(X){if(X instanceof d.L)return X;if(X[F.b])return X[F.b]()}return X||ue||Te?new d.L(X,ue,Te):new d.L(he.c)}(Te,me,Q);if(ve.add(Ee?Ee.call(ve,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),V.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(Te){try{return this._subscribe(Te)}catch(me){V.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=me),function(X){for(;X;){const{closed:ue,destination:Te,isStopped:me}=X;if(ue||me)return!1;X=Te&&Te instanceof d.L?Te:null}return!0}(Te)?Te.error(me):console.warn(me)}}forEach(Te,me){return new(me=ee(me))((Q,Ee)=>{let ve;ve=this.subscribe(_e=>{try{Te(_e)}catch(Re){Ee(Re),ve&&ve.unsubscribe()}},Ee,Q)})}_subscribe(Te){const{source:me}=this;return me&&me.subscribe(Te)}[oe.L](){return this}pipe(...Te){return 0===Te.length?this:function(X){return 0===X.length?ge.y:1===X.length?X[0]:function(Te){return X.reduce((me,Q)=>Q(me),Te)}}(Te)(this)}toPromise(Te){return new(Te=ee(Te))((me,Q)=>{let Ee;this.subscribe(ve=>Ee=ve,ve=>Q(ve),()=>me(Ee))})}}return X.create=ue=>new X(ue),X})();function ee(X){if(X||(X=V.v.Promise||Promise),!X)throw new Error("no Promise impl found");return X}},6490:(rt,Ie,U)=>{"use strict";U.d(Ie,{c:()=>F});var d=U(2494),ne=U(4449);const F={closed:!0,next(he){},error(he){if(d.v.useDeprecatedSynchronousErrorHandling)throw he;(0,ne.z)(he)},complete(){}}},9765:(rt,Ie,U)=>{"use strict";U.d(Ie,{Yc:()=>ge,xQ:()=>fe});var d=U(7574),ne=U(7393),F=U(5319),he=U(7971),ie=U(8858),oe=U(9181);class ge extends ne.L{constructor(j){super(j),this.destination=j}}let fe=(()=>{class V extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new ge(this)}lift(ee){const X=new re(this,this);return X.operator=ee,X}next(ee){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:X}=this,ue=X.length,Te=X.slice();for(let me=0;me<ue;me++)Te[me].next(ee)}}error(ee){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:X}=this,ue=X.length,Te=X.slice();for(let me=0;me<ue;me++)Te[me].error(ee);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:ee}=this,X=ee.length,ue=ee.slice();for(let Te=0;Te<X;Te++)ue[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new he.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new he.N;return this.hasError?(ee.error(this.thrownError),F.w.EMPTY):this.isStopped?(ee.complete(),F.w.EMPTY):(this.observers.push(ee),new ie.W(this,ee))}asObservable(){const ee=new d.y;return ee.source=this,ee}}return V.create=(j,ee)=>new re(j,ee),V})();class re extends fe{constructor(j,ee){super(),this.destination=j,this.source=ee}next(j){const{destination:ee}=this;ee&&ee.next&&ee.next(j)}error(j){const{destination:ee}=this;ee&&ee.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:ee}=this;return ee?this.source.subscribe(j):F.w.EMPTY}}},8858:(rt,Ie,U)=>{"use strict";U.d(Ie,{W:()=>ne});var d=U(5319);class ne extends d.w{constructor(he,ie){super(),this.subject=he,this.subscriber=ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,ie=he.observers;if(this.subject=null,!ie||0===ie.length||he.isStopped||he.closed)return;const oe=ie.indexOf(this.subscriber);-1!==oe&&ie.splice(oe,1)}}},7393:(rt,Ie,U)=>{"use strict";U.d(Ie,{L:()=>ge});var d=U(9105),ne=U(6490),F=U(5319),he=U(9181),ie=U(2494),oe=U(4449);class ge extends F.w{constructor(V,j,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!V){this.destination=ne.c;break}if("object"==typeof V){V instanceof ge?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,V,j,ee)}}[he.b](){return this}static create(V,j,ee){const X=new ge(V,j,ee);return X.syncErrorThrowable=!1,X}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class fe extends ge{constructor(V,j,ee,X){super(),this._parentSubscriber=V;let ue,Te=this;(0,d.m)(j)?ue=j:j&&(ue=j.next,ee=j.error,X=j.complete,j!==ne.c&&(Te=Object.create(j),(0,d.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=ue,this._error=ee,this._complete=X}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;ie.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:ee}=ie.v;if(this._error)ee&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(j.syncErrorThrowable)ee?(j.syncErrorValue=V,j.syncErrorThrown=!0):(0,oe.z)(V),this.unsubscribe();else{if(this.unsubscribe(),ee)throw V;(0,oe.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const j=()=>this._complete.call(this._context);ie.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,j){try{V.call(this._context,j)}catch(ee){if(this.unsubscribe(),ie.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,oe.z)(ee)}}__tryOrSetError(V,j,ee){if(!ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,ee)}catch(X){return ie.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=X,V.syncErrorThrown=!0,!0):((0,oe.z)(X),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(rt,Ie,U)=>{"use strict";U.d(Ie,{w:()=>oe});var d=U(9796),ne=U(1555),F=U(9105);const ie=(()=>{function fe(re){return Error.call(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((V,j)=>`${j+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re,this}return fe.prototype=Object.create(Error.prototype),fe})();class oe{constructor(re){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,re&&(this._ctorUnsubscribe=!0,this._unsubscribe=re)}unsubscribe(){let re;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:j,_unsubscribe:ee,_subscriptions:X}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof oe)V.remove(this);else if(null!==V)for(let ue=0;ue<V.length;++ue)V[ue].remove(this);if((0,F.m)(ee)){j&&(this._unsubscribe=void 0);try{ee.call(this)}catch(ue){re=ue instanceof ie?ge(ue.errors):[ue]}}if((0,d.k)(X)){let ue=-1,Te=X.length;for(;++ue<Te;){const me=X[ue];if((0,ne.K)(me))try{me.unsubscribe()}catch(Q){re=re||[],Q instanceof ie?re=re.concat(ge(Q.errors)):re.push(Q)}}}if(re)throw new ie(re)}add(re){let V=re;if(!re)return oe.EMPTY;switch(typeof re){case"function":V=new oe(re);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof oe)){const X=V;V=new oe,V._subscriptions=[X]}break;default:throw new Error("unrecognized teardown "+re+" added to Subscription.")}let{_parentOrParents:j}=V;if(null===j)V._parentOrParents=this;else if(j instanceof oe){if(j===this)return V;V._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return V;j.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[V]:ee.push(V),V}remove(re){const V=this._subscriptions;if(V){const j=V.indexOf(re);-1!==j&&V.splice(j,1)}}}var fe;function ge(fe){return fe.reduce((re,V)=>re.concat(V instanceof ie?V.errors:V),[])}oe.EMPTY=((fe=new oe).closed=!0,fe)},2494:(rt,Ie,U)=>{"use strict";U.d(Ie,{v:()=>ne});let d=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=F},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(rt,Ie,U)=>{"use strict";U.d(Ie,{IY:()=>he,Ds:()=>oe,ft:()=>fe});var d=U(7393),ne=U(7574),F=U(7444);class he extends d.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends d.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function fe(re,V){if(V.closed)return;if(re instanceof ne.y)return re.subscribe(V);let j;try{j=(0,F.s)(re)(V)}catch(ee){V.error(ee)}return j}},2441:(rt,Ie,U)=>{"use strict";U.d(Ie,{c:()=>ie,N:()=>oe});var d=U(9765),ne=U(7574),F=U(5319),he=U(1307);class ie extends ne.y{constructor(j,ee){super(),this.source=j,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new F.w,j.add(this.source.subscribe(new ge(this.getSubject(),this))),j.closed&&(this._connection=null,j=F.w.EMPTY)),j}refCount(){return(0,he.x)()(this)}}const oe=(()=>{const V=ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class ge extends d.Yc{constructor(j,ee){super(j),this.connectable=ee}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const ee=j._connection;j._refCount=0,j._subject=null,j._connection=null,ee&&ee.unsubscribe()}}}},9193:(rt,Ie,U)=>{"use strict";U.d(Ie,{E:()=>ne,c:()=>F});var d=U(7574);const ne=new d.y(ie=>ie.complete());function F(ie){return ie?function(ie){return new d.y(oe=>ie.schedule(()=>oe.complete()))}(ie):ne}},4402:(rt,Ie,U)=>{"use strict";U.d(Ie,{D:()=>Te});var d=U(7574),ne=U(7444),F=U(5319),he=U(6554),ge=U(4087),fe=U(377),j=U(4072),ee=U(9489);function Te(me,Q){return Q?function(me,Q){if(null!=me){if(function(me){return me&&"function"==typeof me[he.L]}(me))return function(me,Q){return new d.y(Ee=>{const ve=new F.w;return ve.add(Q.schedule(()=>{const _e=me[he.L]();ve.add(_e.subscribe({next(Re){ve.add(Q.schedule(()=>Ee.next(Re)))},error(Re){ve.add(Q.schedule(()=>Ee.error(Re)))},complete(){ve.add(Q.schedule(()=>Ee.complete()))}}))})),ve})}(me,Q);if((0,j.t)(me))return function(me,Q){return new d.y(Ee=>{const ve=new F.w;return ve.add(Q.schedule(()=>me.then(_e=>{ve.add(Q.schedule(()=>{Ee.next(_e),ve.add(Q.schedule(()=>Ee.complete()))}))},_e=>{ve.add(Q.schedule(()=>Ee.error(_e)))}))),ve})}(me,Q);if((0,ee.z)(me))return(0,ge.r)(me,Q);if(function(me){return me&&"function"==typeof me[fe.hZ]}(me)||"string"==typeof me)return function(me,Q){if(!me)throw new Error("Iterable cannot be null");return new d.y(Ee=>{const ve=new F.w;let _e;return ve.add(()=>{_e&&"function"==typeof _e.return&&_e.return()}),ve.add(Q.schedule(()=>{_e=me[fe.hZ](),ve.add(Q.schedule(function(){if(Ee.closed)return;let Re,Ye;try{const Ve=_e.next();Re=Ve.value,Ye=Ve.done}catch(Ve){return void Ee.error(Ve)}Ye?Ee.complete():(Ee.next(Re),this.schedule())}))})),ve})}(me,Q)}throw new TypeError((null!==me&&typeof me||me)+" is not observable")}(me,Q):me instanceof d.y?me:new d.y((0,ne.s)(me))}},6693:(rt,Ie,U)=>{"use strict";U.d(Ie,{n:()=>he});var d=U(7574),ne=U(5015),F=U(4087);function he(ie,oe){return oe?(0,F.r)(ie,oe):new d.y((0,ne.V)(ie))}},6682:(rt,Ie,U)=>{"use strict";U.d(Ie,{T:()=>ie});var d=U(7574),ne=U(4869),F=U(3282),he=U(6693);function ie(...oe){let ge=Number.POSITIVE_INFINITY,fe=null,re=oe[oe.length-1];return(0,ne.K)(re)?(fe=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(ge=oe.pop())):"number"==typeof re&&(ge=oe.pop()),null===fe&&1===oe.length&&oe[0]instanceof d.y?oe[0]:(0,F.J)(ge)((0,he.n)(oe,fe))}},5917:(rt,Ie,U)=>{"use strict";U.d(Ie,{of:()=>he});var d=U(4869),ne=U(6693),F=U(4087);function he(...ie){let oe=ie[ie.length-1];return(0,d.K)(oe)?(ie.pop(),(0,F.r)(ie,oe)):(0,ne.n)(ie)}},8002:(rt,Ie,U)=>{"use strict";U.d(Ie,{U:()=>ne});var d=U(7393);function ne(ie,oe){return function(fe){if("function"!=typeof ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new F(ie,oe))}}class F{constructor(oe,ge){this.project=oe,this.thisArg=ge}call(oe,ge){return ge.subscribe(new he(oe,this.project,this.thisArg))}}class he extends d.L{constructor(oe,ge,fe){super(oe),this.project=ge,this.count=0,this.thisArg=fe||this}_next(oe){let ge;try{ge=this.project.call(this.thisArg,oe,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(ge)}}},3282:(rt,Ie,U)=>{"use strict";U.d(Ie,{J:()=>F});var d=U(9773),ne=U(4487);function F(he=Number.POSITIVE_INFINITY){return(0,d.zg)(ne.y,he)}},9773:(rt,Ie,U)=>{"use strict";U.d(Ie,{zg:()=>he});var d=U(8002),ne=U(4402),F=U(5345);function he(fe,re,V=Number.POSITIVE_INFINITY){return"function"==typeof re?j=>j.pipe(he((ee,X)=>(0,ne.D)(fe(ee,X)).pipe((0,d.U)((ue,Te)=>re(ee,ue,X,Te))),V)):("number"==typeof re&&(V=re),j=>j.lift(new ie(fe,V)))}class ie{constructor(re,V=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=V}call(re,V){return V.subscribe(new oe(re,this.project,this.concurrent))}}class oe extends F.Ds{constructor(re,V,j=Number.POSITIVE_INFINITY){super(re),this.project=V,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let V;const j=this.index++;try{V=this.project(re,j)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(V)}_innerSub(re){const V=new F.IY(this),j=this.destination;j.add(V);const ee=(0,F.ft)(re,V);ee!==V&&j.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re){this.destination.next(re)}notifyComplete(){const re=this.buffer;this.active--,re.length>0?this._next(re.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(rt,Ie,U)=>{"use strict";U.d(Ie,{ht:()=>j,QV:()=>re});var d=U(7393),ne=U(9193),F=U(5917),he=U(7574);class fe{constructor(ue,Te,me){this.kind=ue,this.value=Te,this.error=me,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,Te,me){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return Te&&Te(this.error);case"C":return me&&me()}}accept(ue,Te,me){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,Te,me)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return X=this.error,new he.y(Te=>Te.error(X));case"C":return(0,ne.c)()}var X;throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new fe("N",ue):fe.undefinedValueNotification}static createError(ue){return new fe("E",void 0,ue)}static createComplete(){return fe.completeNotification}}function re(X,ue=0){return function(me){return me.lift(new V(X,ue))}}fe.completeNotification=new fe("C"),fe.undefinedValueNotification=new fe("N",void 0);class V{constructor(ue,Te=0){this.scheduler=ue,this.delay=Te}call(ue,Te){return Te.subscribe(new j(ue,this.scheduler,this.delay))}}class j extends d.L{constructor(ue,Te,me=0){super(ue),this.scheduler=Te,this.delay=me}static dispatch(ue){const{notification:Te,destination:me}=ue;Te.observe(me),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(j.dispatch,this.delay,new ee(ue,this.destination)))}_next(ue){this.scheduleMessage(fe.createNext(ue))}_error(ue){this.scheduleMessage(fe.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()}}class ee{constructor(ue,Te){this.notification=ue,this.destination=Te}}},1307:(rt,Ie,U)=>{"use strict";U.d(Ie,{x:()=>ne});var d=U(7393);function ne(){return function(oe){return oe.lift(new F(oe))}}class F{constructor(oe){this.connectable=oe}call(oe,ge){const{connectable:fe}=this;fe._refCount++;const re=new he(oe,fe),V=ge.subscribe(re);return re.closed||(re.connection=fe.connect()),V}}class he extends d.L{constructor(oe,ge){super(oe),this.connectable=ge}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const ge=oe._refCount;if(ge<=0)return void(this.connection=null);if(oe._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:fe}=this,re=oe._connection;this.connection=null,re&&(!fe||re===fe)&&re.unsubscribe()}}},3101:(rt,Ie,U)=>{"use strict";U.d(Ie,{R:()=>Q});var d=U(7574);let ne=1;const F=Promise.resolve(),he={};function ie(ve){return ve in he&&(delete he[ve],!0)}const oe={setImmediate(ve){const _e=ne++;return he[_e]=!0,F.then(()=>ie(_e)&&ve()),_e},clearImmediate(ve){ie(ve)}};var fe=U(6465),V=U(6102);const X=new class extends V.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:Re}=this;let Ye,Ve=-1,Nt=Re.length;_e=_e||Re.shift();do{if(Ye=_e.execute(_e.state,_e.delay))break}while(++Ve<Nt&&(_e=Re.shift()));if(this.active=!1,Ye){for(;++Ve<Nt&&(_e=Re.shift());)_e.unsubscribe();throw Ye}}}(class extends fe.o{constructor(_e,Re){super(_e,Re),this.scheduler=_e,this.work=Re}requestAsyncId(_e,Re,Ye=0){return null!==Ye&&Ye>0?super.requestAsyncId(_e,Re,Ye):(_e.actions.push(this),_e.scheduled||(_e.scheduled=oe.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,Re,Ye=0){if(null!==Ye&&Ye>0||null===Ye&&this.delay>0)return super.recycleAsyncId(_e,Re,Ye);0===_e.actions.length&&(oe.clearImmediate(Re),_e.scheduled=void 0)}});var ue=U(9796);class me extends d.y{constructor(_e,Re=0,Ye=X){var ve;super(),this.source=_e,this.delayTime=Re,this.scheduler=Ye,(!(!(0,ue.k)(ve=Re)&&ve-parseFloat(ve)+1>=0)||Re<0)&&(this.delayTime=0),(!Ye||"function"!=typeof Ye.schedule)&&(this.scheduler=X)}static create(_e,Re=0,Ye=X){return new me(_e,Re,Ye)}static dispatch(_e){const{source:Re,subscriber:Ye}=_e;return this.add(Re.subscribe(Ye))}_subscribe(_e){return this.scheduler.schedule(me.dispatch,this.delayTime,{source:this.source,subscriber:_e})}}function Q(ve,_e=0){return function(Ye){return Ye.lift(new Ee(ve,_e))}}class Ee{constructor(_e,Re){this.scheduler=_e,this.delay=Re}call(_e,Re){return new me(Re,this.delay,this.scheduler).subscribe(_e)}}},3342:(rt,Ie,U)=>{"use strict";U.d(Ie,{b:()=>he});var d=U(7393);function ne(){}var F=U(9105);function he(ge,fe,re){return function(j){return j.lift(new ie(ge,fe,re))}}class ie{constructor(fe,re,V){this.nextOrObserver=fe,this.error=re,this.complete=V}call(fe,re){return re.subscribe(new oe(fe,this.nextOrObserver,this.error,this.complete))}}class oe extends d.L{constructor(fe,re,V,j){super(fe),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=V||ne,this._tapComplete=j||ne,(0,F.m)(re)?(this._context=this,this._tapNext=re):re&&(this._context=re,this._tapNext=re.next||ne,this._tapError=re.error||ne,this._tapComplete=re.complete||ne)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(re){return void this.destination.error(re)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(re){return void this.destination.error(re)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4087:(rt,Ie,U)=>{"use strict";U.d(Ie,{r:()=>F});var d=U(7574),ne=U(5319);function F(he,ie){return new d.y(oe=>{const ge=new ne.w;let fe=0;return ge.add(ie.schedule(function(){fe!==he.length?(oe.next(he[fe++]),oe.closed||ge.add(this.schedule())):oe.complete()})),ge})}},6465:(rt,Ie,U)=>{"use strict";U.d(Ie,{o:()=>F});var d=U(5319);class ne extends d.w{constructor(ie,oe){super()}schedule(ie,oe=0){return this}}class F extends ne{constructor(ie,oe){super(ie,oe),this.scheduler=ie,this.work=oe,this.pending=!1}schedule(ie,oe=0){if(this.closed)return this;this.state=ie;const ge=this.id,fe=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(fe,ge,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(fe,this.id,oe),this}requestAsyncId(ie,oe,ge=0){return setInterval(ie.flush.bind(ie,this),ge)}recycleAsyncId(ie,oe,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return oe;clearInterval(oe)}execute(ie,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ie,oe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,oe){let fe,ge=!1;try{this.work(ie)}catch(re){ge=!0,fe=!!re&&re||new Error(re)}if(ge)return this.unsubscribe(),fe}_unsubscribe(){const ie=this.id,oe=this.scheduler,ge=oe.actions,fe=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&ge.splice(fe,1),null!=ie&&(this.id=this.recycleAsyncId(oe,ie,null)),this.delay=null}}},6102:(rt,Ie,U)=>{"use strict";U.d(Ie,{v:()=>ne});let d=(()=>{class F{constructor(ie,oe=F.now){this.SchedulerAction=ie,this.now=oe}schedule(ie,oe=0,ge){return new this.SchedulerAction(this,ie).schedule(ge,oe)}}return F.now=()=>Date.now(),F})();class ne extends d{constructor(he,ie=d.now){super(he,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,ie=0,oe){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(he,ie,oe):super.schedule(he,ie,oe)}flush(he){const{actions:ie}=this;if(this.active)return void ie.push(he);let oe;this.active=!0;do{if(oe=he.execute(he.state,he.delay))break}while(he=ie.shift());if(this.active=!1,oe){for(;he=ie.shift();)he.unsubscribe();throw oe}}}},3637:(rt,Ie,U)=>{"use strict";U.d(Ie,{z:()=>F,P:()=>he});var d=U(6465);const F=new(U(6102).v)(d.o),he=F},7771:(rt,Ie,U)=>{"use strict";U.d(Ie,{c:()=>oe,N:()=>ie});var d=U(6465),F=U(6102);const ie=new class extends F.v{}(class extends d.o{constructor(fe,re){super(fe,re),this.scheduler=fe,this.work=re}schedule(fe,re=0){return re>0?super.schedule(fe,re):(this.delay=re,this.state=fe,this.scheduler.flush(this),this)}execute(fe,re){return re>0||this.closed?super.execute(fe,re):this._execute(fe,re)}requestAsyncId(fe,re,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(fe,re,V):fe.flush(this)}}),oe=ie},377:(rt,Ie,U)=>{"use strict";U.d(Ie,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(rt,Ie,U)=>{"use strict";U.d(Ie,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(rt,Ie,U)=>{"use strict";U.d(Ie,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(rt,Ie,U)=>{"use strict";U.d(Ie,{N:()=>ne});const ne=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(rt,Ie,U)=>{"use strict";function d(ne){setTimeout(()=>{throw ne},0)}U.d(Ie,{z:()=>d})},4487:(rt,Ie,U)=>{"use strict";function d(ne){return ne}U.d(Ie,{y:()=>d})},9796:(rt,Ie,U)=>{"use strict";U.d(Ie,{k:()=>d});const d=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(rt,Ie,U)=>{"use strict";U.d(Ie,{z:()=>d});const d=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(rt,Ie,U)=>{"use strict";function d(ne){return"function"==typeof ne}U.d(Ie,{m:()=>d})},1555:(rt,Ie,U)=>{"use strict";function d(ne){return null!==ne&&"object"==typeof ne}U.d(Ie,{K:()=>d})},4072:(rt,Ie,U)=>{"use strict";function d(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}U.d(Ie,{t:()=>d})},4869:(rt,Ie,U)=>{"use strict";function d(ne){return ne&&"function"==typeof ne.schedule}U.d(Ie,{K:()=>d})},7444:(rt,Ie,U)=>{"use strict";U.d(Ie,{s:()=>j});var d=U(5015),ne=U(4449),he=U(377),oe=U(6554),fe=U(9489),re=U(4072),V=U(1555);const j=ee=>{if(ee&&"function"==typeof ee[oe.L])return(ee=>X=>{const ue=ee[oe.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(X)})(ee);if((0,fe.z)(ee))return(0,d.V)(ee);if((0,re.t)(ee))return(ee=>X=>(ee.then(ue=>{X.closed||(X.next(ue),X.complete())},ue=>X.error(ue)).then(null,ne.z),X))(ee);if(ee&&"function"==typeof ee[he.hZ])return(ee=>X=>{const ue=ee[he.hZ]();for(;;){let Te;try{Te=ue.next()}catch(me){return X.error(me),X}if(Te.done){X.complete();break}if(X.next(Te.value),X.closed)break}return"function"==typeof ue.return&&X.add(()=>{ue.return&&ue.return()}),X})(ee);{const ue=`You provided ${(0,V.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},5015:(rt,Ie,U)=>{"use strict";U.d(Ie,{V:()=>d});const d=ne=>F=>{for(let he=0,ie=ne.length;he<ie&&!F.closed;he++)F.next(ne[he]);F.complete()}},8786:(rt,Ie,U)=>{"use strict";var d=U(3018);let ne=null;function F(){return ne}const ge=new d.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:re,token:n,providedIn:"platform"}),n})();function re(){return(0,d.LFG)(j)}const V=new d.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){ee()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){ee()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=(0,d.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function X(){return new j((0,d.LFG)(ge))}function ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:Ee,token:n,providedIn:"root"}),n})();function Ee(n){const e=(0,d.LFG)(ge).location;return new _e((0,d.LFG)(fe),e&&e.origin||"")}const ve=new d.OlP("appBaseHref");let _e=(()=>{class n extends Q{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+me(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+me(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+me(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(ve,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends Q{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+me(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+me(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(ve,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(Ct(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+me(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ct(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Q),d.LFG(fe))},n.normalizeQueryParams=me,n.joinWithSlash=ue,n.stripTrailingSlash=Te,n.\u0275prov=(0,d.Yz7)({factory:Ve,token:n,providedIn:"root"}),n})();function Ve(){return new Ye((0,d.LFG)(Q),(0,d.LFG)(fe))}function Ct(n){return n.replace(/\/index.html$/,"")}var Dt=(()=>((Dt=Dt||{})[Dt.Zero=0]="Zero",Dt[Dt.One=1]="One",Dt[Dt.Two=2]="Two",Dt[Dt.Few=3]="Few",Dt[Dt.Many=4]="Many",Dt[Dt.Other=5]="Other",Dt))();const Tr=d.kL8;class er{}let Vn=(()=>{class n extends er{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Tr(r||this.locale)(t)){case Dt.Zero:return"zero";case Dt.One:return"one";case Dt.Two:return"two";case Dt.Few:return"few";case Dt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function mt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}let Ta=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Vo{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Vo(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new Sr(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const b=new Sr(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Sr{constructor(e,t){this.record=e,this.view=t}}let Xi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Vi{constructor(){this.$implicit=null,this.ngIf=null}}function sn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Da{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ou=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),bl=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new Da(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(Ou,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Wn=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),dh=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[d.TTD]}),n})(),gp=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=d.Yjl({name:"json",type:n,pure:!1}),n})(),Un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:er,useClass:Vn}]}),n})();function Tl(n){return"server"===n}let Dl=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new yp((0,d.LFG)(ge),window)}),n})();class yp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ra(this.window.history)||Ra(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ra(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sl{}class Al extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Al,ne||(ne=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Cs=Cs||document.querySelector("base"),Cs?Cs.getAttribute("href"):null);return null==t?null:function(n){ns=ns||document.createElement("a"),ns.setAttribute("href",n);const e=ns.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mt(document.cookie,e)}}let ns,Cs=null;const wc=new d.OlP("TRANSITION_ID"),bh=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=F(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[wc,ge,d.zs3],multi:!0}];class xt{static init(){(0,d.VLi)(new xt)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Oa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ts=new d.OlP("EventManagerPlugins");let so=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ts),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ho{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=F().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Tc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n extends Tc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Vu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Vu))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Vu(n){F().remove(n)}const De={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},St=/%COMP%/g;function oo(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?oo(n,o,t):(o=o.replace(St,n),t.push(o))}return t}function Ih(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let is=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ss(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ao(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new Ui(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=oo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(so),d.LFG(Ds),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ss{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(De[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=De[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=De[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ih(r)):this.eventManager.addEventListener(e,t,Ih(r))}}class ao extends ss{constructor(e,t,r,o){super(e),this.component=r;const l=oo(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(St,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(St,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ui extends ss{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=oo(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Uu=(()=>{class n extends Ho{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss=["alt","control","meta","shift"],Oc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ur={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ii=(()=>{class n extends Ho{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Ss.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Pl.hasOwnProperty(e)&&(e=Pl[e]))}return Oc[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ss.forEach(l=>{l!=o&&Ur[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Fc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){Al.makeCurrent(),xt.init()},multi:!0},{provide:ge,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),lo=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Ts,useClass:Uu,multi:!0,deps:[ge,d.R0b,d.Lbi]},{provide:Ts,useClass:ii,multi:!0,deps:[ge]},[],{provide:is,useClass:is,deps:[so,Ds,d.AFp]},{provide:d.FYo,useExisting:is},{provide:Tc,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[ge]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:so,useClass:so,deps:[Ts,d.R0b]},{provide:Sl,useClass:Oa,deps:[]},[]];let qo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:wc,useExisting:d.AFp},bh]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:lo,imports:[Un,d.hGG]}),n})();"undefined"!=typeof window&&window;var en=U(4402),mn=U(7574),Hl=U(9796),lt=U(8002),$l=U(1555);function Zo(n,e){return new mn.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let l=0,h=0;for(let m=0;m<r;m++){const b=(0,en.D)(n[m]);let C=!1;t.add(b.subscribe({next:M=>{C||(C=!0,h++),o[m]=M},error:M=>t.error(M),complete:()=>{l++,(l===r||!C)&&(h===r&&t.next(e?e.reduce((M,O,L)=>(M[O]=o[L],M),{}):o),t.complete())}}))}})}let hr=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),As=(()=>{class n extends hr{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const os=new d.OlP("NgValueAccessor"),Nn={provide:os,useExisting:(0,d.Gpc)(()=>as),multi:!0},Hu=new d.OlP("CompositionEventMode");let as=(()=>{class n extends hr{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Hu,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([Nn]),d.qOj]}),n})();function Br(n){return null==n||0===n.length}function Hc(n){return null!=n&&"number"==typeof n.length}const rr=new d.OlP("NgValidators"),wi=new d.OlP("NgAsyncValidators"),Ua=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yo{static min(e){return function(n){return e=>{if(Br(e.value)||Br(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Br(e.value)||Br(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return Br(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return Br(n.value)||Ua.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>Br(e.value)||!Hc(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>Hc(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return xs;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Br(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Gc(e)}static composeAsync(e){return qu(e)}}function xs(n){return null}function $u(n){return null!=n}function Gu(n){const e=(0,d.QGY)(n)?(0,en.D)(n):n;return(0,d.CqO)(e),e}function Tp(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Dp(n,e){return e.map(t=>t(n))}function Rh(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Gc(n){if(!n)return null;const e=n.filter($u);return 0==e.length?null:function(t){return Tp(Dp(t,e))}}function Oh(n){return null!=n?Gc(Rh(n)):null}function qu(n){if(!n)return null;const e=n.filter($u);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Hl.k)(e))return Zo(e,null);if((0,$l.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Zo(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Zo(n=1===n.length&&(0,Hl.k)(n[0])?n[0]:n,null).pipe((0,lt.U)(t=>e(...t)))}return Zo(n,null)}(Dp(t,e).map(Gu)).pipe((0,lt.U)(Tp))}}function zu(n){return null!=n?qu(Rh(n)):null}function qc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wu(n){return n._rawValidators}function Ku(n){return n._rawAsyncValidators}function Zu(n){return n?Array.isArray(n)?n:[n]:[]}function ho(n,e){return Array.isArray(n)?n.includes(e):n===e}function Yu(n,e){const t=Zu(e);return Zu(n).forEach(o=>{ho(t,o)||t.push(o)}),t}function ql(n,e){return Zu(e).filter(t=>!ho(n,t))}let Hm=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Oh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})(),Vt=(()=>{class n extends Hm{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();class Ci extends Hm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let jr=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ci,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})();function J(n,e){Ge(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sr(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sr(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function de(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pt(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Se(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ge(n,e){const t=Wu(n);null!==e.validator?n.setValidators(qc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ku(n);null!==e.asyncValidator?n.setAsyncValidators(qc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Se(e._rawValidators,o),Se(e._rawAsyncValidators,o)}function Pt(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Wu(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=Ku(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Se(e._rawValidators,r),Se(e._rawAsyncValidators,r),t}function sr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Rs(n,e){Ge(n,e)}function Kc(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Xo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const po="VALID",Zc="INVALID",cn="PENDING",Ha="DISABLED";function go(n){return(Yc(n)?n.validators:n)||null}function Wl(n){return Array.isArray(n)?Oh(n):n||null}function Mp(n,e){return(Yc(e)?e.asyncValidators:n)||null}function xp(n){return Array.isArray(n)?zu(n):n||null}function Yc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zm{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Wl(this._rawValidators),this._composedAsyncValidatorFn=xp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===po}get invalid(){return this.status===Zc}get pending(){return this.status==cn}get disabled(){return this.status===Ha}get enabled(){return this.status!==Ha}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Wl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=xp(e)}addValidators(e){this.setValidators(Yu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ql(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ql(e,this._rawAsyncValidators))}hasValidator(e){return ho(this._rawValidators,e)}hasAsyncValidator(e){return ho(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ha,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=po,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===po||this.status===cn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ha:po}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cn,this._hasOwnPendingAsyncValidator=!0;const t=Gu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof Hi?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof Ph&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ha:this.errors?Zc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cn)?cn:this._anyControlsHaveStatus(Zc)?Zc:po}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ea extends zm{constructor(e=null,t,r){super(go(t),Mp(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Hi extends zm{constructor(e,t,r){super(go(t),Mp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof ea?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Ph extends zm{constructor(e,t,r){super(go(t),Mp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ea?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const $a={provide:Vt,useExisting:(0,d.Gpc)(()=>Ga)},Qc=(()=>Promise.resolve(null))();let Ga=(()=>{class n extends Vt{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new Hi({},Oh(t),zu(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),J(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Xo(this._directives,t)})}addFormGroup(t){Qc.then(()=>{const r=this._findContainer(t.path),o=new Hi({});Rs(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Kc(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rr,10),d.Y36(wi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([$a]),d.qOj]}),n})();const qv={provide:Ci,useExisting:(0,d.Gpc)(()=>Xc)},Np=(()=>Promise.resolve(null))();let Xc=(()=>{class n extends Ci{constructor(t,r,o,l){super(),this.control=new ea,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===as?t=l:function(n){return Object.getPrototypeOf(n.constructor)===As}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){J(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Np.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;Np.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Vt,9),d.Y36(rr,10),d.Y36(wi,10),d.Y36(os,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([qv]),d.qOj,d.TTD]}),n})(),Kl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ed=new d.OlP("NgModelWithFormControlWarning"),e_={provide:Vt,useExisting:(0,d.Gpc)(()=>mo)};let mo=(()=>{class n extends Vt{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return J(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){de(t.control||null,t,!1),Xo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Kc(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(de(r||null,t),o instanceof ea&&(J(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Rs(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Pt(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ge(this.form,this),this._oldForm&&Pt(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rr,10),d.Y36(wi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([e_]),d.qOj,d.TTD]}),n})(),l_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Kl]]}),n})(),c_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[l_]}),n})(),Vh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ed,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[l_]}),n})();var je=U(5917),Ti=U(9765),d_=U(7971);class si extends Ti.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new d_.N;return this._value}next(e){super.next(this._value=e)}}var od=U(4869),us=U(7393);class sb extends us.L{notifyNext(e,t,r,o,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Uh extends us.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ob=U(7444);function ab(n,e,t,r,o=new Uh(n,t,r)){if(!o.closed)return e instanceof mn.y?e.subscribe(o):(0,ob.s)(e)(o)}var _C=U(6693);const h_={};class oi{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new $p(e,this.resultSelector))}}class $p extends sb{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(h_),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(ab(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===h_?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const za=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var or=U(3282);function ld(...n){return(0,or.J)(1)((0,je.of)(...n))}var na=U(9193);function f_(n){return new mn.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,en.D)(t):(0,na.c)()).subscribe(e)})}var p_=U(2441),_o=U(5345);function jn(n,e){return"function"==typeof e?t=>t.pipe(jn((r,o)=>(0,en.D)(n(r,o)).pipe((0,lt.U)((l,h)=>e(r,l,o,h))))):t=>t.lift(new Gp(n))}class Gp{constructor(e){this.project=e}call(e,t){return t.subscribe(new qp(e,this.project))}}class qp extends _o.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new _o.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,_o.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Bh=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function $r(n){return e=>0===n?(0,na.c)():e.lift(new ru(n))}class ru{constructor(e){if(this.total=e,this.total<0)throw new Bh}call(e,t){return t.subscribe(new jh(e,this.total))}}class jh extends us.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Wa(...n){const e=n[n.length-1];return(0,od.K)(e)?(n.pop(),t=>ld(n,t,e)):t=>ld(n,t)}function Ql(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new g_(n,e,t))}}class g_{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new m_(e,this.accumulator,this.seed,this.hasSeed))}}class m_ extends us.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Di(n,e){return function(r){return r.lift(new cb(n,e))}}class cb{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ka(e,this.predicate,this.thisArg))}}class Ka extends us.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function $i(n){return function(t){const r=new ub(n),o=t.lift(r);return r.caught=o}}class ub{constructor(e){this.selector=e}call(e,t){return t.subscribe(new db(e,this.selector,this.caught))}}class db extends _o.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new _o.IY(this);this.add(r);const o=(0,_o.ft)(t,r);o!==r&&this.add(o)}}}var ai=U(9773);function Jl(n,e){return(0,ai.zg)(n,e,1)}function Gr(n){return function(t){return 0===n?(0,na.c)():t.lift(new iu(n))}}class iu{constructor(e){if(this.total=e,this.total<0)throw new Bh}call(e,t){return t.subscribe(new Si(e,this.total))}}class Si extends us.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(o[h])}}e.complete()}}function zp(n=Wp){return e=>e.lift(new ra(n))}class ra{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new cd(e,this.errorFactory))}}class cd extends us.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Wp(){return new za}function __(n=null){return e=>e.lift(new Hh(n))}class Hh{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new hb(e,this.defaultValue))}}class hb extends us.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var y_=U(4487);function ds(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Di((o,l)=>n(o,l,r)):y_.y,$r(1),t?__(e):zp(()=>new za))}var y=U(3342),p=U(1307),g=U(5319);class D{constructor(e){this.callback=e}call(e,t){return t.subscribe(new R(e,this.callback))}}class R extends us.L{constructor(e,t){super(e),this.add(new g.w(t))}}class ${constructor(e,t){this.id=e,this.url=t}}class se extends ${constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ke extends ${constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oe extends ${constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ke extends ${constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Je extends ${constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt extends ${constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends ${constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yo extends ${constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ud extends ${constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Za{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $h{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gh{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v_{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qh{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zh{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class pb{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ya(n){return new pb(n)}const b_="ngNavigationCancelingError";function gb(n){const e=Error("NavigationCancelingError: "+n);return e[b_]=!0,e}function mb(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function vo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!EC(n[o],e[o]))return!1;return!0}function EC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function wC(n){return Array.prototype.concat.apply([],n)}function _b(n){return n.length>0?n[n.length-1]:null}function Hn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ia(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,en.D)(Promise.resolve(n)):(0,je.of)(n)}const SA={exact:function yb(n,e,t){if(!Xl(n.segments,e.segments)||!dd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!yb(n.children[r],e.children[r],t))return!1;return!0},subset:E_},Zp={exact:function(n,e){return vo(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EC(n[t],e[t]))},ignored:()=>!0};function IC(n,e,t){return SA[t.paths](n.root,e.root,t.matrixParams)&&Zp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function E_(n,e,t){return vb(n,e,e.segments,t)}function vb(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Xl(o,t)||e.hasChildren()||!dd(o,t,r))}if(n.segments.length===t.length){if(!Xl(n.segments,t)||!dd(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!E_(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Xl(n.segments,o)&&dd(n.segments,o,r)&&n.children[Ot])&&vb(n.children[Ot],e,l,r)}}function dd(n,e,t){return e.every((r,o)=>Zp[t](n[o].parameters,r.parameters))}class Qa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ya(this.queryParams)),this._queryParamMap}toString(){return AA.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Hn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return w_(this)}}class hd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ya(this.parameters)),this._parameterMap}toString(){return AC(this)}}function Xl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class bb{}class Eb{parse(e){const t=new MC(e);return new Qa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Wh(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Qp(t)}=${Qp(o)}`).join("&"):`${Qp(t)}=${Qp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const AA=new Eb;function w_(n){return n.segments.map(e=>AC(e)).join("/")}function Wh(n,e){if(!n.hasChildren())return w_(n);if(e){const t=n.children[Ot]?Wh(n.children[Ot],!1):"",r=[];return Hn(n.children,(o,l)=>{l!==Ot&&r.push(`${l}:${Wh(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Hn(n.children,(r,o)=>{o===Ot&&(t=t.concat(e(r,o)))}),Hn(n.children,(r,o)=>{o!==Ot&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ot?[Wh(n.children[Ot],!1)]:[`${o}:${Wh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${w_(n)}/${t[0]}`:`${w_(n)}/(${t.join("//")})`}}function C_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qp(n){return C_(n).replace(/%3B/gi,";")}function I_(n){return C_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function T_(n){return decodeURIComponent(n)}function wb(n){return T_(n.replace(/\+/g,"%20"))}function AC(n){return`${I_(n.path)}${function(n){return Object.keys(n).map(e=>`;${I_(e)}=${I_(n[e])}`).join("")}(n.parameters)}`}const xA=/^[^\/()?;=#]+/;function Jp(n){const e=n.match(xA);return e?e[0]:""}const RA=/^[^=?&#]+/,NA=/^[^?&#]+/;class MC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new Bt(e,t)),r}parseSegment(){const e=Jp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new hd(T_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Jp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Jp(this.remaining);o&&(r=o,this.capture(r))}e[T_(t)]=T_(r)}parseQueryParam(e){const t=function(n){const e=n.match(RA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(NA);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=wb(t),l=wb(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Jp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ot);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Ot]:new Bt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Cb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Cb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ib(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ib(e,this._root).map(t=>t.value)}}function Cb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Cb(n,t);if(r)return r}return null}function Ib(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ib(n,t);if(r.length)return r.unshift(e),r}return[]}class ut{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Kh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Tb extends xC{constructor(e,t){super(e),this.snapshot=t,S_(this,e)}toString(){return this.snapshot.toString()}}function Xp(n,e){const t=function(n,e){const h=new bo([],{},{},"",{},Ot,e,null,n.root,-1,{});return new D_("",new ut(h,[]))}(n,e),r=new si([new hd("",{})]),o=new si({}),l=new si({}),h=new si({}),m=new si(""),b=new fd(r,o,h,m,l,Ot,e,t.root);return b.snapshot=t.root,new Tb(new ut(b,[]),t)}class fd{constructor(e,t,r,o,l,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(e=>Ya(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(e=>Ya(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bo{constructor(e,t,r,o,l,h,m,b,C,M,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=M,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ya(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ya(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class D_ extends xC{constructor(e,t){super(t),this.url=e,S_(this,t)}toString(){return A_(this._root)}}function S_(n,e){e.value._routerState=n,e.children.forEach(t=>S_(n,t))}function A_(n){const e=n.children.length>0?` { ${n.children.map(A_).join(", ")} } `:"";return`${n.value}${e}`}function OC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vo(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function M_(n,e){return vo(n.params,e.params)&&function(n,e){return Xl(n,e)&&n.every((t,r)=>vo(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||M_(n.parent,e.parent))}function Eo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Eo(n,r,o);return Eo(n,r)})}(n,e,t);return new ut(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return eg(e,h),h}}const r=function(n){return new fd(new si(n.url),new si(n.params),new si(n.queryParams),new si(n.fragment),new si(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Eo(n,l));return new ut(r,o)}}function eg(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)eg(n.children[t],e.children[t])}function R_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zh(n){return"object"==typeof n&&null!=n&&n.outlets}function NC(n,e,t,r,o){let l={};return r&&Hn(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Qa(t.root===n?e:PC(t.root,n,e),l,o)}function PC(n,e,t){const r={};return Hn(n.children,(o,l)=>{r[l]=o===e?t:PC(o,e,t)}),new Bt(n.segments,r)}class kA{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&R_(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Zh);if(o&&o!==_b(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class O_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function LA(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return Mb(n,e,t);const r=function(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(Zh(m))break;const b=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!UA(b,C,h))return l;r+=2}else{if(!UA(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Bt(n.segments.slice(0,r.pathIndex),{});return l.children[Ot]=new Bt(n.segments.slice(r.pathIndex),n.children),Mb(l,0,o)}return r.match&&0===o.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?FC(n,e,t):r.match?Mb(n,0,o):FC(n,e,t)}function Mb(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function(n){return Zh(n[0])?n[0].outlets:{[Ot]:n}}(t),o={};return Hn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=LA(n.children[h],e,l))}),Hn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Bt(n.segments,o)}}function FC(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Zh(l)){const b=VN(l.outlets);return new Bt(r,b)}if(0===o&&R_(t[0])){r.push(new hd(n.segments[e].path,VA(t[0]))),o++;continue}const h=Zh(l)?l.outlets[Ot]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&R_(m)?(r.push(new hd(h,VA(m))),o+=2):(r.push(new hd(h,{})),o++)}return new Bt(r,{})}function VN(n){const e={};return Hn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=FC(new Bt([],{}),0,t))}),e}function VA(n){const e={};return Hn(n,(t,r)=>e[r]=`${t}`),e}function UA(n,e,t){return n==t.path&&vo(e,t.parameters)}class BN{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),OC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Kh(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Hn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Kh(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Kh(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new qh(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Gh(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(OC(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),BA(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function BA(n){OC(n.value),n.children.forEach(BA)}class tg{constructor(e,t){this.routes=e,this.module=t}}function ou(n){return"function"==typeof n}function ec(n){return n instanceof Qa}const Yh=Symbol("INITIAL_VALUE");function ng(){return jn(n=>function(...n){let e,t;return(0,od.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Hl.k)(n[0])&&(n=n[0]),(0,_C.n)(n,t).lift(new oi(e))}(n.map(e=>e.pipe($r(1),Wa(Yh)))).pipe(Ql((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==Yh?o:(l===Yh&&(r=!0),r||!1!==l&&h!==t.length-1&&!ec(l)?o:l),e)},Yh),Di(e=>e!==Yh),(0,lt.U)(e=>ec(e)?e:!0===e),$r(1)))}let HA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:function(){return[lg]},encapsulation:2}),n})();function N_(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];$A(r,UC(e,r))}}function $A(n,e){n.children&&N_(n.children,e)}function UC(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Rb(n){const e=n.children&&n.children.map(Rb),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=HA),t}function wo(n){return n.outlet||Ot}function Qh(n,e){const t=n.filter(r=>wo(r)===e);return t.push(...n.filter(r=>wo(r)!==e)),t}const pd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Jh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},pd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||mb)(t,n,e);if(!l)return Object.assign({},pd);const h={};Hn(l.posParams,(b,C)=>{h[C]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function tc(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>ig(n,e,r)&&wo(r)!==Ot)}(n,t,r)){const h=new Bt(e,function(n,e,t,r){const o={};o[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&wo(l)!==Ot){const h=new Bt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[wo(l)]=h}return o}(n,e,r,new Bt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>ig(n,e,r))}(n,t,r)){const h=new Bt(n.segments,function(n,e,t,r,o,l){const h={};for(const m of r)if(ig(n,t,m)&&!o[wo(m)]){const b=new Bt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[wo(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Bt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function ig(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function P_(n,e,t,r){return!!(wo(n)===r||r!==Ot&&ig(e,t,n))&&("**"===n.path||Jh(e,n,t).matched)}function k_(n,e,t){return 0===e.length&&!n.children[t]}class ef{constructor(e){this.segmentGroup=e||null}}class sg{constructor(e){this.urlTree=e}}function F_(n){return new mn.y(e=>e.error(new ef(n)))}function Ob(n){return new mn.y(e=>e.error(new sg(n)))}function jN(n){return new mn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class qA{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=tc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ot).pipe((0,lt.U)(l=>this.createUrlTree(Nb(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe($i(l=>{if(l instanceof sg)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ef?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ot).pipe((0,lt.U)(o=>this.createUrlTree(Nb(o),e.queryParams,e.fragment))).pipe($i(o=>{throw o instanceof ef?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Bt([],{[Ot]:e}):e;return new Qa(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,lt.U)(l=>new Bt([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,en.D)(o).pipe(Jl(l=>{const h=r.children[l],m=Qh(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,lt.U)(b=>({segment:b,outlet:l})))}),Ql((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Di((o,l)=>n(o,l,r)):y_.y,Gr(1),t?__(e):zp(()=>new za))}())}expandSegment(e,t,r,o,l,h){return(0,en.D)(r).pipe(Jl(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe($i(C=>{if(C instanceof ef)return(0,je.of)(null);throw C}))),ds(m=>!!m),$i((m,b)=>{if(m instanceof za||"EmptyError"===m.name){if(k_(t,o,l))return(0,je.of)(new Bt([],{}));throw new ef(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return P_(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):F_(t):F_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ob(l):this.lineralizeSegments(r,l).pipe((0,ai.zg)(h=>{const m=new Bt(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:b,lastChild:C,positionalParamSegments:M}=Jh(t,o,l);if(!m)return F_(t);const O=this.applyRedirectCommands(b,o.redirectTo,M);return o.redirectTo.startsWith("/")?Ob(O):this.lineralizeSegments(o,O).pipe((0,ai.zg)(L=>this.expandSegment(e,t,r,L.concat(l.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,je.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,lt.U)(L=>(r._loadedConfig=L,new Bt(o,{})))):(0,je.of)(new Bt(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=Jh(t,r,o);if(!h)return F_(t);const C=o.slice(b);return this.getChildConfig(e,r,o).pipe((0,ai.zg)(O=>{const L=O.module,B=O.routes,{segmentGroup:W,slicedSegments:le}=tc(t,m,C,B),be=new Bt(W.segments,W.children);if(0===le.length&&be.hasChildren())return this.expandChildren(L,B,be).pipe((0,lt.U)(qe=>new Bt(m,qe)));if(0===B.length&&0===le.length)return(0,je.of)(new Bt(m,{}));const Le=wo(r)===l;return this.expandSegment(L,be,B,le,Le?Ot:l,!0).pipe((0,lt.U)(st=>new Bt(m.concat(st.segments),st.children)))}))}getChildConfig(e,t,r){return t.children?(0,je.of)(new tg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,je.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,ai.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,lt.U)(l=>(t._loadedConfig=l,l))):(n=t,new mn.y(e=>e.error(gb(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,je.of)(new tg([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,je.of)(!0);const l=o.map(h=>{const m=e.get(h);let b;if((n=m)&&ou(n.canLoad))b=m.canLoad(t,r);else{if(!ou(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}var n;return ia(b)});return(0,je.of)(l).pipe(ng(),(0,y.b)(h=>{if(!ec(h))return;const m=gb(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,lt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,je.of)(r);if(o.numberOfChildren>1||!o.children[Ot])return jN(e.redirectTo);o=o.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new Qa(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Hn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Hn(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new Bt(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Nb(n){const e={};for(const r of Object.keys(n.children)){const l=Nb(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}class hs{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class L_{constructor(e,t){this.component=e,this.route=t}}function WA(n,e,t){const r=n._root;return V_(r,e?e._root:null,t,[r.value])}function Pb(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function V_(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Kh(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Xl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xl(n.url,e.url)||!vo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M_(n,e)||!vo(n.queryParams,e.queryParams);case"paramsChange":default:return!M_(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new hs(r)):(l.data=h.data,l._resolvedData=h._resolvedData),V_(n,e,l.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new L_(m.outlet.component,h))}else h&&tf(e,m,o),o.canActivateChecks.push(new hs(r)),V_(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Hn(l,(h,m)=>tf(h,t.getContext(m),o)),o}function tf(n,e,t){const r=Kh(n),o=n.value;Hn(r,(l,h)=>{tf(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new L_(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class WC{}function Fb(n){return new mn.y(e=>e.error(n))}class Ja{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=tc(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ot);if(null===t)return null;const r=new bo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ut(r,t),l=new D_(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=RC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Qh(e,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const o=iM(r);return o.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return k_(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!P_(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const B=r.length>0?_b(r).parameters:{};l=new bo(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,YC(e),wo(e),e.component,e,KC(t),ZC(t)+r.length,U_(e))}else{const B=Jh(t,e,r);if(!B.matched)return null;h=B.consumedSegments,m=r.slice(B.lastChild),l=new bo(h,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,YC(e),wo(e),e.component,e,KC(t),ZC(t)+h.length,U_(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:M}=tc(t,h,m,b.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&C.hasChildren()){const B=this.processChildren(b,C);return null===B?null:[new ut(l,B)]}if(0===b.length&&0===M.length)return[new ut(l,[])];const O=wo(e)===o,L=this.processSegment(b,C,M,O?Ot:o);return null===L?null:[new ut(l,L)]}}function rM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function iM(n){const e=[],t=new Set;for(const r of n){if(!rM(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=iM(r.children);e.push(new ut(r.value,o))}return e.filter(r=>!t.has(r))}function KC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ZC(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function YC(n){return n.data||{}}function U_(n){return n.resolve||{}}function og(n){return jn(e=>{const t=n(e);return t?(0,en.D)(t).pipe((0,lt.U)(()=>e)):(0,je.of)(e)})}class cM extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Bb=new d.OlP("ROUTES");class j_{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,lt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new tg(wC(h.injector.get(Bb,void 0,d.XFs.Self|d.XFs.Optional)).map(Rb),h)}),$i(l=>{throw t._loader$=void 0,l}));return t._loader$=new p_.c(o,()=>new Ti.xQ).pipe((0,p.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,en.D)(this.loader.load(e)):ia(e()).pipe((0,ai.zg)(t=>t instanceof d.YKP?(0,je.of)(t):(0,en.D)(this.compiler.compileModuleAsync(t))))}}class $N{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nf,this.attachRef=null}}class nf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $N,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class XC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function eI(n){throw n}function tI(n,e,t){return e.parse("/")}function jb(n,e){return(0,je.of)(null)}const nc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ai=(()=>{class n{constructor(t,r,o,l,h,m,b,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ti.xQ,this.errorHandler=eI,this.malformedUriErrorHandler=tI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jb,afterPreactivation:jb},this.urlHandlingStrategy=new XC,this.routeReuseStrategy=new cM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(d.h0i),this.console=h.get(d.c2e);const L=h.get(d.R0b);this.isNgZoneEnabled=L instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new Qa(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new j_(m,b,B=>this.triggerEvent(new Kp(B)),B=>this.triggerEvent(new Za(B))),this.routerState=Xp(this.currentUrlTree,this.rootComponentType),this.transitions=new si({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Di(o=>0!==o.id),(0,lt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jn(o=>{let l=!1,h=!1;return(0,je.of)(o).pipe((0,y.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jn(m=>{const b=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Hb(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,je.of)(m).pipe(jn(O=>{const L=this.transitions.getValue();return r.next(new se(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),L!==this.transitions.getValue()?na.E:Promise.resolve(O)}),function(n,e,t,r){return jn(o=>function(n,e,t,r,o){return new qA(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,lt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,y.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,r,o){return(0,ai.zg)(l=>function(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new Ja(n,e,t,r,o,l).recognize();return null===h?Fb(new WC):(0,je.of)(h)}catch(h){return Fb(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,lt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,y.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const L=new Je(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(L)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:W,restoredState:le,extras:be}=m,Le=new se(L,this.serializeUrl(B),W,le);r.next(Le);const Xe=Xp(B,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},m),{targetSnapshot:Xe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),na.E}),og(m=>{const{targetSnapshot:b,id:C,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:L,replaceUrl:B}}=m;return this.hooks.beforePreactivation(b,{navigationId:C,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!L,replaceUrl:!!B})}),(0,y.b)(m=>{const b=new kt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,lt.U)(m=>Object.assign(Object.assign({},m),{guards:WA(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,ai.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,je.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,en.D)(n).pipe((0,ai.zg)(o=>function(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,je.of)(!0);const h=l.map(m=>{const b=Pb(m,e,o);let C;if(function(n){return n&&ou(n.canDeactivate)}(b))C=ia(b.canDeactivate(n,e,t,r));else{if(!ou(b))throw new Error("Invalid CanDeactivate guard");C=ia(b(n,e,t,r))}return C.pipe(ds())});return(0,je.of)(h).pipe(ng())}(o.component,o.route,t,e,r)),ds(o=>!0!==o,!0))}(h,r,o,n).pipe((0,ai.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,en.D)(e).pipe(Jl(o=>ld(function(n,e){return null!==n&&e&&e(new $h(n)),(0,je.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new v_(n)),(0,je.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>f_(()=>{const m=h.guards.map(b=>{const C=Pb(b,h.node,t);let M;if(function(n){return n&&ou(n.canActivateChild)}(C))M=ia(C.canActivateChild(r,n));else{if(!ou(C))throw new Error("Invalid CanActivateChild guard");M=ia(C(r,n))}return M.pipe(ds())});return(0,je.of)(m).pipe(ng())}));return(0,je.of)(l).pipe(ng())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,je.of)(!0);const o=r.map(l=>f_(()=>{const h=Pb(l,e,t);let m;if(function(n){return n&&ou(n.canActivate)}(h))m=ia(h.canActivate(e,n));else{if(!ou(h))throw new Error("Invalid CanActivate guard");m=ia(h(e,n))}return m.pipe(ds())}));return(0,je.of)(o).pipe(ng())}(n,o.route,t))),ds(o=>!0!==o,!0))}(r,l,n,e):(0,je.of)(m)),(0,lt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,y.b)(m=>{if(ec(m.guardsResult)){const C=gb(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const b=new Zn(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Di(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),og(m=>{if(m.guards.canActivateChecks.length)return(0,je.of)(m).pipe((0,y.b)(b=>{const C=new yo(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),jn(b=>{let C=!1;return(0,je.of)(b).pipe(function(n,e){return(0,ai.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,je.of)(t);let l=0;return(0,en.D)(o).pipe(Jl(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,je.of)({});const l={};return(0,en.D)(o).pipe((0,ai.zg)(h=>function(n,e,t,r){const o=Pb(n,e,r);return ia(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,y.b)(m=>{l[h]=m}))),Gr(1),(0,ai.zg)(()=>Object.keys(l).length===o.length?(0,je.of)(l):na.E))}(n._resolve,n,e,r).pipe((0,lt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),RC(n,t).resolve),null)))}(h.route,r,n,e)),(0,y.b)(()=>l++),Gr(1),(0,ai.zg)(h=>l===o.length?(0,je.of)(t):na.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,y.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,y.b)(b=>{const C=new ud(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),og(m=>{const{targetSnapshot:b,id:C,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:L,replaceUrl:B}}=m;return this.hooks.afterPreactivation(b,{navigationId:C,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!L,replaceUrl:!!B})}),(0,lt.U)(m=>{const b=function(n,e,t){const r=Eo(n,e._root,t?t._root:void 0);return new Tb(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,y.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,lt.U)(r=>(new BN(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,y.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new D(n))}(()=>{var m;if(!l&&!h){const b=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,b)):this.cancelNavigationTransition(o,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),$i(m=>{if(h=!0,function(n){return n&&n[b_]}(m)){const b=ec(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const C=new Oe(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(C),b?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hb(o.source)};this.scheduleNavigation(M,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Ke(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(C){o.reject(C)}}return na.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){N_(t),this.config=t.map(Rb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,C=o||this.routerState.root,M=b?this.currentUrlTree.fragment:h;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,r,o){if(0===t.length)return NC(e.root,e.root,e,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kA(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Hn(l.outlets,(b,C)=>{m[C]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new kA(t,e,r)}(t);if(l.toRoot())return NC(e.root,new Bt([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new O_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new O_(l,l===e.root,0)}const r=R_(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new O_(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?Mb(h.segmentGroup,h.index,l.commands):LA(h.segmentGroup,h.index,l.commands);return NC(h.segmentGroup,m,e,r,o)}(C,this.currentUrlTree,t,O,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=ec(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},nc):!1===r?Object.assign({},H_):r,ec(t))return IC(this.currentUrlTree,t,o);const l=this.parseUrl(t);return IC(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,b;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),M=Hb(r)&&C&&!Hb(C.source),B=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===t.toString();if(M&&B)return Promise.resolve(!0);let W,le,be;h?(W=h.resolve,le=h.reject,be=h.promise):be=new Promise((st,qe)=>{W=st,le=qe});const Le=++this.navigationId;let Xe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Xe=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Xe=0,this.setTransition({id:Le,targetPageId:Xe,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:W,reject:le,promise:be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),be.catch(st=>Promise.reject(st))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Oe(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.DyG),d.LFG(bb),d.LFG(nf),d.LFG(Ye),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Hb(n){return"imperative"!==n}let lg=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=l||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new nI(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(nf),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class nI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fd?this.route:e===nf?this.childContexts:this.parent.get(e,t)}}class rI{}class sI{preload(e,t){return(0,je.of)(null)}}let G_=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new j_(r,o,C=>t.triggerEvent(new Kp(C)),C=>t.triggerEvent(new Za(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Di(t=>t instanceof ke),Jl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,en.D)(o).pipe((0,or.J)(),(0,lt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,je.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,ai.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ai),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(rI))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),$b=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof se?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ke&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new zh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ai),d.LFG(Dl),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cu=new d.OlP("ROUTER_CONFIGURATION"),gd=new d.OlP("ROUTER_FORROOT_GUARD"),hM=[Ye,{provide:bb,useClass:Eb},{provide:Ai,useFactory:function(n,e,t,r,o,l,h,m={},b,C){const M=new Ai(null,n,e,t,r,o,l,wC(h));return b&&(M.urlHandlingStrategy=b),C&&(M.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,M),m.enableTracing&&M.events.subscribe(O=>{var L,B;null===(L=console.group)||void 0===L||L.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(B=console.groupEnd)||void 0===B||B.call(console)}),M},deps:[bb,nf,Ye,d.zs3,d.v3s,d.Sil,Bb,cu,[class{},new d.FiY],[class{},new d.FiY]]},nf,{provide:fd,useFactory:function(n){return n.routerState.root},deps:[Ai]},{provide:d.v3s,useClass:d.EAV},G_,sI,class{preload(e,t){return t().pipe($i(()=>(0,je.of)(null)))}},{provide:cu,useValue:{enableTracing:!1}}];function fM(){return new d.PXZ("Router",Ai)}let md=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[hM,aI(t),{provide:gd,useFactory:mM,deps:[[Ai,new d.FiY,new d.tp0]]},{provide:cu,useValue:r||{}},{provide:Q,useFactory:gM,deps:[fe,[new d.tBr(ve),new d.FiY],cu]},{provide:$b,useFactory:pM,deps:[Ai,Dl,cu]},{provide:rI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:sI},{provide:d.PXZ,multi:!0,useFactory:fM},[En,{provide:d.ip1,multi:!0,useFactory:Gb,deps:[En]},{provide:el,useFactory:zN,deps:[En]},{provide:d.tb,multi:!0,useExisting:el}]]}}static forChild(t){return{ngModule:n,providers:[aI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gd,8),d.LFG(Ai,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function pM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new $b(n,e,t)}function gM(n,e,t={}){return t.useHash?new Re(n,e):new _e(n,e)}function mM(n){return"guarded"}function aI(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Bb,multi:!0,useValue:n}]}let En=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ti.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(Ai),h=this.injector.get(cu);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(cu),o=this.injector.get(G_),l=this.injector.get($b),h=this.injector.get(Ai),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Gb(n){return n.appInitializer.bind(n)}function zN(n){return n.bootstrapListener.bind(n)}const el=new d.OlP("Router Initializer");var ye=U(8239);class uI{constructor(){this.titulo="",this.autor="",this.image="",this.descripcion="",this.fecha=""}}var dI=U(7841),zb=U(3394),Co=U(8026),_t=U(3854),_d=U(3910);const hI="firebasestorage.googleapis.com",fI="storageBucket";class $n extends _t.ZR{constructor(e,t){super(q_(e),`Firebase Storage: ${t} (${q_(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}_codeEquals(e){return q_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function q_(n){return"storage/"+n}function z_(){return new $n("unknown","An unknown error occurred, please check the error payload for server response.")}function wM(){return new $n("canceled","User canceled the upload/download.")}function TM(){return new $n("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function rf(n){return new $n("invalid-argument",n)}function Zb(){return new $n("app-deleted","The Firebase app was deleted.")}function Yb(n){return new $n("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function W_(n,e){return new $n("invalid-format","String does not match format '"+n+"': "+e)}function fs(n){throw new $n("internal-error","Internal error: "+n)}class Gi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Gi.makeFromUrl(e,t)}catch(o){return new Gi(e,"")}if(""===r.path)return r;throw new $n("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function C(qe){qe.path_=decodeURIComponent(qe.path)}const O=t.replace(/[.]/g,"\\."),st=[{regex:m,indices:{bucket:1,path:3},postModify:function(qe){"/"===qe.path.charAt(qe.path.length-1)&&(qe.path_=qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===hI?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let qe=0;qe<st.length;qe++){const Qt=st[qe],pn=Qt.regex.exec(e);if(pn){let Zs=pn[Qt.indices.path];Zs||(Zs=""),r=new Gi(pn[Qt.indices.bucket],Zs),Qt.postModify(r);break}}if(null==r)throw new $n("invalid-url","Invalid URL '"+e+"'.");return r}}class KN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Qb(n){return"string"==typeof n||n instanceof String}function Jb(n){return ug()&&n instanceof Blob}function ug(){return"undefined"!=typeof Blob}function Xb(n,e,t,r){if(r<e)throw rf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw rf(`Invalid value for '${n}'. Expected ${t} or less.`)}function tl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function bI(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var uu=(()=>{return(n=uu||(uu={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",uu;var n})();class SM{constructor(e,t,r,o,l,h,m,b,C,M,O){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=C,this.progressCallback_=M,this.connectionFactory_=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,B)=>{this.resolve_=L,this.reject_=B,this.start_()})}start_(){const t=(r,o)=>{const l=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(m,m.getResponseText());void 0!==b?l(b):l()}catch(b){h(b)}else if(null!==m){const b=z_();b.serverResponse=m.getResponseText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(o.canceled?this.appDelete_?Zb():wM():new $n("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new K_(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,l=null,h=!1,m=0;function b(){return 2===m}let C=!1;function M(...be){C||(C=!0,e.apply(null,be))}function O(be){o=setTimeout(()=>{o=null,n(B,b())},be)}function L(){l&&clearTimeout(l)}function B(be,...Le){if(C)return void L();if(be)return L(),void M.call(null,be,...Le);if(b()||h)return L(),void M.call(null,be,...Le);let st;r<64&&(r*=2),1===m?(m=2,st=0):st=1e3*(r+Math.random()),O(st)}let W=!1;function le(be){W||(W=!0,L(),!C&&(null!==o?(be||(m=2),clearTimeout(o),O(0)):be||(m=1)))}return O(0),l=setTimeout(()=>{h=!0,le(!0)},t),le}((r,o)=>{if(o)return void r(!1,new K_(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const m=l.getErrorCode()===uu.NO_ERROR,b=l.getStatus();if(!m||this.isRetryStatusCode_(b)){const M=l.getErrorCode()===uu.ABORT;return void r(!1,new K_(!1,null,M))}const C=-1!==this.successCodes_.indexOf(b);r(!0,new K_(C,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||l}}class K_{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function dg(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(ug())return new Blob(n);throw new $n("unsupported-environment","This browser doesn't seem to support creating Blobs")}const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Io{constructor(e,t){this.data=e,this.contentType=t||null}}function yd(n,e){switch(n){case qi.RAW:return new Io(li(e));case qi.BASE64:case qi.BASE64URL:return new Io(hg(n,e));case qi.DATA_URL:return new Io(function(n){const e=new ks(n);return e.base64?hg(qi.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw W_(qi.DATA_URL,"Malformed data URL.")}return li(e)}(e.rest)}(e),function(n){return new ks(n).contentType}(e))}throw z_()}function li(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function hg(n,e){switch(n){case qi.BASE64:{const o=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(o||l)throw W_(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const o=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(o||l)throw W_(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw W_(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class ks{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw W_(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class zi{constructor(e,t){let r=0,o="";Jb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Jb(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new zi(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new zi(r,!0)}}static getBlob(...e){if(ug()){const t=e.map(r=>r instanceof zi?r.data_:r);return new zi(dg.apply(null,t))}{const t=e.map(h=>Qb(h)?yd(qi.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let l=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[l++]=h[m]}),new zi(o,!0)}}uploadData(){return this.data_}}function du(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function bd(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function df(n,e){return e}class pr{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||df}}let fg=null;function hf(){if(fg)return fg;const n=[];n.push(new pr("bucket")),n.push(new pr("generation")),n.push(new pr("metageneration")),n.push(new pr("name","fullPath",!0));const t=new pr("name");t.xform=function(l,h){return function(n){return!Qb(n)||n.length<2?n:bd(n)}(h)},n.push(t);const o=new pr("size");return o.xform=function(l,h){return void 0!==h?Number(h):h},n.push(o),n.push(new pr("timeCreated")),n.push(new pr("updated")),n.push(new pr("md5Hash",null,!0)),n.push(new pr("cacheControl",null,!0)),n.push(new pr("contentDisposition",null,!0)),n.push(new pr("contentEncoding",null,!0)),n.push(new pr("contentLanguage",null,!0)),n.push(new pr("contentType",null,!0)),n.push(new pr("metadata","customMetadata",!0)),fg=n,fg}function tE(n,e,t){const r=du(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let l=0;l<o;l++){const h=t[l];r[h.local]=h.xform(r,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const l=new Gi(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}function Y_(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const nE="prefixes";class rc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function la(n){if(!n)throw z_()}function Q_(n,e){return function(r,o){const l=tE(n,o,e);return la(null!==l),l}}function Ed(n){return function(t,r){let o;return o=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new $n("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new $n("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new $n("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new $n("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function J_(n){const e=Ed(n);return function(r,o){let l=e(r,o);return 404===r.getStatus()&&(l=function(n){return new $n("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function rE(n,e,t){const o=tl(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new rc(o,"GET",Q_(n,t),h);return m.errorHandler=J_(e),m}function PM(n,e,t,r,o){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),r&&(l.pageToken=r),o&&(l.maxResults=o);const m=tl(e.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,M=new rc(m,"GET",function(n,e){return function(r,o){const l=function(n,e,t){const r=du(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[nE])for(const o of t[nE]){const l=o.replace(/\/$/,""),h=n._makeStorageReference(new Gi(e,l));r.prefixes.push(h)}if(t.items)for(const o of t.items){const l=n._makeStorageReference(new Gi(e,o.name));r.items.push(l)}return r}(n,e,r)}(n,e,o);return la(null!==l),l}}(n,e.bucket),C);return M.urlParams=l,M.errorHandler=Ed(e),M}function LM(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class iE{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function sE(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){la(!1)}return la(!!t&&-1!==(e||["active"]).indexOf(t)),t}const aE={STATE_CHANGED:"state_changed"},Wi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xI(n){switch(n){case"running":case"pausing":case"canceling":return Wi.RUNNING;case"paused":return Wi.PAUSED;case"success":return Wi.SUCCESS;case"canceled":return Wi.CANCELED;case"error":default:return Wi.ERROR}}class XN{constructor(e,t,r){if("function"==typeof e||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function pg(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class OI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=uu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw fs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fs("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw fs("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}function nl(){return new OI}class NI{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=hf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),h=LM(e,r,o),m={name:h.fullPath},b=tl(l,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},O=Y_(h,t),W=new rc(b,"POST",function(le){let be;sE(le);try{be=le.getResponseHeader("X-Goog-Upload-URL")}catch(Le){la(!1)}return la(Qb(be)),be},n.maxUploadRetryTime);return W.urlParams=m,W.headers=M,W.body=O,W.errorHandler=Ed(e),W}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,nl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const b=new rc(t,"POST",function(C){const M=sE(C,["active","final"]);let O=null;try{O=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch(B){la(!1)}O||la(!1);const L=Number(O);return la(!isNaN(L)),new iE(L,r.size(),"final"===M)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=Ed(e),b}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,nl,t,r);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new iE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,l)=>{let h;try{h=function(n,e,t,r,o,l,h,m){const b=new iE(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw new $n("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const C=b.total-b.current;let M=C;o>0&&(M=Math.min(M,o));const O=b.current,W={"X-Goog-Upload-Command":M===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},le=r.slice(O,O+M);if(null===le)throw TM();const st=new rc(t,"POST",function(qe,Qt){const pn=sE(qe,["active","final"]),Pr=b.current+M,Zs=r.size();let ba;return ba="final"===pn?Q_(e,l)(qe,Qt):null,new iE(Pr,Zs,"final"===pn,ba)},e.maxUploadRetryTime);return st.headers=W,st.body=le.uploadData(),st.progressCallback=m||null,st.errorHandler=Ed(n),st}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,nl,o,l);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=rE(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,nl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let st="";for(let qe=0;qe<2;qe++)st+=Math.random().toString().slice(2);return st}();h["Content-Type"]="multipart/related; boundary="+b;const C=LM(e,r,o),M=Y_(C,t),B=zi.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+b+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===B)throw TM();const W={name:C.fullPath},le=tl(l,n.host,n._protocol),Le=n.maxUploadRetryTime,Xe=new rc(le,"POST",Q_(n,t),Le);return Xe.urlParams=W,Xe.headers=h,Xe.body=B.uploadData(),Xe.errorHandler=Ed(e),Xe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,nl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=wM(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=xI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const l=new XN(t||void 0,r||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(xI(this._state)){case Wi.SUCCESS:pg(this._resolve.bind(null,this.snapshot))();break;case Wi.CANCELED:case Wi.ERROR:pg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(xI(this._state)){case Wi.RUNNING:case Wi.PAUSED:e.next&&pg(e.next.bind(e,this.snapshot))();break;case Wi.SUCCESS:e.complete&&pg(e.complete.bind(e))();break;case Wi.CANCELED:case Wi.ERROR:e.error&&pg(e.error.bind(e,this._error))();break;default:e.error&&pg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class To{constructor(e,t){this._service=e,this._location=t instanceof Gi?t:Gi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new To(e,t)}get root(){const e=new Gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bd(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Gi(this._location.bucket,e);return new To(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Yb(e)}}function gg(n,e,t){return lE.apply(this,arguments)}function lE(){return(lE=(0,ye.Z)(function*(n,e,t){const o=yield cE(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield gg(n,e,o.nextPageToken))})).apply(this,arguments)}function cE(n,e){null!=e&&"number"==typeof e.maxResults&&Xb("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=PM(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,nl)}function $M(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const o=tl(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new rc(o,"GET",function(n,e){return function(r,o){const l=tE(n,o,e);return la(null!==l),function(n,e,t,r){const o=du(e);if(null===o||!Qb(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(C=>{const O=n.fullPath;return tl("/b/"+h(n.bucket)+"/o/"+h(O),t,r)+bI({alt:"media",token:C})})[0]}(l,o,n.host,n._protocol)}}(n,t),h);return m.errorHandler=J_(e),m}(n.storage,n._location,hf());return n.storage.makeRequestWithTokens(e,nl).then(t=>{if(null===t)throw new $n("no-download-url","The given file does not have any download URLs.");return t})}function LI(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Gi(n._location.bucket,t);return new To(n.storage,r)}function uE(n,e){if(n instanceof mg){const t=n;if(null==t._bucket)throw new $n("no-default-bucket","No default bucket found. Did you set the '"+fI+"' property when initializing the app?");const r=new To(t,t._bucket);return null!=e?uE(r,e):r}return void 0!==e?LI(n,e):n}function UI(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof mg)return function(n,e){return new To(n,e)}(n,e);throw rf("To use ref(service, url), the first argument must be a Storage instance.")}return uE(n,e)}function X_(n,e){const t=null==e?void 0:e[fI];return null==t?null:Gi.makeFromBucketSpec(t,n)}class mg{constructor(e,t,r,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=hI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Gi.makeFromBucketSpec(o,this._host):X_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Gi.makeFromBucketSpec(this._url,e):X_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ye.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ye.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new To(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new KN(Zb());{const l=function(n,e,t,r,o,l){const h=bI(n.urlParams),m=n.url+h,b=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(b,l),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new SM(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,ye.Z)(function*(){const[o,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,l).getPromise()})()}}const BI="@firebase/storage";function ey(n,e){return UI(n=(0,_t.m9)(n),e)}(0,Co._registerComponent)(new _d.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new mg(t,r,o,e,Co.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Co.registerVersion)(BI,"0.8.7",""),(0,Co.registerVersion)(BI,"0.8.7","esm2017");class pf{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ty{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new pf(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new pf(r,this,this._ref))},t)}on(e,t,r,o){let l;return t&&(l="function"==typeof t?h=>t(new pf(h,this,this._ref)):{next:t.next?h=>t.next(new pf(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,r||void 0,o||void 0)}}class mE{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ic(e,this._service))}get items(){return this._delegate.items.map(e=>new ic(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ic{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return LI(n,e)}(this._delegate,e);return new ic(t,this.storage)}get root(){return new ic(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ic(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new ty(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new NI(n,new zi(e),t)}(n=(0,_t.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=qi.RAW,r){this._throwIfRoot("putString");const o=yd(t,e),l=Object.assign({},r);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new ty(new NI(this._delegate,new zi(o.data,!0),l),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return gg(n,e).then(()=>e)}(n=(0,_t.m9)(n))}(this._delegate).then(e=>new mE(e,this.storage))}list(e){return function(n,e){return cE(n=(0,_t.m9)(n),e)}(this._delegate,e||void 0).then(t=>new mE(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=rE(n.storage,n._location,hf());return n.storage.makeRequestWithTokens(e,nl)}(n=(0,_t.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const l=tl(e.fullServerUrl(),n.host,n._protocol),m=Y_(t,r),C=n.maxOperationRetryTime,M=new rc(l,"PATCH",Q_(n,r),C);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=m,M.errorHandler=J_(e),M}(n.storage,n._location,e,hf());return n.storage.makeRequestWithTokens(t,nl)}(n=(0,_t.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return $M((0,_t.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=tl(e.fullServerUrl(),n.host,n._protocol),m=new rc(r,"DELETE",function(b,C){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=J_(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,nl)}((0,_t.m9)(this._delegate))}_throwIfRoot(e){if(""===this._delegate._location.path)throw Yb(e)}}class _E{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(yE(e))throw rf("ref() expected a child path but got a URL, use refFromURL instead.");return new ic(ey(this._delegate,e),this)}refFromURL(e){if(!yE(e))throw rf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gi.makeFromUrl(e,this._delegate.host)}catch(t){throw rf("refFromUrl() expected a valid full URL but got an invalid one.")}return new ic(ey(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,_t.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function yE(n){return/^[A-Za-z]+:\/\//.test(n)}function zI(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new _E(t,r)}!function(n){const e={TaskState:Wi,TaskEvent:aE,StringFormat:qi,Storage:_E,Reference:ic};n.INTERNAL.registerComponent(new _d.wA("storage-compat",zI,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.7")}(zb.Z);var Ze,rl=U(5422),bE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},il={},ny=ny||{},Et=bE||self;function _g(){}function ry(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ZI="closure_uid_"+(1e9*Math.random()>>>0),QM=0;function JM(n,e,t){return n.call.apply(n.bind,arguments)}function YI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ci(n,e,t){return(ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JM:YI).apply(null,arguments)}function Yn(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function hu(){this.s=this.s,this.o=this.o}var QI={};hu.prototype.s=!1,hu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,ZI)&&n[ZI]||(n[ZI]=++QM)}(this);delete QI[n]}},hu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},EE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function wd(n){return Array.prototype.concat.apply([],arguments)}function wE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function iy(n){return/^[\s\xa0]*$/.test(n)}var ps,CE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ki(n,e){return-1!=n.indexOf(e)}function sy(n,e){return n<e?-1:n>e?1:0}e:{var IE=Et.navigator;if(IE){var oy=IE.userAgent;if(oy){ps=oy;break e}}ps=""}function Do(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eT(n){const e={};for(const t in n)e[t]=n[t];return e}var TE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ca(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<TE.length;l++)t=TE[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Fs(n){return Fs[" "](n),n}Fs[" "]=_g;var fu,n,tT=Ki(ps,"Opera"),Cd=Ki(ps,"Trident")||Ki(ps,"MSIE"),nT=Ki(ps,"Edge"),DE=nT||Cd,rT=Ki(ps,"Gecko")&&!(Ki(ps.toLowerCase(),"webkit")&&!Ki(ps,"Edge"))&&!(Ki(ps,"Trident")||Ki(ps,"MSIE"))&&!Ki(ps,"Edge"),ex=Ki(ps.toLowerCase(),"webkit")&&!Ki(ps,"Edge");function ay(){var n=Et.document;return n?n.documentMode:void 0}e:{var SE="",ly=(n=ps,rT?/rv:([^\);]+)(\)|;)/.exec(n):nT?/Edge\/([\d\.]+)/.exec(n):Cd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ex?/WebKit\/(\S+)/.exec(n):tT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ly&&(SE=ly?ly[1]:""),Cd){var AE=ay();if(null!=AE&&AE>parseFloat(SE)){fu=String(AE);break e}}fu=SE}var iT={};function sT(){return e=iT,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=CE(String(fu)).split("."),t=CE("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=sy(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||sy(0==o[2].length,0==l[2].length)||sy(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var e}var aT=Et.document&&Cd&&(ay()||parseInt(fu,10))||void 0,lT=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",_g,e),Et.removeEventListener("test",_g,e)}catch(t){}return n}();function zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function pu(n,e){if(zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rT){e:{try{Fs(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pu.Z.h.call(this)}}zr.prototype.h=function(){this.defaultPrevented=!0},qr(pu,zr);var cT={2:"touch",3:"pen",4:"mouse"};pu.prototype.h=function(){pu.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _f="closure_listenable_"+(1e6*Math.random()|0),uT=0;function dT(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++uT,this.ca=this.fa=!1}function yg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function vg(n){this.src=n,this.g={},this.h=0}function cy(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=JI(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(yg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uy(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}vg.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=uy(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new dT(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var ME="closure_lm_"+(1e6*Math.random()|0),xE={};function hT(n,e,t,r,o){if(r&&r.once)return pT(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)hT(n,e[l],t,r,o);return null}return t=PE(t),n&&n[_f]?n.N(e,t,gf(r)?!!r.capture:!!r,o):fT(n,e,t,!1,r,o)}function fT(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=gf(o)?!!o.capture:!!o,m=OE(n);if(m||(n[ME]=m=new vg(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=nx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lT||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(mT(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function pT(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pT(n,e[l],t,r,o);return null}return t=PE(t),n&&n[_f]?n.O(e,t,gf(r)?!!r.capture:!!r,o):fT(n,e,t,!0,r,o)}function gT(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)gT(n,e[l],t,r,o);else r=gf(r)?!!r.capture:!!r,t=PE(t),n&&n[_f]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uy(l=n.g[e],t,r,o))&&(yg(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=OE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uy(e,t,r,o)),(t=-1<n?e[n]:null)&&RE(t))}function RE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[_f])cy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(mT(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=OE(e))?(cy(t,n),0==t.h&&(t.src=null,e[ME]=null)):yg(n)}}}function mT(n){return n in xE?xE[n]:xE[n]="on"+n}function nx(n,e){if(n.ca)n=!0;else{e=new pu(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&RE(n),n=t.call(r,e)}return n}function OE(n){return(n=n[ME])instanceof vg?n:null}var NE="__closure_events_fn_"+(1e9*Math.random()>>>0);function PE(n){return"function"==typeof n?n:(n[NE]||(n[NE]=function(e){return n.handleEvent(e)}),n[NE])}function Wr(){hu.call(this),this.i=new vg(this),this.P=this,this.I=null}function ui(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new zr(e,n);else if(e instanceof zr)e.target=e.target||n;else{var o=e;ca(e=new zr(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=dy(h,r,!0,e)&&o}if(o=dy(h=e.g=n,r,!0,e)&&o,o=dy(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=dy(h=e.g=t[l],r,!1,e)&&o}function dy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&cy(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}qr(Wr,hu),Wr.prototype[_f]=!0,Wr.prototype.removeEventListener=function(n,e,t,r){gT(this,n,e,t,r)},Wr.prototype.M=function(){if(Wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)yg(t[r]);delete n.g[e],n.h--}}this.I=null},Wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var kE=Et.JSON.stringify;function rx(){var n=LE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fy,FE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yT,n=>n.reset());class yT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vT(n){Et.setTimeout(()=>{throw n},0)}function hy(n,e){fy||function(){var n=Et.Promise.resolve(void 0);fy=function(){n.then(VE)}}(),py||(fy(),py=!0),LE.add(n,e)}var py=!1,LE=new class{constructor(){this.h=this.g=null}add(e,t){const r=FE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function VE(){for(var n;n=rx();){try{n.h.call(n.g)}catch(t){vT(t)}var e=FE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}py=!1}function bg(n,e){Wr.call(this),this.h=n||1,this.g=e||Et,this.j=ci(this.kb,this),this.l=Date.now()}function sc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function UE(n,e,t){if("function"==typeof n)t&&(n=ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function ET(n){n.g=UE(()=>{n.g=null,n.i&&(n.i=!1,ET(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(bg,Wr),(Ze=bg.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ui(this,"tick"),this.da&&(sc(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){bg.Z.M.call(this),sc(this),delete this.g};class yf extends hu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ET(this)}M(){super.M(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gy(n){hu.call(this),this.h=n,this.g={}}qr(gy,hu);var my=[];function ix(n,e,t,r){Array.isArray(t)||(t&&(my[0]=t.toString()),t=my);for(var o=0;o<t.length;o++){var l=hT(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function BE(n){Do(n.g,function(e,t){this.g.hasOwnProperty(t)&&RE(e)},n),n.g={}}function Eg(){this.g=!0}function vf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return kE(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}gy.prototype.M=function(){gy.Z.M.call(this),BE(this)},gy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eg.prototype.Aa=function(){this.g=!1},Eg.prototype.info=function(){};var sl={},wT=null;function Id(){return wT=wT||new Wr}function wg(n){zr.call(this,sl.Ma,n)}function wn(n){const e=Id();ui(e,new wg(e,n))}function ax(n,e){zr.call(this,sl.STAT_EVENT,n),this.stat=e}function Mi(n){const e=Id();ui(e,new ax(e,n))}function _y(n,e){zr.call(this,sl.Na,n),this.size=e}function Cg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}sl.Ma="serverreachability",qr(wg,zr),sl.STAT_EVENT="statevent",qr(ax,zr),sl.Na="timingevent",qr(_y,zr);var Ig={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yy(){}function CT(){}yy.prototype.h=null;var GE,Tg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $E(){zr.call(this,"d")}function Td(){zr.call(this,"c")}function vy(){}function Dg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new gy(this),this.P=IT,this.W=new bg(n=DE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sg}function Sg(){this.i=null,this.g="",this.h=!1}qr($E,zr),qr(Td,zr),qr(vy,yy),vy.prototype.g=function(){return new XMLHttpRequest},vy.prototype.i=function(){return{}},GE=new vy;var IT=45e3,by={},Ag={};function qE(n,e,t){n.K=1,n.v=Cy(oc(e)),n.s=t,n.U=!0,bf(n,null)}function bf(n,e){n.F=Date.now(),Mg(n),n.A=oc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),OT(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Sg,n.g=n0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new yf(ci(n.Ia,n,n.g),n.O)),ix(n.V,n.g,"readystatechange",n.gb),e=n.H?eT(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),wn(1),function(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var C=m[b].split("=");if(1<C.length){var M=C[0];C=C[1];var O=M.split("_");h=2<=O.length&&"type"==O[1]?h+(M+"=")+C+"&":h+(M+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Ef(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function TT(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=lx(n,t),o==Ag){4==e&&(n.o=4,Mi(14),r=!1),vf(n.j,n.m,null,"[Incomplete Response]");break}if(o==by){n.o=4,Mi(15),vf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}vf(n.j,n.m,o,null),Ey(n,o)}Ef(n)&&o!=Ag&&o!=by&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Af(e),e.L=!0,Mi(11))):(vf(n.j,n.m,t,"[Invalid Chunked Response]"),Dd(n),wf(n))}function lx(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ag:(t=Number(e.substring(t,r)),isNaN(t)?by:(r+=1)+t>e.length?Ag:(e=e.substr(r,t),n.C=r+t,e))}function Mg(n){n.Y=Date.now()+n.P,zE(n,n.P)}function zE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Cg(ci(n.eb,n),e)}function xg(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function wf(n){0==n.l.G||n.I||Tx(n.l,n)}function Dd(n){xg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,sc(n.W),BE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ey(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dy(t.i,n)))if(t.I=n.N,!n.J&&Dy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Cg(ci(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;xy(t),Sf(t)}zT(t),Mi(18)}if(1>=kT(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else xd(t,11)}else if((n.J||t.g==n)&&xy(t),!iy(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const M=C[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const L=C[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const W=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var l=r.i;!l.g&&(Ki(W,"spdy")||Ki(W,"quic")||Ki(W,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(KE(l,l.h),l.h=null))}if(r.D){const le=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.sa=le,Pn(r.F,r.D,le))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=Ry(r,r.H?r.la:null,r.W),h.J){FT(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(xg(m),Mg(m)),r.g=h}else t0(r);0<t.l.length&&lc(t)}else"stop"!=C[0]&&"close"!=C[0]||xd(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?xd(t,7):qT(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}wn(4)}catch(C){}}function WE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ry(n)||"string"==typeof n)EE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ry(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ry(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Rg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Rg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function DT(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Cf(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Cf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ze=Dg.prototype).setTimeout=function(n){this.P=n},Ze.gb=function(n){n=n.target;const e=this.L;e&&3==al(n)?e.l():this.Ia(n)},Ze.Ia=function(n){try{if(n==this.g)e:{const M=al(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>M)&&(3!=M||DE||this.g&&(this.h.h||this.g.ga()||XE(this.g)))){this.I||4!=M||7==e||wn(8==e||0>=O?3:2),xg(this);var t=this.g.ba();this.N=t;t:if(Ef(this)){var r=XE(this.g);n="";var o=r.length,l=4==al(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Dd(this),wf(this);var h="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iy(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Mi(12),Dd(this),wf(this);break e}vf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ey(this,t)}this.U?(TT(this,M,h),DE&&this.i&&3==M&&(ix(this.V,this.W,"tick",this.fb),this.W.start())):(vf(this.j,this.m,h,null),Ey(this,h)),4==M&&Dd(this),this.i&&!this.I&&(4==M?Tx(this.l,this):(this.i=!1,Mg(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Mi(12)):(this.o=0,Mi(13)),Dd(this),wf(this)}}}catch(M){}},Ze.fb=function(){if(this.g){var n=al(this.g),e=this.g.ga();this.C<e.length&&(xg(this),TT(this,n,e),this.i&&4!=n&&Mg(this))}},Ze.cancel=function(){this.I=!0,Dd(this)},Ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wn(3),Mi(17)),Dd(this),this.o=2,wf(this)):zE(this,this.Y-n)},(Ze=Rg.prototype).R=function(){DT(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ze.T=function(){return DT(this),this.g.concat()},Ze.get=function(n,e){return Cf(this.h,n)?this.h[n]:e},Ze.set=function(n,e){Cf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ze.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var ux=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ol(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ol){this.g=void 0!==e?e:n.g,wy(this,n.j),this.s=n.s,Og(this,n.i),gu(this,n.m),this.l=n.l,e=n.h;var t=new Pg;t.i=e.i,e.g&&(t.g=new Rg(e.g),t.h=e.h),AT(this,t),this.o=n.o}else n&&(t=String(n).match(ux))?(this.g=!!e,wy(this,t[1]||"",!0),this.s=If(t[2]||""),Og(this,t[3]||"",!0),gu(this,t[4]),this.l=If(t[5]||"",!0),AT(this,t[6]||"",!0),this.o=If(t[7]||"")):(this.g=!!e,this.h=new Pg(null,this.g))}function oc(n){return new ol(n)}function wy(n,e,t){n.j=t?If(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Og(n,e,t){n.i=t?If(e,!0):e}function gu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function AT(n,e,t){e instanceof Pg?(n.h=e,function(n,e){e&&!n.j&&(ac(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(RT(this,r),OT(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ng(e,gx)),n.h=new Pg(e,n.g))}function Pn(n,e,t){n.h.set(e,t)}function Cy(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function If(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ng(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ol.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ng(e,Sd,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ng(e,Sd,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ng(t,"/"==t.charAt(0)?MT:px,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ng(t,xT)),n.join("")};var Sd=/[#\/\?@]/g,px=/[#\?:]/g,MT=/[#\?]/g,gx=/[#\?@]/g,xT=/#/g;function Pg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ac(n){n.g||(n.g=new Rg,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function RT(n,e){ac(n),e=Ad(n,e),Cf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&DT(n)))}function Iy(n,e){return ac(n),e=Ad(n,e),Cf(n.g.h,e)}function OT(n,e,t){RT(n,e),0<t.length&&(n.i=null,n.g.set(Ad(n,e),wE(t)),n.h+=t.length)}function Ad(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function PT(n){this.l=n||_x,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=Pg.prototype).add=function(n,e){ac(this),this.i=null,n=Ad(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ze.forEach=function(n,e){ac(this),this.g.forEach(function(t,r){EE(t,function(o){n.call(e,o,r,this)},this)},this)},Ze.T=function(){ac(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},Ze.R=function(n){ac(this);var e=[];if("string"==typeof n)Iy(this,n)&&(e=wd(e,this.g.get(Ad(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=wd(e,n[t])}return e},Ze.set=function(n,e){return ac(this),this.i=null,Iy(this,n=Ad(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var _x=10;function Ty(n){return!!n.h||!!n.g&&n.g.size>=n.j}function kT(n){return n.h?1:n.g?n.g.size:0}function Dy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function KE(n,e){n.g?n.g.add(e):n.h=e}function FT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function LT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return wE(n.i)}function ZE(){}function yx(){this.g=new ZE}function vx(n,e,t){const r=t||"";try{WE(n,function(o,l){let h=o;gf(o)&&(h=kE(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Sy(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Tf(n){this.l=n.$b||null,this.j=n.ib||!1}function kg(n,e){Wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=YE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PT.prototype.cancel=function(){if(this.i=LT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ZE.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)},ZE.prototype.parse=function(n){return Et.JSON.parse(n,void 0)},qr(Tf,yy),Tf.prototype.g=function(){return new kg(this.l,this.j)},Tf.prototype.i=function(n){return function(){return n}}({}),qr(kg,Wr);var YE=0;function VT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Df(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fg(n)}function Fg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ze=kg.prototype).open=function(n,e){if(this.readyState!=YE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Fg(this)},Ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Df(this)),this.readyState=YE},Ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fg(this)),this.g&&(this.readyState=3,Fg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Df(this):Fg(this),3==this.readyState&&VT(this)}},Ze.Ua=function(n){this.g&&(this.response=this.responseText=n,Df(this))},Ze.Ta=function(n){this.g&&(this.response=n,Df(this))},Ze.ha=function(){this.g&&Df(this)},Ze.setRequestHeader=function(n,e){this.v.append(n,e)},Ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(kg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ex=Et.JSON.parse;function gr(n){Wr.call(this),this.headers=new Rg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ay,this.K=this.L=!1}qr(gr,Wr);var Ay="",QE=/^https?$/i,UT=["POST","PUT"];function wx(n){return"content-type"==n.toLowerCase()}function BT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,My(n),Lg(n)}function My(n){n.D||(n.D=!0,ui(n,"complete"),ui(n,"error"))}function jT(n){if(n.h&&void 0!==ny&&(!n.C[1]||4!=al(n)||2!=n.ba()))if(n.v&&4==al(n))UE(n.Fa,0,n);else if(ui(n,"readystatechange"),4==al(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(ux)[1]||null;if(!o&&Et.self&&Et.self.location){var l=Et.self.location.protocol;o=l.substr(0,l.length-1)}r=!QE.test(o?o.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var h=2<al(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",My(n)}}finally{Lg(n)}}}function Lg(n,e){if(n.g){HT(n);const t=n.g,r=n.C[0]?_g:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function HT(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function al(n){return n.g?n.g.readyState:0}function XE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ay:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function GT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Do(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Vg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Md(n){this.za=0,this.l=[],this.h=new Eg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vg("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vg("baseRetryDelayMs",5e3,n),this.$a=Vg("retryDelaySeedMs",1e4,n),this.Ya=Vg("forwardChannelMaxRetries",2,n),this.ra=Vg("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new PT(n&&n.concurrentRequestLimit),this.Ca=new yx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function qT(n){if(Ug(n),3==n.G){var e=n.V++,t=oc(n.F);Pn(t,"SID",n.J),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),Bg(n,t),(e=new Dg(n,n.h,e,void 0)).K=2,e.v=Cy(oc(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon&&(t=Et.navigator.sendBeacon(e.v.toString(),"")),!t&&Et.Image&&((new Image).src=e.v,t=!0),t||(e.g=n0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Mg(e)}ZT(n)}function Sf(n){n.g&&(Af(n),n.g.cancel(),n.g=null)}function Ug(n){Sf(n),n.u&&(Et.clearTimeout(n.u),n.u=null),xy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function e0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&lc(n)}function lc(n){Ty(n.i)||n.m||(n.m=!0,hy(n.Ha,n),n.C=0)}function Ix(n,e){var t;t=e?e.m:n.V++;const r=oc(n.F);Pn(r,"SID",n.J),Pn(r,"RID",t),Pn(r,"AID",n.U),Bg(n,r),n.o&&n.s&&GT(r,n.o,n.s),t=new Dg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=da(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),KE(n.i,t),qE(t,r,e)}function Bg(n,e){n.j&&WE({},function(t,r){Pn(e,r,t)})}function da(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ci(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<t;b++){let C=o[b].h;const M=o[b].g;if(C-=l,0>C)l=Math.max(0,o[b].h-100),m=!1;else try{vx(M,h,"req"+C+"_")}catch(O){r&&r(M)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function t0(n){n.g||n.u||(n.Y=1,hy(n.Ga,n),n.A=0)}function zT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Cg(ci(n.Ga,n),KT(n,n.A)),n.A++,0))}function Af(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function WT(n){n.g=new Dg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=oc(n.oa);Pn(e,"RID","rpc"),Pn(e,"SID",n.J),Pn(e,"CI",n.N?"0":"1"),Pn(e,"AID",n.U),Bg(n,e),Pn(e,"TYPE","xmlhttp"),n.o&&n.s&&GT(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Cy(oc(e)),t.s=null,t.U=!0,bf(t,n)}function xy(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function Tx(n,e){var t=null;if(n.g==e){xy(n),Af(n),n.g=null;var r=2}else{if(!Dy(n.i,e))return;t=e.D,FT(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ui(r=Id(),new _y(r,t,e,o)),lc(n)}else t0(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(kT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Cg(ci(n.Ha,n,e),KT(n,n.C)),n.C++,0)))}(n,e)||2==r&&zT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:xd(n,5);break;case 4:xd(n,10);break;case 3:xd(n,6);break;default:xd(n,2)}}function KT(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function xd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ci(n.jb,n);t||(t=new ol("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||wy(t,"https"),Cy(t)),function(n,e){const t=new Eg;if(Et.Image){const r=new Image;r.onload=Yn(Sy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yn(Sy,t,r,"TestLoadImage: error",!1,e),r.onabort=Yn(Sy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yn(Sy,t,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Mi(2);n.G=0,n.j&&n.j.va(e),ZT(n),Ug(n)}function ZT(n){n.G=0,n.I=-1,n.j&&((0!=LT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,wE(n.l),n.l.length=0),n.j.ua())}function Ry(n,e,t){let r=function(n){return n instanceof ol?oc(n):new ol(n,void 0)}(t);if(""!=r.i)e&&Og(r,e+"."+r.i),gu(r,r.m);else{const o=Et.location;r=function(n,e,t,r){var o=new ol(null,void 0);return n&&wy(o,n),e&&Og(o,e),t&&gu(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Do(n.aa,function(o,l){Pn(r,l,o)}),t=n.sa,(e=n.D)&&t&&Pn(r,e,t),Pn(r,"VER",n.ma),Bg(n,r),r}function n0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&n.Ba&&!n.qa?new Tf({ib:!0}):n.qa)).L=n.H,e}function Oy(){}function jg(){if(Cd&&!(10<=Number(aT)))throw Error("Environmental error: no available transport.")}function Ls(n,e){Wr.call(this),this.g=new Md(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!iy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!iy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mf(this)}function Dx(n){$E.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YT(){Td.call(this),this.status=1}function Mf(n){this.g=n}(Ze=gr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():GE.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:GE),this.g.onreadystatechange=ci(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void BT(this,l)}n=t||"";const o=new Rg(this.headers);r&&WE(r,function(l,h){o.set(h,l)}),r=function(n){e:{var e=wx;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Et.FormData&&n instanceof Et.FormData,!(0<=JI(UT,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HT(this),0<this.B&&((this.K=function(n){return Cd&&sT()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ci(this.pa,this)):this.A=UE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){BT(this,l)}},Ze.pa=function(){void 0!==ny&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},Ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),Lg(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lg(this,!0)),gr.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?jT(this):this.cb())},Ze.cb=function(){jT(this)},Ze.ba=function(){try{return 2<al(this)?this.g.status:-1}catch(n){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ex(e)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=Md.prototype).ma=8,Ze.G=1,Ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Dg(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=eT(l),ca(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=da(this,o,e),Pn(t=oc(this.F),"RID",n),Pn(t,"CVER",22),this.D&&Pn(t,"X-HTTP-Session-Id",this.D),Bg(this,t),this.o&&l&&GT(t,this.o,l),KE(this.i,o),this.Ra&&Pn(t,"TYPE","init"),this.ja?(Pn(t,"$req",e),Pn(t,"SID","null"),o.$=!0,qE(o,t,null)):qE(o,t,e),this.G=2}}else 3==this.G&&(n?Ix(this,n):0==this.l.length||Ty(this.i)||Ix(this))},Ze.Ga=function(){if(this.u=null,WT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Cg(ci(this.bb,this),n)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mi(10),Sf(this),WT(this))},Ze.ab=function(){null!=this.v&&(this.v=null,Sf(this),zT(this),Mi(19))},Ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Mi(2)):(this.h.info("Failed to ping google.com"),Mi(1))},(Ze=Oy.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},jg.prototype.g=function(n,e){return new Ls(n,e)},qr(Ls,Wr),Ls.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),hy(ci(n.hb,n,e))),Mi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Ry(n,null,n.W),lc(n)},Ls.prototype.close=function(){qT(this.g)},Ls.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,e0(this.g,e)}else this.v?((e={}).__data__=kE(n),e0(this.g,e)):e0(this.g,n)},Ls.prototype.M=function(){this.g.j=null,delete this.j,qT(this.g),delete this.g,Ls.Z.M.call(this)},qr(Dx,$E),qr(YT,Td),qr(Mf,Oy),Mf.prototype.xa=function(){ui(this.g,"a")},Mf.prototype.wa=function(n){ui(this.g,new Dx(n))},Mf.prototype.va=function(n){ui(this.g,new YT(n))},Mf.prototype.ua=function(){ui(this.g,"b")},jg.prototype.createWebChannel=jg.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,Ig.NO_ERROR=0,Ig.TIMEOUT=8,Ig.HTTP_ERROR=6,jE.COMPLETE="complete",CT.EventType=Tg,Tg.OPEN="a",Tg.CLOSE="b",Tg.ERROR="c",Tg.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.La,gr.prototype.getLastErrorCode=gr.prototype.Da,gr.prototype.getStatus=gr.prototype.ba,gr.prototype.getResponseJson=gr.prototype.Qa,gr.prototype.getResponseText=gr.prototype.ga,gr.prototype.send=gr.prototype.ea;var Sx=il.createWebChannelTransport=function(){return new jg},QT=il.getStatEventTarget=function(){return Id()},Ny=il.ErrorCode=Ig,JT=il.EventType=jE,Ax=il.Event=sl,XT=il.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},eD=il.FetchXmlHttpFactory=Tf,Rd=il.WebChannel=CT,Mx=il.XhrIo=gr;const r0="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let cc="9.4.0";const So=new rl.Yd("@firebase/firestore");function s0(){return So.logLevel}function Fe(n,...e){if(So.logLevel<=rl.in.DEBUG){const t=e.map(o0);So.debug(`Firestore (${cc}): ${n}`,...t)}}function _r(n,...e){if(So.logLevel<=rl.in.ERROR){const t=e.map(o0);So.error(`Firestore (${cc}): ${n}`,...t)}}function Hg(n,...e){if(So.logLevel<=rl.in.WARN){const t=e.map(o0);So.warn(`Firestore (${cc}): ${n}`,...t)}}function o0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function yt(n,e){n||ot()}function Be(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tD{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class $g{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class Ox{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nx{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new di;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new di,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=h;e.enqueueRetryable((0,ye.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},b=C=>{Fe("FirebaseCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(Fe("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new di)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt("string"==typeof r.accessToken),new tD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new mr(e)}}class Px{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=mr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Py{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Px(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function nD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ar.T=-1;class rD{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=nD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function zt(n,e){return n<e?-1:n>e?1:0}function xf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Gg(n){return n+"\0"}class Kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Kr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Kr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function a0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ky(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Rf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Rf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends Rf{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Rf{construct(e,t,r){return new hi(e,t,r)}static isValidIdentifier(e){return kx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class Od{constructor(e){this.fields=e,e.sort(hi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Mr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const Fy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(n){if(yt(!!n),"string"==typeof n){let e=0;const t=Fy.exec(n);if(yt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ll(n){return"string"==typeof n?Mr.fromBase64String(n):Mr.fromUint8Array(n)}function nn(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uc(n){const e=n.mapValue.fields.__previous_value__;return nn(e)?uc(e):e}function cl(n){const e=ha(n.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}function fa(n){return null==n}function l0(n){return 0===n&&1/n==-1/0}function wt(n){return"number"==typeof n&&Number.isInteger(n)&&!l0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(tn.fromString(e))}static fromName(e){return new ze(tn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new tn(e.slice()))}}function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nn(n)?4:10:ot()}function xi(n,e){const t=dc(n);if(t!==dc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cl(n).isEqual(cl(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=ha(r.timestampValue),h=ha(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ll(n.bytesValue).isEqual(ll(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return xr(r.geoPointValue.latitude)===xr(o.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return xr(r.integerValue)===xr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=xr(r.doubleValue),h=xr(o.doubleValue);return l===h?l0(l)===l0(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return xf(n.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(a0(l)!==a0(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!xi(l[m],h[m])))return!1;return!0}(n,e);default:return ot()}var o}function Ly(n,e){return void 0!==(n.values||[]).find(t=>xi(t,e))}function Nd(n,e){const t=dc(n),r=dc(e);if(t!==r)return zt(t,r);switch(t){case 0:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=xr(o.integerValue||o.doubleValue),m=xr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return c0(n.timestampValue,e.timestampValue);case 4:return c0(cl(n),cl(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=ll(o),m=ll(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const C=zt(h[b],m[b]);if(0!==C)return C}return zt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=zt(xr(o.latitude),xr(l.latitude));return 0!==h?h:zt(xr(o.longitude),xr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const C=Nd(h[b],m[b]);if(C)return C}return zt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),b=l.fields||{},C=Object.keys(b);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const O=zt(m[M],C[M]);if(0!==O)return O;const L=Nd(h[m[M]],b[C[M]]);if(0!==L)return L}return zt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw ot()}}function c0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=ha(n),r=ha(e),o=zt(t.seconds,r.seconds);return 0!==o?o:zt(t.nanos,r.nanos)}function iD(n){return u0(n)}function u0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ha(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ll(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=u0(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${u0(r.fields[m])}`;return l+"}"}(n.mapValue):ot();var e}function Vy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gs(n){return!!n&&"integerValue"in n}function xn(n){return!!n&&"arrayValue"in n}function Ao(n){return!!n&&"nullValue"in n}function d0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uy(n){return!!n&&"mapValue"in n}function Of(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Of(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Of(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Uy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Of(t)}setAll(e){let t=hi.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Of(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Uy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Uy(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){mu(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Zr(Of(this.value))}}function Pd(n){const e=[];return mu(n.fields,(t,r)=>{const o=new hi([t]);if(Uy(r)){const l=Pd(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Od(e)}class fn{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new fn(e,0,Rt.min(),Zr.empty(),0)}static newFoundDocument(e,t,r){return new fn(e,1,t,r,0)}static newNoDocument(e,t){return new fn(e,2,t,Zr.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Zr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new fn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lx{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.A=null}}function _u(n,e=null,t=[],r=[],o=null,l=null,h=null){return new Lx(n,e,t,r,o,l,h)}function qg(n){const e=Be(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+iD(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),fa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=kf(e.startAt)),e.endAt&&(t+="|ub:",t+=kf(e.endAt)),e.A=t}return e.A}function Nf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!iP(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!xi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bx(n.startAt,e.startAt)&&Bx(n.endAt,e.endAt)}function yu(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class fi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Pf(e,t,r):"array-contains"===t?new aD(e,r):"in"===t?new lD(e,r):"not-in"===t?new jy(e,r):"array-contains-any"===t?new Ux(e,r):new fi(e,t,r)}static R(e,t,r){return"in"===t?new Vx(e,r):new By(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Nd(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.P(Nd(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Pf extends fi{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.P(t)}}class Vx extends fi{constructor(e,t){super(e,"in",t),this.keys=h0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class By extends fi{constructor(e,t){super(e,"not-in",t),this.keys=h0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class aD extends fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xn(t)&&Ly(t.arrayValue,this.value)}}class lD extends fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ly(this.value.arrayValue,t)}}class jy extends fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ly(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ly(this.value.arrayValue,t)}}class Ux extends fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xn(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ly(this.value.arrayValue,r))}}class kd{constructor(e,t){this.position=e,this.before=t}}function kf(n){return`${n.before?"b":"a"}:${n.position.map(e=>iD(e)).join(",")}`}class zg{constructor(e,t="asc"){this.field=e,this.dir=t}}function iP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function bt(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?ze.comparator(ze.fromName(h.referenceValue),t.key):Nd(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Bx(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xi(n.position[t],e.position[t]))return!1;return!0}class Vs{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.V=null,this.S=null}}function cD(n,e,t,r,o,l,h,m){return new Vs(n,e,t,r,o,l,h,m)}function Ff(n){return new Vs(n)}function Hy(n){return!fa(n.limit)&&"F"===n.limitType}function f0(n){return!fa(n.limit)&&"L"===n.limitType}function uD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function p0(n){for(const e of n.filters)if(e.v())return e.field;return null}function Yr(n){return null!==n.collectionGroup}function Lf(n){const e=Be(n);if(null===e.V){e.V=[];const t=p0(e),r=uD(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new zg(t)),e.V.push(new zg(hi.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new zg(hi.keyField(),l))}}}return e.V}function Mo(n){const e=Be(n);if(!e.S)if("F"===e.limitType)e.S=_u(e.path,e.collectionGroup,Lf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Lf(e))t.push(new zg(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new kd(e.endAt.position,!e.endAt.before):null,o=e.startAt?new kd(e.startAt.position,!e.startAt.before):null;e.S=_u(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.S}function $y(n,e,t){return new Vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wg(n,e){return Nf(Mo(n),Mo(e))&&n.limitType===e.limitType}function dD(n){return`${qg(Mo(n))}|lt:${n.limitType}`}function g0(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${iD(r.value)}`;var r}).join(", ")}]`),fa(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+kf(n.startAt)),n.endAt&&(e+=", endAt: "+kf(n.endAt)),`Target(${e})`}(Mo(n))}; limitType=${n.limitType})`}function Kg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):ze.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!bt(t.startAt,Lf(t),r)||t.endAt&&bt(t.endAt,Lf(t),r)));var t,r}function hD(n){return(e,t)=>{let r=!1;for(const o of Lf(n)){const l=jx(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function jx(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),b=h.data.field(o);return null!==m&&null!==b?Nd(m,b):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function Gy(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l0(e)?"-0":e}}function fD(n){return{integerValue:""+n}}function pD(n,e){return wt(e)?fD(e):Gy(n,e)}class Zg{constructor(){this._=void 0}}function m0(n,e,t){return n instanceof Vf?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Fd?gD(n,e):n instanceof Ld?mD(n,e):function(r,o){const l=$x(r,o),h=Bf(l)+Bf(r.C);return gs(l)&&gs(r.C)?fD(h):Gy(r.N,h)}(n,e)}function Hx(n,e,t){return n instanceof Fd?gD(n,e):n instanceof Ld?mD(n,e):t}function $x(n,e){return n instanceof Uf?gs(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vf extends Zg{}class Fd extends Zg{constructor(e){super(),this.elements=e}}function gD(n,e){const t=_D(e);for(const r of n.elements)t.some(o=>xi(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ld extends Zg{constructor(e){super(),this.elements=e}}function mD(n,e){let t=_D(e);for(const r of n.elements)t=t.filter(o=>!xi(o,r));return{arrayValue:{values:t}}}class Uf extends Zg{constructor(e,t){super(),this.N=e,this.C=t}}function Bf(n){return xr(n.integerValue||n.doubleValue)}function _D(n){return xn(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yg{constructor(e,t){this.field=e,this.transform=t}}class Qg{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qy{}function Gx(n,e,t){n instanceof Xg?function(r,o,l){const h=r.value.clone(),m=Wx(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof vu?function(r,o,l){if(!Jg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=Wx(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(zx(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _0(n,e,t){var o;n instanceof Xg?function(r,o,l){if(!Jg(r.precondition,o))return;const h=r.value.clone(),m=Kx(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(y0(o),h).setHasLocalMutations()}(n,e,t):n instanceof vu?function(r,o,l){if(!Jg(r.precondition,o))return;const h=Kx(r.fieldTransforms,l,o),m=o.data;m.setAll(zx(r)),m.setAll(h),o.convertToFoundDocument(y0(o),m).setHasLocalMutations()}(n,e,t):Jg(n.precondition,o=e)&&o.convertToNoDocument(Rt.min())}function qx(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=$x(r.transform,o||null);null!=l&&(null==t&&(t=Zr.empty()),t.set(r.field,l))}return t||null}function vD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xf(t,r,(o,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fd&&r instanceof Fd||t instanceof Ld&&r instanceof Ld?xf(t.elements,r.elements,xi):t instanceof Uf&&r instanceof Uf?xi(t.C,r.C):t instanceof Vf&&r instanceof Vf);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function y0(n){return n.isFoundDocument()?n.version:Rt.min()}class Xg extends qy{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class vu extends qy{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function zx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Wx(n,e,t){const r=new Map;yt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,Hx(h,m,t[o]))}return r}function Kx(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,m0(l,h,e))}return r}class Vd extends qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class v0 extends qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Zx{constructor(e){this.count=e}}var yr,Zt;function bD(n){switch(n){default:return ot();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function ED(n){if(void 0===n)return _r("GRPC error has no .code"),pe.UNKNOWN;switch(n){case yr.OK:return pe.OK;case yr.CANCELLED:return pe.CANCELLED;case yr.UNKNOWN:return pe.UNKNOWN;case yr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case yr.INTERNAL:return pe.INTERNAL;case yr.UNAVAILABLE:return pe.UNAVAILABLE;case yr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case yr.NOT_FOUND:return pe.NOT_FOUND;case yr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case yr.ABORTED:return pe.ABORTED;case yr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case yr.DATA_LOSS:return pe.DATA_LOSS;default:return ot()}}(Zt=yr||(yr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class vr{constructor(e,t){this.comparator=e,this.root=t||pi.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jf(this.root,e,this.comparator,!0)}}class jf{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:pi.RED,this.left=null!=o?o:pi.EMPTY,this.right=null!=l?l:pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new pi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return pi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1,pi.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,o){return this}insert(n,e,t){return new pi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gi(this.data.getIterator())}getIteratorFrom(e){return new gi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class gi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const wD=new vr(ze.comparator);function Qn(){return wD}const b0=new vr(ze.comparator);function E0(){return b0}const CD=new vr(ze.comparator);function w0(){return CD}const ID=new _n(ze.comparator);function dn(...n){let e=ID;for(const t of n)e=e.add(t);return e}const Yx=new _n(zt);function zy(){return Yx}class Hf{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,em.createSynthesizedTargetChangeForCurrentChange(e,t)),new Hf(Rt.min(),r,zy(),Qn(),dn())}}class em{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new em(Mr.EMPTY_BYTE_STRING,t,dn(),dn(),dn())}}class C0{constructor(e,t,r,o){this.k=e,this.removedTargetIds=t,this.key=r,this.$=o}}class TD{constructor(e,t){this.targetId=e,this.O=t}}class DD{constructor(e,t,r=Mr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Ud{constructor(){this.F=0,this.M=SD(),this.L=Mr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=dn(),t=dn(),r=dn();return this.M.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ot()}}),new em(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=SD()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class sP{constructor(e){this.tt=e,this.et=new Map,this.nt=Qn(),this.st=I0(),this.it=new _n(zt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,o)=>{this.ht(o)&&t(o)})}ft(e){const t=e.targetId,r=e.O.count,o=this.dt(t);if(o){const l=o.target;if(yu(l))if(0===r){const h=new ze(l.path);this.ct(t,h,fn.newNoDocument(h,Rt.min()))}else yt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,h)=>{const m=this.dt(h);if(m){if(l.current&&yu(m.target)){const b=new ze(m.target.path);null!==this.nt.get(b)||this.gt(h,b)||this.ct(h,b,fn.newNoDocument(b,e))}l.K&&(t.set(h,l.W()),l.G())}});let r=dn();this.st.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const C=this.dt(b);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const o=new Hf(e,t,this.it,this.nt,r);return this.nt=Qn(),this.st=I0(),this.it=new _n(zt),o}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,t)?o.H(t,1):o.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Ud,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new _n(zt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Ud),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function I0(){return new vr(ze.comparator)}function SD(){return new vr(ze.comparator)}const oP={asc:"ASCENDING",desc:"DESCENDING"},AD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qx{constructor(e,t){this.databaseId=e,this.D=t}}function Bd(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MD(n,e){return n.D?e.toBase64():e.toUint8Array()}function xD(n,e){return Bd(n,e.toTimestamp())}function Or(n){return yt(!!n),Rt.fromTimestamp(function(e){const t=ha(e);return new Kr(t.seconds,t.nanos)}(n))}function Wy(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RD(n){const e=tn.fromString(n);return yt(rR(e)),e}function tm(n,e){return Wy(n.databaseId,e.path)}function ul(n,e){const t=RD(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze($f(t))}function T0(n,e){return Wy(n.databaseId,e)}function OD(n){const e=RD(n);return 4===e.length?tn.emptyPath():$f(e)}function nm(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $f(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function D0(n,e,t){return{name:tm(n,e),fields:t.value.mapValue.fields}}function S0(n,e,t){const r=ul(n,e.name),o=Or(e.updateTime),l=new Zr({mapValue:{fields:e.fields}}),h=fn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function rm(n,e){let t;if(e instanceof Xg)t={update:D0(n,e.key,e.value)};else if(e instanceof Vd)t={delete:tm(n,e.key)};else if(e instanceof vu)t={update:D0(n,e.key,e.data),updateMask:nR(e.fieldMask)};else{if(!(e instanceof v0))return ot();t={verify:tm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Vf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ld)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uf)return{fieldPath:l.field.canonicalString(),increment:h.C};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:xD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}function A0(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Rr.updateTime(Or(o.updateTime)):void 0!==o.exists?Rr.exists(o.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(yt("REQUEST_TIME"===h.setToServerValue),m=new Vf):"appendMissingElements"in h?m=new Fd(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Ld(h.removeAllFromArray.values||[]):"increment"in h?m=new Uf(l,h.increment):ot();const b=hi.fromServerFormat(h.fieldPath);return new Yg(b,m)}(n,o)):[];var o;if(e.update){const o=ul(n,e.update.name),l=new Zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Od((e.updateMask.fieldPaths||[]).map(C=>hi.fromServerFormat(C)));return new vu(o,l,h,t,r)}return new Xg(o,l,t,r)}if(e.delete){const o=ul(n,e.delete);return new Vd(o,t)}if(e.verify){const o=ul(n,e.verify);return new v0(o,t)}return ot()}function M0(n,e){return{documents:[T0(n,e.path)]}}function x0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=T0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=T0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(C=>function(M){if("=="===M.op){if(d0(M.value))return{unaryFilter:{field:Zi(M.field),op:"IS_NAN"}};if(Ao(M.value))return{unaryFilter:{field:Zi(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(d0(M.value))return{unaryFilter:{field:Zi(M.field),op:"IS_NOT_NAN"}};if(Ao(M.value))return{unaryFilter:{field:Zi(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(M.field),op:R0(M.op),value:M.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:Zi((C=b).field),direction:eR(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(b=e.limit,n.D||fa(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=Gf(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Gf(e.endAt)),t}function kD(n){let e=OD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){yt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=FD(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(M=>{return new zg(zf((O=M).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(M){let O;return O="object"==typeof M?M.value:M,fa(O)?null:O}(t.limit));let b=null;t.startAt&&(b=qf(t.startAt));let C=null;return t.endAt&&(C=qf(t.endAt)),cD(e,o,h,l,m,"F",b,C)}function FD(n){return n?void 0!==n.unaryFilter?[tR(n)]:void 0!==n.fieldFilter?[Ky(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>FD(e)).reduce((e,t)=>e.concat(t)):ot():[]}function Gf(n){return{before:n.before,values:n.position}}function qf(n){return new kd(n.values||[],!!n.before)}function eR(n){return oP[n]}function R0(n){return AD[n]}function Zi(n){return{fieldPath:n.canonicalString()}}function zf(n){return hi.fromServerFormat(n.fieldPath)}function Ky(n){return fi.create(zf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function tR(n){switch(n.unaryFilter.op){case"IS_NAN":const e=zf(n.unaryFilter.field);return fi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=zf(n.unaryFilter.field);return fi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zf(n.unaryFilter.field);return fi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zf(n.unaryFilter.field);return fi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function nR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Us(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=N0(e)),e=O0(n.get(t),e);return N0(e)}function O0(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function N0(n){return n+"\x01\x01"}function pa(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&ot(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:ot()}l=h+2}return new tn(r)}class P0{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Bs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Bs.store="owner",Bs.key="owner";class bu{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}bu.store="mutationQueues",bu.keyPath="userId";class Rn{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}Rn.store="mutations",Rn.keyPath="batchId",Rn.userMutationsIndex="userMutationsIndex",Rn.userMutationsKeyPath=["userId","batchId"];class Ri{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Us(t)]}static key(e,t,r){return[e,Us(t),r]}}Ri.store="documentMutations",Ri.PLACEHOLDER=new Ri;class LD{constructor(e,t){this.path=e,this.readTime=t}}class k0{constructor(e,t){this.path=e,this.version=t}}class Gn{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}Gn.store="remoteDocuments",Gn.readTimeIndex="readTimeIndex",Gn.readTimeIndexPath="readTime",Gn.collectionReadTimeIndex="collectionReadTimeIndex",Gn.collectionReadTimeIndexPath=["parentPath","readTime"];class ga{constructor(e){this.byteSize=e}}ga.store="remoteDocumentGlobal",ga.key="remoteDocumentGlobalKey";class Yi{constructor(e,t,r,o,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Yi.store="targets",Yi.keyPath="targetId",Yi.queryTargetsIndexName="queryTargetsIndex",Yi.queryTargetsKeyPath=["canonicalId","targetId"];class Qr{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Qr.store="targetDocuments",Qr.keyPath=["targetId","path"],Qr.documentTargetsIndex="documentTargetsIndex",Qr.documentTargetsKeyPath=["path","targetId"];class js{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}js.key="targetGlobalKey",js.store="targetGlobal";class Eu{constructor(e,t){this.collectionId=e,this.parent=t}}Eu.store="collectionParents",Eu.keyPath=["collectionId","parent"];class dl{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}dl.store="clientMetadata",dl.keyPath="clientId";class Wf{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Wf.store="bundles",Wf.keyPath="bundleId";class jd{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}jd.store="namedQueries",jd.keyPath="name";const iR=[bu.store,Rn.store,Ri.store,Gn.store,Yi.store,Bs.store,js.store,Qr.store,dl.store,ga.store,Eu.store,Wf.store,jd.store],sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,r)=>{t(e)})}static reject(e){return new Ae((t,r)=>{r(e)})}static waitFor(e){return new Ae((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},b=>r(b))}),h=!0,l===o&&t()})}static or(e){let t=Ae.resolve(!1);for(const r of e)t=t.next(o=>o?Ae.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Zy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new di,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new hc(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=V0(r.target.error);this.Et.reject(new hc(e,o))}}static open(e,t,r,o){try{return new Zy(t,e.transaction(o,r))}catch(l){throw new hc(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new F0(t)}}class ma{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===ma.Rt((0,_t.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),$d(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,_t.hl)())return!1;if(ma.Pt())return!0;const e=(0,_t.z$)(),t=ma.Rt(e),r=0<t&&t<10,o=ma.vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new hc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Ne(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ne(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new hc(e,m))},l.onupgradeneeded=h=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,ye.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Dt(e);const b=Zy.open(l.db,e,h?"readonly":"readwrite",r),C=o(b).catch(M=>(b.abort(M),Ae.reject(M))).toPromise();return C.catch(()=>{}),yield b.It,C}catch(b){const C="FirebaseError"!==b.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),l.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aP{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return $d(this.kt.delete())}}class hc extends Ne{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Hd(n){return"IndexedDbTransactionError"===n.name}class F0{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$d(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),$d(this.store.add(e))}get(e){return $d(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),$d(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),$d(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Bt(r,(l,h)=>{o.push(h)}).next(()=>o)}Ut(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(l,h,m)=>m.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Bt(o,t)}jt(e){const t=this.cursor({});return new Ae((r,o)=>{t.onerror=l=>{const h=V0(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Ae((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new aP(m),C=t(m.primaryKey,m.value,b);if(C instanceof Ae){const M=C.catch(O=>(b.done(),Ae.reject(O)));r.push(M)}b.isDone?o():null===b.Ft?m.continue():m.continue(b.Ft)}}).next(()=>Ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $d(n){return new Ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=V0(r.target.error);t(o)}})}let L0=!1;function V0(n){const e=ma.Rt((0,_t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return L0||(L0=!0,setTimeout(()=>{throw r},0)),r}}return n}class VD extends Oi{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=Be(n);return ma.St(t.Qt,e)}class Yy{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Gx(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&xf(this.mutations,e.mutations,(t,r)=>vD(t,r))&&xf(this.baseMutations,e.baseMutations,(t,r)=>vD(t,r))}}class Qy{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){yt(e.mutations.length===r.length);let o=w0();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new Qy(e,t,r,o)}}class _a{constructor(e,t,r,o,l=Rt.min(),h=Rt.min(),m=Mr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jy{constructor(e){this.Wt=e}}function UD(n,e){if(e.document)return S0(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ze.fromSegments(e.noDocument.path),r=Gd(e.noDocument.readTime),o=fn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=ze.fromSegments(e.unknownDocument.path),r=Gd(e.unknownDocument.version);return fn.newUnknownDocument(t,r)}return ot()}function U0(n,e,t){const r=B0(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:tm(m=n.Wt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Bd(m,b.version.toTimestamp())};return new Gn(null,null,l,e.hasCommittedMutations,r,o)}var m,b;if(e.isNoDocument()){const l=e.key.path.toArray(),h=fc(e.version),m=e.hasCommittedMutations;return new Gn(null,new LD(l,h),null,m,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=fc(e.version);return new Gn(new k0(l,h),null,null,!0,r,o)}return ot()}function B0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function j0(n){const e=new Kr(n[0],n[1]);return Rt.fromTimestamp(e)}function fc(n){const e=n.toTimestamp();return new P0(e.seconds,e.nanoseconds)}function Gd(n){const e=new Kr(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function Kf(n,e){const t=(e.baseMutations||[]).map(l=>A0(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>A0(n.Wt,l)),o=Kr.fromMillis(e.localWriteTimeMs);return new Yy(e.batchId,o,t,r)}function qd(n){const e=Gd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gd(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var o;return void 0!==n.query.documents?(yt(1===(o=n.query).documents.length),r=Mo(Ff(OD(o.documents[0])))):r=Mo(kD(n.query)),new _a(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Mr.fromBase64String(n.resumeToken))}function Xy(n,e){const t=fc(e.snapshotVersion),r=fc(e.lastLimboFreeSnapshotVersion);let o;o=yu(e.target)?M0(n.Wt,e.target):x0(n.Wt,e.target);const l=e.resumeToken.toBase64();return new Yi(e.targetId,qg(e.target),t,l,e.sequenceNumber,r,o)}function H0(n){const e=kD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$y(e,e.limit,"L"):e}class oR{getBundleMetadata(e,t){return $0(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Gd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return $0(e).put({bundleId:(r=t).id,createTime:fc(Or(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return G0(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:H0(o.bundledQuery),readTime:Gd(o.readTime)};var o})}saveNamedQuery(e,t){return G0(e).put({name:(r=t).name,readTime:fc(Or(r.readTime)),bundledQuery:r.bundledQuery});var r}}function $0(n){return Ni(n,Wf.store)}function G0(n){return Ni(n,jd.store)}class BD{constructor(){this.Gt=new q0}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.Gt.getEntries(t))}}class q0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new _n(tn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new _n(tn.comparator)).toArray()}}class jD{constructor(){this.zt=new q0}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:r,parent:Us(o)};return z0(e).put(l)}return Ae.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Gg(t),""],!1,!0);return z0(e).Lt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(pa(h.parent))}return r})}}function z0(n){return Ni(n,Eu.store)}const HD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ms{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ms(e,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function W0(n,e,t){const r=n.store(Rn.store),o=n.store(Ri.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.Kt({range:h},(M,O,L)=>(m++,L.delete()));l.push(b.next(()=>{yt(1===m)}));const C=[];for(const M of t.mutations){const O=Ri.key(e,M.key.path,t.batchId);l.push(o.delete(O)),C.push(M.key)}return Ae.waitFor(l).next(()=>C)}function ev(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);class tv{constructor(e,t,r,o){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(e,t,r,o){yt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new tv(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).Kt({index:Rn.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=zd(e),h=pc(e);return h.add({}).next(m=>{yt("number"==typeof m);const b=new Yy(m,t,r,o),C=function(L,B,W){const le=W.baseMutations.map(Le=>rm(L.Wt,Le)),be=W.mutations.map(Le=>rm(L.Wt,Le));return new Rn(B,W.batchId,W.localWriteTime.toMillis(),le,be)}(this.N,this.userId,b),M=[];let O=new _n((L,B)=>zt(L.canonicalString(),B.canonicalString()));for(const L of o){const B=Ri.key(this.userId,L.key.path,m);O=O.add(L.key.path.popLast()),M.push(h.put(C)),M.push(l.put(B,Ri.PLACEHOLDER))}return O.forEach(L=>{M.push(this.Ht.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Jt[m]=b.keys()}),Ae.waitFor(M).next(()=>b)})}lookupMutationBatch(e,t){return pc(e).get(t).next(r=>r?(yt(r.userId===this.userId),Kf(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Ae.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Jt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return pc(e).Kt({index:Rn.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(yt(m.batchId>=r),l=Kf(this.N,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pc(e).Kt({index:Rn.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).Lt(Rn.userMutationsIndex,t).next(r=>r.map(o=>Kf(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ri.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return zd(e).Kt({range:o},(h,m,b)=>{const[C,M,O]=h,L=pa(M);if(C===this.userId&&t.path.isEqual(L))return pc(e).get(O).next(B=>{if(!B)throw ot();yt(B.userId===this.userId),l.push(Kf(this.N,B))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(zt);const o=[];return t.forEach(l=>{const h=Ri.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=zd(e).Kt({range:m},(C,M,O)=>{const[L,B,W]=C,le=pa(B);L===this.userId&&l.path.isEqual(le)?r=r.add(W):O.done()});o.push(b)}),Ae.waitFor(o).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Ri.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new _n(zt);return zd(e).Kt({range:h},(b,C,M)=>{const[O,L,B]=b,W=pa(L);O===this.userId&&r.isPrefixOf(W)?W.length===o&&(m=m.add(B)):M.done()}).next(()=>this.Zt(e,m))}Zt(e,t){const r=[],o=[];return t.forEach(l=>{o.push(pc(e).get(l).next(h=>{if(null===h)throw ot();yt(h.userId===this.userId),r.push(Kf(this.N,h))}))}),Ae.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return W0(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const r=IDBKeyRange.lowerBound(Ri.prefixForUser(this.userId)),o=[];return zd(e).Kt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=pa(l[1]);o.push(b)}else m.done()}).next(()=>{yt(0===o.length)})})}containsKey(e,t){return K0(e,this.userId,t)}ee(e){return $D(e).get(this.userId).next(t=>t||new bu(this.userId,-1,""))}}function K0(n,e,t){const r=Ri.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return zd(n).Kt({range:l,qt:!0},(m,b,C)=>{const[M,O,L]=m;M===e&&O===o&&(h=!0),C.done()}).next(()=>h)}function pc(n){return Ni(n,Rn.store)}function zd(n){return Ni(n,Ri.store)}function $D(n){return Ni(n,bu.store)}class Wd{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Wd(0)}static ie(){return new Wd(-1)}}class aR{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Wd(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Rt.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.oe(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Kd(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(yt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Kd(e).Kt((h,m)=>{const b=qd(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(e,b)))}).next(()=>Ae.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Kd(e).Kt((r,o)=>{const l=qd(o);t(l)})}re(e){return lR(e).get(js.key).next(t=>(yt(null!==t),t))}oe(e,t){return lR(e).put(js.key,t)}ce(e,t){return Kd(e).put(Xy(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=qg(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Kd(e).Kt({range:o,index:Yi.queryTargetsIndexName},(h,m,b)=>{const C=qd(m);Nf(t,C.target)&&(l=C,b.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Zd(e);return t.forEach(h=>{const m=Us(h.path);o.push(l.put(new Qr(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),Ae.waitFor(o)}removeMatchingKeys(e,t,r){const o=Zd(e);return Ae.forEach(t,l=>{const h=Us(l.path);return Ae.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Zd(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Zd(e);let l=dn();return o.Kt({range:r,qt:!0},(h,m,b)=>{const C=pa(h[1]),M=new ze(C);l=l.add(M)}).next(()=>l)}containsKey(e,t){const r=Us(t.path),o=IDBKeyRange.bound([r],[Gg(r)],!1,!0);let l=0;return Zd(e).Kt({index:Qr.documentTargetsIndex,qt:!0,range:o},([h,m],b,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}Tt(e,t){return Kd(e).get(t).next(r=>r?qd(r):null)}}function Kd(n){return Ni(n,Yi.store)}function lR(n){return Ni(n,js.store)}function Zd(n){return Ni(n,Qr.store)}function Zf(n){return GD.apply(this,arguments)}function GD(){return(GD=(0,ye.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==sR)throw n;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function cR([n,e],[t,r]){const o=zt(n,t);return 0===o?zt(e,r):o}class lP{constructor(e){this.ue=e,this.buffer=new _n(cR),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();cR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cP{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Hd(o)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Zf(o)}yield t._e(e)}))}}class uP{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(Ar.T);const r=new lP(t);return this.me.forEachTarget(e,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(e,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(HD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HD):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,o,l,h,m,b,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,h=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(C=Date.now(),s0()<=rl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${O} documents in `+(C-b)+`ms\nTotal Duration: ${C-M}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:O})))}}class dP{constructor(e,t){this.db=e,this.garbageCollector=new uP(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,o)=>t(o))}addReference(e,t,r){return Z0(e,r)}removeReference(e,t,r){return Z0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Z0(e,t)}Ie(e,t){return function(r,o){let l=!1;return $D(r).jt(h=>K0(r,h,o).next(m=>(m&&(l=!0),Ae.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ee(e,(h,m)=>{if(m<=t){const b=this.Ie(e,h).next(C=>{if(!C)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Zd(e).delete([0,Us(h.path)])))});o.push(b)}}).next(()=>Ae.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Z0(e,t)}Ee(e,t){const r=Zd(e);let o,l=Ar.T;return r.Kt({index:Qr.documentTargetsIndex},([h,m],{path:b,sequenceNumber:C})=>{0===h?(l!==Ar.T&&t(new ze(pa(o)),l),l=C,o=b):l=Ar.T}).next(()=>{l!==Ar.T&&t(new ze(pa(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Z0(n,e){return Zd(n).put((r=n.currentSequenceNumber,new Qr(0,Us(e.path),r)));var r}class im{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){mu(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return ky(this.inner)}}class uR{constructor(){this.changes=new im(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Rt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:fn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ae.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hP{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Yd(e).put(Y0(t),r)}removeEntry(e,t){const r=Yd(e),o=Y0(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Yd(e).get(Y0(t)).next(r=>this.Re(t,r))}be(e,t){return Yd(e).get(Y0(t)).next(r=>({document:this.Re(t,r),size:ev(r)}))}getEntries(e,t){let r=Qn();return this.Pe(e,t,(o,l)=>{const h=this.Re(o,l);r=r.insert(o,h)}).next(()=>r)}ve(e,t){let r=Qn(),o=new vr(ze.comparator);return this.Pe(e,t,(l,h)=>{const m=this.Re(l,h);r=r.insert(l,m),o=o.insert(l,ev(h))}).next(()=>({documents:r,Ve:o}))}Pe(e,t,r){if(t.isEmpty())return Ae.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Yd(e).Kt({range:o},(m,b,C)=>{const M=ze.fromSegments(m);for(;h&&ze.comparator(h,M)<0;)r(h,null),h=l.getNext();h&&h.isEqual(M)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?C.Mt(h.path.toArray()):C.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Qn();const l=t.path.length+1,h={};if(r.isEqual(Rt.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),b=B0(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=Gn.collectionReadTimeIndex}return Yd(e).Kt(h,(m,b,C)=>{if(m.length!==l)return;const M=UD(this.N,b);t.path.isPrefixOf(M.key.path)?Kg(t,M)&&(o=o.insert(M.key,M)):C.done()}).next(()=>o)}newChangeBuffer(e){return new fP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dR(e).get(ga.key).next(t=>(yt(!!t),t))}Ae(e,t){return dR(e).put(ga.key,t)}Re(e,t){if(t){const r=UD(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return fn.newInvalidDocument(e)}}class fP extends uR{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new im(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new _n((l,h)=>zt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.De.get(l);if(h.document.isValidDocument()){const b=U0(this.Se.N,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=ev(b)-m,t.push(this.Se.addEntry(e,l,b))}else if(r-=m,this.trackRemovals){const b=U0(this.Se.N,fn.newNoDocument(l,Rt.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,b))}else t.push(this.Se.removeEntry(e,l))}),o.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,r)),Ae.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:o})=>(o.forEach((l,h)=>{this.De.set(l,h)}),r))}}function dR(n){return Ni(n,ga.store)}function Yd(n){return Ni(n,Gn.store)}function Y0(n){return n.path.toArray()}class hR{constructor(e){this.N=e}Ct(e,t,r,o){yt(r<o&&r>=0&&o<=11);const l=new Zy("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(Bs.store),(m=e).createObjectStore(bu.store,{keyPath:bu.keyPath}),m.createObjectStore(Rn.store,{keyPath:Rn.keyPath,autoIncrement:!0}).createIndex(Rn.userMutationsIndex,Rn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Ri.store),qD(e),function(m){m.createObjectStore(Gn.store)}(e));let h=Ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(Qr.store),m.deleteObjectStore(Yi.store),m.deleteObjectStore(js.store)}(e),qD(e)),h=h.next(()=>function(m){const b=m.store(js.store),C=new js(0,0,Rt.min().toTimestamp(),0);return b.put(js.key,C)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(Rn.store).Lt().next(C=>{m.deleteObjectStore(Rn.store),m.createObjectStore(Rn.store,{keyPath:Rn.keyPath,autoIncrement:!0}).createIndex(Rn.userMutationsIndex,Rn.userMutationsKeyPath,{unique:!0});const M=b.store(Rn.store),O=C.map(L=>M.put(L));return Ae.waitFor(O)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(dl.store,{keyPath:dl.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ce(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(ga.store)}(e),this.Ne(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.ke(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const b=m.objectStore(Gn.store);b.createIndex(Gn.readTimeIndex,Gn.readTimeIndexPath,{unique:!1}),b.createIndex(Gn.collectionReadTimeIndex,Gn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.$e(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Wf.store,{keyPath:Wf.keyPath})})(e),function(m){m.createObjectStore(jd.store,{keyPath:jd.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(Gn.store).Kt((r,o)=>{t+=ev(o)}).next(()=>{const r=new ga(t);return e.store(ga.store).put(ga.key,r)})}Ce(e){const t=e.store(bu.store),r=e.store(Rn.store);return t.Lt().next(o=>Ae.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Lt(Rn.userMutationsIndex,h).next(m=>Ae.forEach(m,b=>{yt(b.userId===l.userId);const C=Kf(this.N,b);return W0(e,l.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(Qr.store),r=e.store(Gn.store);return e.store(js.store).get(js.key).next(o=>{const l=[];return r.Kt((h,m)=>{const b=new tn(h),C=[0,Us(b)];l.push(t.get(C).next(M=>M?Ae.resolve():t.put(new Qr(0,Us(b),o.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(l))})}ke(e,t){e.createObjectStore(Eu.store,{keyPath:Eu.keyPath});const r=t.store(Eu.store),o=new q0,l=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:Us(b)})}};return t.store(Gn.store).Kt({qt:!0},(h,m)=>{const b=new tn(h);return l(b.popLast())}).next(()=>t.store(Ri.store).Kt({qt:!0},([h,m,b],C)=>{const M=pa(m);return l(M.popLast())}))}$e(e){const t=e.store(Yi.store);return t.Kt((r,o)=>{const l=qd(o),h=Xy(this.N,l);return t.put(h)})}}function qD(n){n.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.documentTargetsIndex,Qr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Yi.store,{keyPath:Yi.keyPath}).createIndex(Yi.queryTargetsIndexName,Yi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(js.store)}const Q0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zD{constructor(e,t,r,o,l,h,m,b,C,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=h,this.document=m,this.Fe=C,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!zD.bt())throw new Ne(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dP(this,o),this.We=t+"main",this.N=new Jy(b),this.Ge=new ma(this.We,11,new hR(this.N)),this.ze=new aR(this.referenceDelegate,this.N),this.Ht=new jD,this.He=new hP(this.N,this.Ht),this.Je=new oR,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Q0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Ar(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>J0(e).put(new dl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Hd(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return nv(e).get(Bs.key).next(t=>Ae.resolve(this.an(t)))}un(e){return J0(e).delete(this.clientId)}hn(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ni(r,dl.store);return o.Lt().next(l=>{const h=e.fn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return Ae.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ae.resolve(!0):nv(e).get(Bs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Q0);return!1}}return!(!this.networkEnabled||!this.inForeground)||J0(e).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Bs.store,dl.store],t=>{const r=new VD(t,Ar.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>J0(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return tv.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let l;return Fe("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",iR,h=>(l=new VD(h,this.Le?this.Le.next():Ar.T),"readwrite-primary"===t?this.sn(l).next(m=>!!m||this.rn(l)).next(m=>{if(!m)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(pe.FAILED_PRECONDITION,sR);return r(l)}).next(m=>this.cn(l).next(()=>m)):this.Tn(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}Tn(e){return nv(e).get(Bs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(pe.FAILED_PRECONDITION,Q0)})}cn(e){const t=new Bs(this.clientId,this.allowTabSynchronization,Date.now());return nv(e).put(Bs.key,t)}static bt(){return ma.bt()}on(e){const t=nv(e);return t.get(Bs.key).next(r=>this.an(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete(Bs.key)):Ae.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,_t.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nv(n){return Ni(n,Bs.store)}function J0(n){return Ni(n,dl.store)}function X0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fR{constructor(e,t){this.progress=e,this.En=t}}class WD{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,t.path):Yr(t)?this.Sn(e,t,r):this.Dn(e,t,r);var o}Vn(e,t){return this.An(e,new ze(t)).next(r=>{let o=E0();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(e,t,r){const o=t.collectionGroup;let l=E0();return this.Ht.getCollectionParents(e,o).next(h=>Ae.forEach(h,m=>{const b=(C=t,M=m.child(o),new Vs(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.Dn(e,b,r).next(C=>{C.forEach((M,O)=>{l=l.insert(M,O)})})}).next(()=>l))}Dn(e,t,r){let o,l;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Cn(e,l,o).next(m=>{o=m;for(const b of l)for(const C of b.mutations){const M=C.key;let O=o.get(M);null==O&&(O=fn.newInvalidDocument(M),o=o.insert(M,O)),_0(C,O,b.localWriteTime),O.isFoundDocument()||(o=o.remove(M))}}))).next(()=>(o.forEach((h,m)=>{Kg(t,m)||(o=o.remove(h))}),o))}Cn(e,t,r){let o=dn();for(const h of t)for(const m of h.mutations)m instanceof vu&&null===r.get(m.key)&&(o=o.add(m.key));let l=r;return this.He.getEntries(e,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class KD{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=o}static kn(e,t){let r=dn(),o=dn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new KD(e,t.fromCache,r,o)}}class pR{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Rt.min())?this.Fn(e,t):this.On.Pn(e,o).next(l=>{const h=this.Mn(t,l);return(Hy(t)||f0(t))&&this.Ln(t.limitType,h,o,r)?this.Fn(e,t):(s0()<=rl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),g0(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Mn(e,t){let r=new _n(hD(e));return t.forEach((o,l)=>{Kg(e,l)&&(r=r.add(l))}),r}Ln(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fn(e,t){return s0()<=rl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",g0(t)),this.On.getDocumentsMatchingQuery(e,t,Rt.min())}}class pP{constructor(e,t,r,o){this.persistence=e,this.Bn=t,this.N=o,this.Un=new vr(zt),this.qn=new im(l=>qg(l),Nf),this.Kn=Rt.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new WD(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function gR(n,e,t,r){return new pP(n,e,t,r)}function ZD(n,e){return YD.apply(this,arguments)}function YD(){return(YD=(0,ye.Z)(function*(n,e){const t=Be(n);let r=t.In,o=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.In.getAllMutationBatches(h).next(b=>(m=b,r=t.persistence.getMutationQueue(e),o=new WD(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const C=[],M=[];let O=dn();for(const L of m){C.push(L.batchId);for(const B of L.mutations)O=O.add(B.key)}for(const L of b){M.push(L.batchId);for(const B of L.mutations)O=O.add(B.key)}return o.Pn(h,O).next(L=>({Wn:L,removedBatchIds:C,addedBatchIds:M}))})});return t.In=r,t.Qn=o,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function mR(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,C){const M=b.batch,O=M.keys();let L=Ae.resolve();return O.forEach(B=>{L=L.next(()=>C.getEntry(m,B)).next(W=>{const le=b.docVersions.get(B);yt(null!==le),W.version.compareTo(le)<0&&(M.applyToRemoteDocument(W,b),W.isValidDocument()&&C.addEntry(W,b.commitVersion))})}),L.next(()=>h.In.removeMutationBatch(m,M))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,o))})}function rv(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function Yf(n,e){const t=Be(n),r=e.snapshotVersion;let o=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});o=t.Un;const m=[];e.targetChanges.forEach((C,M)=>{const O=o.get(M);if(!O)return;m.push(t.ze.removeMatchingKeys(l,C.removedDocuments,M).next(()=>t.ze.addMatchingKeys(l,C.addedDocuments,M)));const L=C.resumeToken;if(L.approximateByteSize()>0){const B=O.withResumeToken(L,r).withSequenceNumber(l.currentSequenceNumber);o=o.insert(M,B),W=O,be=C,yt((le=B).resumeToken.approximateByteSize()>0),(0===W.resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&m.push(t.ze.updateTargetData(l,B))}var W,le,be});let b=Qn();if(e.documentUpdates.forEach((C,M)=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),m.push(ew(l,h,e.documentUpdates,r,void 0).next(C=>{b=C})),!r.isEqual(Rt.min())){const C=t.ze.getLastRemoteSnapshotVersion(l).next(M=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(C)}return Ae.waitFor(m).next(()=>h.apply(l)).next(()=>t.Qn.vn(l,b)).next(()=>b)}).then(l=>(t.Un=o,l))}function ew(n,e,t,r,o){let l=dn();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=Qn();return t.forEach((b,C)=>{const M=h.get(b),O=(null==o?void 0:o.get(b))||r;C.isNoDocument()&&C.version.isEqual(Rt.min())?(e.removeEntry(b,O),m=m.insert(b,C)):!M.isValidDocument()||C.version.compareTo(M.version)>0||0===C.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(C,O),m=m.insert(b,C)):Fe("LocalStore","Ignoring outdated watch update for ",b,". Current version:",M.version," Watch version:",C.version)}),m})}function _R(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function Qf(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ze.getTargetData(r,e).next(l=>l?(o=l,Ae.resolve(o)):t.ze.allocateTargetId(r).next(h=>(o=new _a(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function wu(n,e,t){return iv.apply(this,arguments)}function iv(){return(iv=(0,ye.Z)(function*(n,e,t){const r=Be(n),o=r.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Hd(h))throw h;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(o.target)})).apply(this,arguments)}function sm(n,e,t){const r=Be(n);let o=Rt.min(),l=dn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,C){const M=Be(m),O=M.qn.get(C);return void 0!==O?Ae.resolve(M.Un.get(O)):M.ze.getTargetData(b,C)}(r,h,Mo(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?o:Rt.min(),t?l:dn())).next(m=>({documents:m,Gn:l})))}function tw(n,e){const t=Be(n),r=Be(t.ze),o=t.Un.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(h=>h?h.target:null))}function yR(n){const e=Be(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=Be(r);let m=Qn(),b=B0(l);const C=Yd(o),M=IDBKeyRange.lowerBound(b,!0);return C.Kt({index:Gn.readTimeIndex,range:M},(O,L)=>{const B=UD(h.N,L);m=m.insert(B.key,B),b=L.readTime}).next(()=>({En:m,readTime:j0(b)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function Jf(){return(Jf=(0,ye.Z)(function*(n){const e=Be(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Yd(r);let l=Rt.min();return o.Kt({index:Gn.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=j0(m.readTime)),b.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function XD(){return(XD=(0,ye.Z)(function*(n,e,t,r){const o=Be(n);let l=dn(),h=Qn(),m=w0();for(const M of t){const O=e.zn(M.metadata.name);M.document&&(l=l.add(O)),h=h.insert(O,e.Hn(M)),m=m.insert(O,e.Jn(M.metadata.readTime))}const b=o.jn.newChangeBuffer({trackRemovals:!0}),C=yield Qf(o,(M=r,Mo(Ff(tn.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>ew(M,b,h,Rt.min(),m).next(O=>(b.apply(M),O)).next(O=>o.ze.removeMatchingKeysForTargetId(M,C.targetId).next(()=>o.ze.addMatchingKeys(M,l,C.targetId)).next(()=>o.Qn.vn(M,O)).next(()=>O)))})).apply(this,arguments)}function gP(n,e){return eS.apply(this,arguments)}function eS(){return(eS=(0,ye.Z)(function*(n,e,t=dn()){const r=yield Qf(n,Mo(H0(e.bundledQuery))),o=Be(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Or(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Je.saveNamedQuery(l,e);const m=r.withResumeToken(Mr.EMPTY_BYTE_STRING,h);return o.Un=o.Un.insert(m.targetId,m),o.ze.updateTargetData(l,m).next(()=>o.ze.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ze.addMatchingKeys(l,t,r.targetId)).next(()=>o.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class vR{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Or(r.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:H0(r.bundledQuery),readTime:Or(r.readTime)}),Ae.resolve();var r}}class tS{constructor(){this.Zn=new _n(ar.ts),this.es=new _n(ar.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new ar(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new ar(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new ze(new tn([])),r=new ar(t,e),o=new ar(t,e+1),l=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ze(new tn([])),r=new ar(t,e),o=new ar(t,e+1);let l=dn();return this.es.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new ar(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ar{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ze.comparator(e.key,t.key)||zt(e.ls,t.ls)}static ns(e,t){return zt(e.ls,t.ls)||ze.comparator(e.key,t.key)}}class bR{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new _n(ar.ts)}checkEmpty(e){return Ae.resolve(0===this.In.length)}addMutationBatch(e,t,r,o){const l=this.fs;this.fs++;const h=new Yy(l,t,r,o);this.In.push(h);for(const m of o)this.ds=this.ds.add(new ar(m.key,l)),this.Ht.addToCollectionParentIndex(e,m.key.path.popLast());return Ae.resolve(h)}lookupMutationBatch(e,t){return Ae.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const o=this._s(t+1),l=o<0?0:o;return Ae.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ar(t,0),o=new ar(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,o],h=>{const m=this.ws(h.ls);l.push(m)}),Ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(zt);return t.forEach(o=>{const l=new ar(o,0),h=new ar(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],m=>{r=r.add(m.ls)})}),Ae.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;ze.isDocumentKey(l)||(l=l.child(""));const h=new ar(new ze(l),0);let m=new _n(zt);return this.ds.forEachWhile(b=>{const C=b.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(b.ls)),!0)},h),Ae.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const o=this.ws(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){yt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Ae.forEach(t.mutations,o=>{const l=new ar(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new ar(t,0),o=this.ds.firstAfterOrEqual(r);return Ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ae.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class mP{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new vr(ze.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,m=this.ps(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:m,readTime:r}),this.size+=m-h,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ae.resolve(r?r.document.clone():fn.newInvalidDocument(t))}getEntries(e,t){let r=Qn();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.clone():fn.newInvalidDocument(o))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Qn();const l=new ze(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;C.compareTo(r)<=0||Kg(t,b)&&(o=o.insert(b.key,b.clone()))}return Ae.resolve(o)}Ts(e,t){return Ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _P(this)}getSize(e){return Ae.resolve(this.size)}}class _P extends uR{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.Se.addEntry(e,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Ae.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class nw{constructor(e){this.persistence=e,this.Es=new im(t=>qg(t),Nf),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Is=0,this.As=new tS,this.targetCount=0,this.Rs=Wd.se()}forEachTarget(e,t){return this.Es.forEach((r,o)=>t(o)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Ae.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Wd(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.ce(t),Ae.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Es.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Es.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ae.waitFor(l).next(()=>o)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Ae.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Ae.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Ae.resolve(r)}containsKey(e,t){return Ae.resolve(this.As.containsKey(t))}}class ER{constructor(e,t){this.bs={},this.Le=new Ar(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new nw(this),this.Ht=new BD,this.He=new mP(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new Jy(t),this.Je=new vR(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new bR(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const o=new yP(this.Le.next());return this.referenceDelegate.vs(),r(o).next(l=>this.referenceDelegate.Vs(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ss(e,t){return Ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class yP extends Oi{constructor(e){super(),this.currentSequenceNumber=e}}class nS{constructor(e){this.persistence=e,this.Ds=new tS,this.Cs=null}static Ns(e){return new nS(e)}get xs(){if(this.Cs)return this.Cs;throw ot()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Ae.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,r=>{const o=ze.fromPath(r);return this.ks(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function rS(n,e){return`firestore_clients_${n}_${e}`}function wR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sv(n,e){return`firestore_targets_${n}_${e}`}class ov{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static $s(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Ne(o.error.code,o.error.message))),h?new ov(e,t,o.state,l):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class av{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Ne(r.error.code,r.error.message))),l?new av(e,r.state,o):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=zy();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=wt(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new rw(e,l):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iw{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iw(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qd{constructor(){this.activeTargetIds=zy()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sw{constructor(e,t,r,o,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new vr(zt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=rS(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Qd),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.pn();for(const o of t){if(o===e.Ls)continue;const l=e.getItem(rS(e.persistenceKey,o));if(l){const h=rw.$s(o,l);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const o=e.Xs(r);o&&e.Zs(o)}for(const o of e.Ks)e.Us(o);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sv(this.persistenceKey,e));if(r){const o=av.$s(e,r);o&&(t=o.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sv(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.ni(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ai(o,null)}{const o=t.ui(r.key,r.newValue);if(o)return t.ai(o.clientId,o)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const o=t.hi(r.key,r.newValue);if(o)return t.li(o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.fi(r.key,r.newValue);if(o)return t.di(o)}}else if(r.key===t.Hs){if(null!==r.newValue){const o=t.Xs(r.newValue);if(o)return t.Zs(o)}}else if(r.key===t.Qs){const o=function(l){let h=Ar.T;if(null!=l)try{const m=JSON.parse(l);yt("number"==typeof m),h=m}catch(m){_r("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Ar.T&&t.sequenceNumberHandler(o)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const o=new ov(this.currentUser,e,t,r),l=wR(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Os())}ni(e){const t=wR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const o=sv(this.persistenceKey,e),l=new av(e,t,r);this.setItem(o,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return rw.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),o=Number(r[1]);return ov.$s(new mr(void 0!==r[2]?r[2]:null),o,t)}fi(e,t){const r=this.zs.exec(e),o=Number(r[1]);return av.$s(o,t)}Xs(e){return iw.$s(e)}li(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),o=this.ti(this.qs),l=this.ti(r),h=[],m=[];return l.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.gi(h,m).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=zy();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class iS{constructor(){this.yi=new Qd,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Qd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class CR{Ti(e){}shutdown(){}}class lv{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const IR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Hs{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class TR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,o){const l=this.Bi(e,t);Fe("RestConnection","Sending: ",l,r);const h={};return this.Ui(h,o),this.qi(e,l,h,r).then(m=>(Fe("RestConnection","Received: ",m),m),m=>{throw Hg("RestConnection",`${e} failed with error: `,m,"url: ",l,"request:",r),m})}Ki(e,t,r,o){return this.Li(e,t,r,o)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${IR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,o){return new Promise((l,h)=>{const m=new Mx;m.listenOnce(JT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ny.NO_ERROR:const C=m.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Ny.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),h(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Ny.HTTP_ERROR:const M=m.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const L=function(B){const W=B.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(W)>=0?W:pe.UNKNOWN}(O.status);h(new Ne(L,O.message))}else h(new Ne(pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sx(),l=QT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new eD({})),this.Ui(h.initMessageHeaders,t),(0,_t.uI)()||(0,_t.b$)()||(0,_t.d)()||(0,_t.w1)()||(0,_t.Mn)()||(0,_t.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");Fe("Connection","Creating WebChannel: "+m,h);const b=o.createWebChannel(m,h);let C=!1,M=!1;const O=new Hs({vi:B=>{M?Fe("Connection","Not sending because WebChannel is closed:",B):(C||(Fe("Connection","Opening WebChannel transport."),b.open(),C=!0),Fe("Connection","WebChannel sending:",B),b.send(B))},Vi:()=>b.close()}),L=(B,W,le)=>{B.listen(W,be=>{try{le(be)}catch(Le){setTimeout(()=>{throw Le},0)}})};return L(b,Rd.EventType.OPEN,()=>{M||Fe("Connection","WebChannel transport opened.")}),L(b,Rd.EventType.CLOSE,()=>{M||(M=!0,Fe("Connection","WebChannel transport closed"),O.$i())}),L(b,Rd.EventType.ERROR,B=>{M||(M=!0,Hg("Connection","WebChannel transport errored:",B),O.$i(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))}),L(b,Rd.EventType.MESSAGE,B=>{var W;if(!M){const le=B.data[0];yt(!!le);const be=le,Le=be.error||(null===(W=be[0])||void 0===W?void 0:W.error);if(Le){Fe("Connection","WebChannel received error:",Le);const Xe=Le.status;let st=function(Qt){const pn=yr[Qt];if(void 0!==pn)return ED(pn)}(Xe),qe=Le.message;void 0===st&&(st=pe.INTERNAL,qe="Unknown error status: "+Xe+" with message "+Le.message),M=!0,O.$i(new Ne(st,qe)),b.close()}else Fe("Connection","WebChannel received:",le),O.Oi(le)}}),L(l,Ax.STAT_EVENT,B=>{B.stat===XT.PROXY?Fe("Connection","Detected buffering proxy"):B.stat===XT.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function cv(){return"undefined"!=typeof window?window:null}function uv(){return"undefined"!=typeof document?document:null}function om(n){return new Qx(n,!0)}class am{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=o,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,t-r);o>0&&Fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class ow{constructor(e,t,r,o,l,h,m){this.Oe=e,this.er=r,this.nr=o,this.sr=l,this.credentialsProvider=h,this.listener=m,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new am(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,ye.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,ye.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const o=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(o)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,ye.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sS extends ow{constructor(e,t,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l),this.N=o}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:ot(),o=e.targetChange.targetIds||[],l=function(b,C){return b.D?(yt(void 0===C||"string"==typeof C),Mr.fromBase64String(C||"")):(yt(void 0===C||C instanceof Uint8Array),Mr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const C=void 0===b.code?pe.UNKNOWN:ED(b.code);return new Ne(C,b.message||"")}(h);t=new DD(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ul(n,r.document.name),l=Or(r.document.updateTime),h=new Zr({mapValue:{fields:r.document.fields}}),m=fn.newFoundDocument(o,l,h);t=new C0(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=ul(n,r.document),l=r.readTime?Or(r.readTime):Rt.min(),h=fn.newNoDocument(o,l);t=new C0([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=ul(n,r.document);t=new C0([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ot();{const r=e.filter,l=new Zx(r.count||0);t=new TD(r.targetId,l)}}var b;return t}(this.N,e),r=function(o){if(!("targetChange"in o))return Rt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?Or(l.readTime):Rt.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=nm(this.N),t.addTarget=function(o,l){let h;const m=l.target;return h=yu(m)?{documents:M0(o,m)}:{query:x0(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=MD(o,l.resumeToken):l.snapshotVersion.compareTo(Rt.min())>0&&(h.readTime=Bd(o,l.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=nm(this.N),t.removeTarget=e,this.mr(t)}}class DR extends ow{constructor(e,t,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l),this.N=o,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(r,o){let l=Or(r.updateTime?r.updateTime:o);return l.isEqual(Rt.min())&&(l=Or(o)),new Qg(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.Dr(r,t)}return yt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=nm(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rm(this.N,r))};this.mr(t)}}class oS extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Li(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Ne(pe.UNKNOWN,o.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Ki(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Ne(pe.UNKNOWN,o.toString())})}terminate(){this.kr=!0}}class aS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(_r(t),this.Mr=!1):Fe("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class SR{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var b;Xd(h)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,ye.Z)(function*(C){const M=Be(C);M.Wr.add(4),yield Jd(M),M.Hr.set("Unknown"),M.Wr.delete(4),yield lm(M)}),function(C){return b.apply(this,arguments)})(h))}))}),this.Hr=new aS(r,o)}}function lm(n){return cm.apply(this,arguments)}function cm(){return(cm=(0,ye.Z)(function*(n){if(Xd(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function Jd(n){return dv.apply(this,arguments)}function dv(){return(dv=(0,ye.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function Xf(n,e){const t=Be(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),aw(t)?cS(t):ep(t).hr()&&$s(t,e))}function um(n,e){const t=Be(n),r=ep(t);t.Qr.delete(e),r.hr()&&lS(t,e),0===t.Qr.size&&(r.hr()?r.wr():Xd(t)&&t.Hr.set("Unknown"))}function $s(n,e){n.Jr.Y(e.targetId),ep(n).br(e)}function lS(n,e){n.Jr.Y(e),ep(n).Pr(e)}function cS(n){n.Jr=new sP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),ep(n).start(),n.Hr.Lr()}function aw(n){return Xd(n)&&!ep(n).ur()&&n.Qr.size>0}function Xd(n){return 0===Be(n).Wr.size}function uS(n){n.Jr=void 0}function AR(n){return lw.apply(this,arguments)}function lw(){return(lw=(0,ye.Z)(function*(n){n.Qr.forEach((e,t)=>{$s(n,e)})})).apply(this,arguments)}function vP(n,e){return cw.apply(this,arguments)}function cw(){return(cw=(0,ye.Z)(function*(n,e){uS(n),aw(n)?(n.Hr.qr(e),cS(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function dS(n,e,t){return uw.apply(this,arguments)}function uw(){return(uw=(0,ye.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof DD&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.Qr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Qr.delete(m),o.Jr.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hv(n,r)}else if(e instanceof C0?n.Jr.rt(e):e instanceof TD?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(Rt.min()))try{const r=yield rv(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Jr._t(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.Qr.get(b);C&&o.Qr.set(b,C.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=o.Qr.get(m);if(!b)return;o.Qr.set(m,b.withResumeToken(Mr.EMPTY_BYTE_STRING,b.snapshotVersion)),lS(o,m);const C=new _a(b.target,m,1,b.sequenceNumber);$s(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield hv(n,r)}var r})).apply(this,arguments)}function hv(n,e,t){return fv.apply(this,arguments)}function fv(){return(fv=(0,ye.Z)(function*(n,e,t){if(!Hd(e))throw e;n.Wr.add(1),yield Jd(n),n.Hr.set("Offline"),t||(t=()=>rv(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield lm(n)}))})).apply(this,arguments)}function hS(n,e){return e().catch(t=>hv(n,t,e))}function dm(n){return pv.apply(this,arguments)}function pv(){return(pv=(0,ye.Z)(function*(n){const e=Be(n),t=Cu(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;fS(e);)try{const o=yield _R(e.localStore,r);if(null===o){0===e.jr.length&&t.wr();break}r=o.batchId,MR(e,o)}catch(o){yield hv(e,o)}pS(e)&&dw(e)})).apply(this,arguments)}function fS(n){return Xd(n)&&n.jr.length<10}function MR(n,e){n.jr.push(e);const t=Cu(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function pS(n){return Xd(n)&&!Cu(n).ur()&&n.jr.length>0}function dw(n){Cu(n).start()}function hm(n){return fm.apply(this,arguments)}function fm(){return(fm=(0,ye.Z)(function*(n){Cu(n).Nr()})).apply(this,arguments)}function gS(n){return hw.apply(this,arguments)}function hw(){return(hw=(0,ye.Z)(function*(n){const e=Cu(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function xR(n,e,t){return mS.apply(this,arguments)}function mS(){return(mS=(0,ye.Z)(function*(n,e,t){const r=n.jr.shift(),o=Qy.from(r,e,t);yield hS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield dm(n)})).apply(this,arguments)}function bP(n,e){return _S.apply(this,arguments)}function _S(){return(_S=(0,ye.Z)(function*(n,e){var t;e&&Cu(n).Vr&&(yield(t=(0,ye.Z)(function*(r,o){if(bD(l=o.code)&&l!==pe.ABORTED){const h=r.jr.shift();Cu(r).dr(),yield hS(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield dm(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),pS(n)&&dw(n)})).apply(this,arguments)}function gv(n,e){return mv.apply(this,arguments)}function mv(){return(mv=(0,ye.Z)(function*(n,e){const t=Be(n);e?(t.Wr.delete(2),yield lm(t)):e||(t.Wr.add(2),yield Jd(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function ep(n){return n.Yr||(n.Yr=function(e,t,r){const o=Be(e);return o.$r(),new sS(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:AR.bind(null,n),Ci:vP.bind(null,n),Rr:dS.bind(null,n)}),n.Gr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Yr.dr(),aw(n)?cS(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),uS(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function Cu(n){return n.Xr||(n.Xr=function(e,t,r){const o=Be(e);return o.$r(),new DR(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:hm.bind(null,n),Ci:bP.bind(null,n),Cr:gS.bind(null,n),Dr:xR.bind(null,n)}),n.Gr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Xr.dr(),yield dm(n)):(yield n.Xr.stop(),n.jr.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class fw{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new fw(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(n,e){if(_r("AsyncQueue",`${e}: ${n}`),Hd(n))return new Ne(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class eh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=E0(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new eh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new eh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RR{constructor(){this.Zr=new vr(ze.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):ot():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class pm{constructor(e,t,r,o,l,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new pm(e,t,eh.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class OR{constructor(){this.no=void 0,this.listeners=[]}}class pw{constructor(){this.queries=new im(e=>dD(e),Wg),this.onlineState="Unknown",this.so=new Set}}function br(n,e){return yS.apply(this,arguments)}function yS(){return(yS=(0,ye.Z)(function*(n,e){const t=Be(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new OR),o)try{l.no=yield t.onListen(r)}catch(h){const m=tp(h,`Initialization of query '${g0(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&gw(t)})).apply(this,arguments)}function _v(n,e){return yv.apply(this,arguments)}function yv(){return(yv=(0,ye.Z)(function*(n,e){const t=Be(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function NR(n,e){const t=Be(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.ro(o)&&(r=!0);h.no=o}}r&&gw(t)}function vv(n,e,t){const r=Be(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function gw(n){n.so.forEach(e=>{e.next()})}class mw{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new pm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=pm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class vS{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class Iu{constructor(e){this.N=e}zn(e){return ul(this.N,e)}Hn(e){return e.metadata.exists?S0(this.N,e.document,!1):fn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Or(e)}}class bS{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=bv(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new Iu(this.N);for(const o of e)if(o.metadata.queries){const l=r.zn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||dn()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function(n,e,t,r){return XD.apply(this,arguments)}(e.localStore,new Iu(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const o of e.queries)yield gP(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new fR(Object.assign({},e.progress),t)})()}}function bv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Ev{constructor(e){this.key=e}}class ES{constructor(e){this.key=e}}class gm{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=dn(),this.mutatedKeys=dn(),this.Io=hD(e),this.Ao=new eh(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new RR,o=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=Hy(this.query)&&o.size===this.query.limit?o.last():null,C=f0(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,O)=>{const L=o.get(M),B=Kg(this.query,O)?O:null,W=!!L&&this.mutatedKeys.has(L.key),le=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let be=!1;L&&B?L.data.isEqual(B.data)?W!==le&&(r.track({type:3,doc:B}),be=!0):this.vo(L,B)||(r.track({type:2,doc:B}),be=!0,(b&&this.Io(B,b)>0||C&&this.Io(B,C)<0)&&(m=!0)):!L&&B?(r.track({type:0,doc:B}),be=!0):L&&!B&&(r.track({type:1,doc:L}),be=!0,(b||C)&&(m=!0)),be&&(B?(h=h.add(B),l=le?l.add(M):l.delete(M)):(h=h.delete(M),l=l.delete(M)))}),Hy(this.query)||f0(this.query))for(;h.size>this.query.limit;){const M=Hy(this.query)?h.last():h.first();h=h.delete(M.key),l=l.delete(M.key),r.track({type:1,doc:M})}return{Ao:h,Po:r,Ln:m,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((C,M)=>function(O,L){const B=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(O)-B(L)}(C.type,M.type)||this.Io(C.doc,M.doc)),this.Vo(r);const h=t?this.So():[],m=0===this.Eo.size&&this.current?1:0,b=m!==this.To;return this.To=m,0!==l.length||b?{snapshot:new pm(this.query,e.Ao,o,l,e.mutatedKeys,0===m,b,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new RR,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=dn(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new ES(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new Ev(r))}),t}No(e){this.po=e.Gn,this.Eo=dn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return pm.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class PR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _w{constructor(e){this.key=e,this.ko=!1}}class wS{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new im(m=>dD(m),Wg),this.Fo=new Map,this.Mo=new Set,this.Lo=new vr(ze.comparator),this.Bo=new Map,this.Uo=new tS,this.qo={},this.Ko=new Map,this.jo=Wd.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Jr(n,e){return CS.apply(this,arguments)}function CS(){return(CS=(0,ye.Z)(function*(n,e){const t=Nw(n);let r,o;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield Qf(t.localStore,Mo(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield yw(t,e,r,"current"===m),t.isPrimaryClient&&Xf(t.remoteStore,h)}return o})).apply(this,arguments)}function yw(n,e,t,r){return vw.apply(this,arguments)}function vw(){return(vw=(0,ye.Z)(function*(n,e,t,r){n.Wo=(M,O,L)=>{return(B=(0,ye.Z)(function*(W,le,be,Le){let Xe=le.view.bo(be);Xe.Ln&&(Xe=yield sm(W.localStore,le.query,!1).then(({documents:Qt})=>le.view.bo(Qt,Xe)));const st=Le&&Le.targetChanges.get(le.targetId),qe=le.view.applyChanges(Xe,W.isPrimaryClient,st);return Iw(W,le.targetId,qe.Do),qe.snapshot}),function(W,le,be,Le){return B.apply(this,arguments)})(n,M,O,L);var B};const o=yield sm(n.localStore,e,!0),l=new gm(e,o.Gn),h=l.bo(o.documents),m=em.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);Iw(n,t,b.Do);const C=new PR(e,t,l);return n.Oo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),b.snapshot})).apply(this,arguments)}function EP(n,e){return np.apply(this,arguments)}function np(){return(np=(0,ye.Z)(function*(n,e){const t=Be(n),r=t.Oo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(l=>!Wg(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),um(t.remoteStore,r.targetId),rp(t,r.targetId)}).catch(Zf))):(rp(t,r.targetId),yield wu(t.localStore,r.targetId,!0))})).apply(this,arguments)}function IS(){return(IS=(0,ye.Z)(function*(n,e,t){const r=Pw(n);try{const o=yield function(l,h){const m=Be(l),b=Kr.now(),C=h.reduce((O,L)=>O.add(L.key),dn());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.Qn.Pn(O,C).next(L=>{M=L;const B=[];for(const W of h){const le=qx(W,M.get(W.key));null!=le&&B.push(new vu(W.key,le,Pd(le.value.mapValue),Rr.exists(!0)))}return m.In.addMutationBatch(O,b,B,h)})).then(O=>(O.applyToLocalDocumentSet(M),{batchId:O.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let b=l.qo[l.currentUser.toKey()];b||(b=new vr(zt)),b=b.insert(h,m),l.qo[l.currentUser.toKey()]=b}(r,o.batchId,t),yield Nr(r,o.changes),yield dm(r.remoteStore)}catch(o){const l=tp(o,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function FR(n,e){return TS.apply(this,arguments)}function TS(){return(TS=(0,ye.Z)(function*(n,e){const t=Be(n);try{const r=yield Yf(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Bo.get(l);h&&(yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ko=!0:o.modifiedDocuments.size>0?yt(h.ko):o.removedDocuments.size>0&&(yt(h.ko),h.ko=!1))}),yield Nr(t,r,e)}catch(r){yield Zf(r)}})).apply(this,arguments)}function DS(n,e,t){const r=Be(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((l,h)=>{const m=h.view.io(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=Be(l);m.onlineState=h;let b=!1;m.queries.forEach((C,M)=>{for(const O of M.listeners)O.io(h)&&(b=!0)}),b&&gw(m)}(r.eventManager,e),o.length&&r.$o.Rr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LR(n,e,t){return bw.apply(this,arguments)}function bw(){return(bw=(0,ye.Z)(function*(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Bo.get(e),l=o&&o.key;if(l){let h=new vr(ze.comparator);h=h.insert(l,fn.newNoDocument(l,Rt.min()));const m=dn().add(l),b=new Hf(Rt.min(),new Map,new _n(zt),h,m);yield FR(r,b),r.Lo=r.Lo.remove(l),r.Bo.delete(e),Tw(r)}else yield wu(r.localStore,e,!1).then(()=>rp(r,e,t)).catch(Zf)})).apply(this,arguments)}function VR(n,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=(0,ye.Z)(function*(n,e){const t=Be(n),r=e.batch.batchId;try{const o=yield mR(t.localStore,e);AS(t,r,null),SS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nr(t,o)}catch(o){yield Zf(o)}})).apply(this,arguments)}function wP(n,e,t){return ww.apply(this,arguments)}function ww(){return(ww=(0,ye.Z)(function*(n,e,t){const r=Be(n);try{const o=yield function(l,h){const m=Be(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return m.In.lookupMutationBatch(b,h).next(M=>(yt(null!==M),C=M.keys(),m.In.removeMutationBatch(b,M))).next(()=>m.In.performConsistencyCheck(b)).next(()=>m.Qn.Pn(b,C))})}(r.localStore,e);AS(r,e,t),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nr(r,o)}catch(o){yield Zf(o)}})).apply(this,arguments)}function Cw(){return(Cw=(0,ye.Z)(function*(n,e){const t=Be(n);Xd(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Be(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.In.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ko.get(r)||[];o.push(e),t.Ko.set(r,o)}catch(r){const o=tp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function SS(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function AS(n,e,t){const r=Be(n);let o=r.qo[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.qo[r.currentUser.toKey()]=o}}function rp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||MS(n,r)})}function MS(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(um(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),Tw(n))}function Iw(n,e,t){for(const r of t)r instanceof Ev?(n.Uo.addReference(r.key,e),BR(n,r)):r instanceof ES?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||MS(n,r.key)):ot()}function BR(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.Mo.add(r),Tw(n))}function Tw(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new ze(tn.fromString(e)),r=n.jo.next();n.Bo.set(r,new _w(t)),n.Lo=n.Lo.insert(t,r),Xf(n.remoteStore,new _a(Mo(Ff(t.path)),r,2,Ar.T))}}function Nr(n,e,t){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,ye.Z)(function*(n,e,t){const r=Be(n),o=[],l=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Wo(b,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),o.push(C);const M=KD.kn(b.targetId,C);l.push(M)}}))}),yield Promise.all(h),r.$o.Rr(o),yield(m=(0,ye.Z)(function*(b,C){const M=Be(b);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Ae.forEach(C,L=>Ae.forEach(L.Nn,B=>M.persistence.referenceDelegate.addReference(O,L.targetId,B)).next(()=>Ae.forEach(L.xn,B=>M.persistence.referenceDelegate.removeReference(O,L.targetId,B)))))}catch(O){if(!Hd(O))throw O;Fe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const L=O.targetId;if(!O.fromCache){const B=M.Un.get(L),le=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);M.Un=M.Un.insert(L,le)}}}),function(b,C){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function jR(n,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,ye.Z)(function*(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield ZD(t.localStore,e);t.currentUser=e,(o=t).Ko.forEach(h=>{h.forEach(m=>{m.reject(new Ne(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nr(t,r.Wn)}var o})).apply(this,arguments)}function HR(n,e){const t=Be(n),r=t.Bo.get(e);if(r&&r.ko)return dn().add(r.key);{let o=dn();const l=t.Fo.get(e);if(!l)return o;for(const h of l){const m=t.Oo.get(h);o=o.unionWith(m.view.Ro)}return o}}function CP(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,ye.Z)(function*(n,e){const t=Be(n),r=yield sm(t.localStore,e.query,!0),o=e.view.No(r);return t.isPrimaryClient&&Iw(t,e.targetId,o.Do),o})).apply(this,arguments)}function $R(n){return Mw.apply(this,arguments)}function Mw(){return(Mw=(0,ye.Z)(function*(n){const e=Be(n);return yR(e.localStore).then(t=>Nr(e,t))})).apply(this,arguments)}function mm(n,e,t,r){return wv.apply(this,arguments)}function wv(){return(wv=(0,ye.Z)(function*(n,e,t,r){const o=Be(n),l=yield function(h,m){const b=Be(h),C=Be(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Xt(M,m).next(O=>O?b.Qn.Pn(M,O):Ae.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield dm(o.remoteStore):"acknowledged"===t||"rejected"===t?(AS(o,e,r||null),SS(o,e),m=e,Be(Be(o.localStore).In).te(m)):ot(),yield Nr(o,l)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function xw(){return(xw=(0,ye.Z)(function*(n,e){const t=Be(n);if(Nw(t),Pw(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield GR(t,r.toArray());t.Qo=!0,yield gv(t.remoteStore,!0);for(const l of o)Xf(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const r=[];let o=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(rp(t,h),wu(t.localStore,h,!0))),um(t.remoteStore,h)}),yield o,yield GR(t,r),function(l){const h=Be(l);h.Bo.forEach((m,b)=>{um(h.remoteStore,b)}),h.Uo.us(),h.Bo=new Map,h.Lo=new vr(ze.comparator)}(t),t.Qo=!1,yield gv(t.remoteStore,!1)}})).apply(this,arguments)}function GR(n,e,t){return xS.apply(this,arguments)}function xS(){return(xS=(0,ye.Z)(function*(n,e,t){const r=Be(n),o=[],l=[];for(const h of e){let m;const b=r.Fo.get(h);if(b&&0!==b.length){m=yield Qf(r.localStore,Mo(b[0]));for(const C of b){const M=r.Oo.get(C),O=yield CP(r,M);O.snapshot&&l.push(O.snapshot)}}else{const C=yield tw(r.localStore,h);m=yield Qf(r.localStore,C),yield yw(r,qR(C),h,!1)}o.push(m)}return r.$o.Rr(l),o})).apply(this,arguments)}function qR(n){return cD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Rw(n){const e=Be(n);return Be(Be(e.localStore).persistence).pn()}function zR(n,e,t,r){return Ow.apply(this,arguments)}function Ow(){return(Ow=(0,ye.Z)(function*(n,e,t,r){const o=Be(n);if(o.Qo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield yR(o.localStore),h=Hf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Nr(o,l,h);break}case"rejected":yield wu(o.localStore,e,!0),rp(o,e,r);break;default:ot()}})).apply(this,arguments)}function WR(n,e,t){return RS.apply(this,arguments)}function RS(){return(RS=(0,ye.Z)(function*(n,e,t){const r=Nw(n);if(r.Qo){for(const o of e){if(r.Fo.has(o)){Fe("SyncEngine","Adding an already active target "+o);continue}const l=yield tw(r.localStore,o),h=yield Qf(r.localStore,l);yield yw(r,qR(l),h.targetId,!1),Xf(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield wu(r.localStore,o,!1).then(()=>{um(r.remoteStore,o),rp(r,o)}).catch(Zf))}})).apply(this,arguments)}function Nw(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LR.bind(null,e),e.$o.Rr=NR.bind(null,e.eventManager),e.$o.Go=vv.bind(null,e.eventManager),e}function Pw(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wP.bind(null,e),e}class xo{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.N=om(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return gR(this.persistence,new pR,e.initialUser,this.N)}Jo(e){return new ER(nS.Ns,this.N)}Ho(e){return new iS}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZR extends xo{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield function(n){return Jf.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield Pw(r.Zo.syncEngine),yield dm(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return gR(this.persistence,new pR,e.initialUser,this.N)}Yo(e){return new cP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=X0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new zD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,cv(),uv(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new iS}}class OS extends ZR{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.Zo.syncEngine;r.sharedClientState instanceof sw&&(r.sharedClientState.syncEngine={_i:mm.bind(null,o),mi:zR.bind(null,o),gi:WR.bind(null,o),pn:Rw.bind(null,o),wi:$R.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var l=(0,ye.Z)(function*(h){yield function(n,e){return xw.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Ho(e){const t=cv();if(!sw.bt(t))throw new Ne(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=X0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class kw{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>DS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=jR.bind(null,r.syncEngine),yield gv(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pw}createDatastore(e){const t=om(e.databaseInfo.databaseId),r=new TR(e.databaseInfo);return new oS(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>DS(this.syncEngine,m,0),h=lv.bt()?new lv:new CR,new SR(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,b,C){const M=new wS(r,o,l,h,m,b);return C&&(M.Qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Be(t);Fe("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Jd(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Fw(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _m{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NS{constructor(e,t){this.nc=e,this.N=t,this.metadata=new di,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,ye.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),o=Number(r);isNaN(o)&&e.oc(`length string (${r}) is not valid number`);const l=yield e.cc(o);return new vS(JSON.parse(l),t.length+o)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,ye.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Lw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(l,h){const m=Be(l),b=nm(m.N)+"/documents",C={documents:h.map(B=>tm(m.N,B))},M=yield m.Ki("BatchGetDocuments",b,C),O=new Map;M.forEach(B=>{const W=function(n,e){return"found"in e?function(t,r){yt(!!r.found);const o=ul(t,r.found.name),l=Or(r.found.updateTime),h=new Zr({mapValue:{fields:r.found.fields}});return fn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){yt(!!r.missing),yt(!!r.readTime);const o=ul(t,r.missing),l=Or(r.readTime);return fn.newNoDocument(o,l)}(n,e):ot()}(m.N,B);O.set(W.key.toString(),W)});const L=[];return h.forEach(B=>{const W=O.get(B.toString());yt(!!W),L.push(W)}),L}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=ze.fromPath(o);e.mutations.push(new v0(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(o,l){const h=Be(o),m=nm(h.N)+"/documents",b={writes:l.map(C=>rm(h.N,C))};yield h.Li("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Rr.updateTime(t):Rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Ne(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(t)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Vw{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.hc=5,this.ar=new am(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,ye.Z)(function*(){const t=new Lw(e.datastore),r=e.fc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.dc(l)}))}).catch(o=>{e.dc(o)})}))}fc(e){try{const t=this.updateFunction(e);return!fa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!bD(t)}return!1}}class Uw{constructor(e,t,r){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=mr.UNAUTHENTICATED,this.clientId=rD.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,ye.Z)(function*(h){Fe("FirestoreClient","Received user=",h.uid),yield o.credentialListener(h),o.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const o=tp(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function ym(n,e){return ip.apply(this,arguments)}function ip(){return(ip=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(l){r.isEqual(l)||(yield ZD(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function Bw(n,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jw(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(l=(0,ye.Z)(function*(h,m){const b=Be(h);b.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const C=Xd(b);b.Wr.add(3),yield Jd(b),C&&b.Hr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Wr.delete(3),yield lm(b)}),function(h,m){return l.apply(this,arguments)})(e.remoteStore,o);var l}),n.onlineComponents=e})).apply(this,arguments)}function jw(n){return Hw.apply(this,arguments)}function Hw(){return(Hw=(0,ye.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield ym(n,new xo)),n.offlineComponents})).apply(this,arguments)}function vm(n){return $w.apply(this,arguments)}function $w(){return($w=(0,ye.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield Bw(n,new kw)),n.onlineComponents})).apply(this,arguments)}function PS(n){return jw(n).then(e=>e.persistence)}function Gw(n){return jw(n).then(e=>e.localStore)}function Iv(n){return vm(n).then(e=>e.remoteStore)}function qw(n){return vm(n).then(e=>e.syncEngine)}function Er(n){return th.apply(this,arguments)}function th(){return(th=(0,ye.Z)(function*(n){const e=yield vm(n),t=e.eventManager;return t.onListen=Jr.bind(null,e.syncEngine),t.onUnlisten=EP.bind(null,e.syncEngine),t})).apply(this,arguments)}function Sv(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,l,h,m,b){const C=new _m({next:O=>{l.enqueueAndForget(()=>_v(o,M));const L=O.docs.has(h);!L&&O.fromCache?b.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&O.fromCache&&m&&"server"===m.source?b.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new mw(Ff(h.path),C,{includeMetadataChanges:!0,fo:!0});return br(o,M)}(yield Er(n),n.asyncQueue,e,t,r)})),r.promise}function bm(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,l,h,m,b){const C=new _m({next:O=>{l.enqueueAndForget(()=>_v(o,M)),O.fromCache&&"server"===m.source?b.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new mw(h,C,{includeMetadataChanges:!0,fo:!0});return br(o,M)}(yield Er(n),n.asyncQueue,e,t,r)})),r.promise}class LS{constructor(e,t,r,o,l,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class sp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sp&&e.projectId===this.projectId&&e.database===this.database}}const VS=new Map;function zw(n,e,t){if(!t)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gc(n,e,t,r){if(!0===e&&!0===r)throw new Ne(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function op(n){if(!ze.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Av(n){if(ze.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function Yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mv(n);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function US(n,e){if(e<=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class xv{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,e instanceof sp?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sp(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new $g;switch(t.type){case"gapi":const r=t.client;return yt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Py(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VS.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),VS.delete(e),t.terminate())}(this),Promise.resolve()}}class Cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Pi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class hl extends Pi{constructor(e,t,r){super(e,t,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ze(e))}withConverter(e){return new hl(this.firestore,e,this._path)}}function jS(n,e,...t){if(n=(0,_t.m9)(n),zw("collection","path",e),n instanceof Em){const r=tn.fromString(e,...t);return Av(r),new hl(n,null,r)}{if(!(n instanceof Cn||n instanceof hl))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return Av(r),new hl(n.firestore,null,r)}}function Tu(n,e,...t){if(n=(0,_t.m9)(n),1===arguments.length&&(e=rD.I()),zw("doc","path",e),n instanceof Em){const r=tn.fromString(e,...t);return op(r),new Cn(n,null,new ze(r))}{if(!(n instanceof Cn||n instanceof hl))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return op(r),new Cn(n.firestore,n instanceof hl?n.converter:null,new ze(r))}}function nh(n,e){return n=(0,_t.m9)(n),e=(0,_t.m9)(e),(n instanceof Cn||n instanceof hl)&&(e instanceof Cn||e instanceof hl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wm(n,e){return n=(0,_t.m9)(n),e=(0,_t.m9)(e),n instanceof Pi&&e instanceof Pi&&n.firestore===e.firestore&&Wg(n._query,e._query)&&n.converter===e.converter}class ap{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new am(this,"async_queue_retry"),this.Rc=()=>{const t=uv();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=uv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=uv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new di;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Hd(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,_r("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const o=fw.createAndSchedule(this,e,t,r,l=>this.Vc(l));return this.yc.push(o),o}bc(){this.Tc&&ot()}verifyOperationInProgress(){}Sc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function Ww(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class eO{constructor(){this._progressObserver={},this._taskCompletionResolver=new di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kn extends Em{constructor(e,t){super(e,t),this.type="firestore",this._queue=new ap,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Rv(this),this._firestoreClient.terminate()}}function wr(n){return n._firestoreClient||Rv(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Rv(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LS(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Uw(n._credentials,n._queue,r)}function Kw(n,e,t){const r=new di;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield ym(n,t),yield Bw(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===pe.FAILED_PRECONDITION||l.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function lO(n){if(n._initialized||n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yc(Mr.fromBase64String(e))}catch(t){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yc(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lp{constructor(e){this._methodName=e}}class Yw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const AP=/^__.*__$/;class cO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xg(e,this.data,t,this.fieldTransforms)}}class uO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Qw{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=o,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Qw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.Mc(e),o}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.xc(),o}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return we(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(dO(this.kc)&&AP.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class MP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||om(e)}jc(e,t,r,o=!1){return new Qw({kc:e,methodName:t,Kc:r,path:hi.emptyPath(),Fc:!1,qc:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function i(n){const e=n._freezeSettings(),t=om(n._databaseId);return new MP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function s(n,e,t,r,o,l={}){const h=n.jc(l.merge||l.mergeFields?2:0,e,t,o);Y("Data must be an object, but it was:",h,r);const m=k(r,h);let b,C;if(l.merge)b=new Od(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const M=[];for(const O of l.mergeFields){const L=ce(e,O,t);if(!h.contains(L))throw new Ne(pe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);it(M,L)||M.push(L)}b=new Od(M),C=h.fieldTransforms.filter(O=>b.covers(O.field))}else b=null,C=h.fieldTransforms;return new cO(new Zr(m),b,C)}class a extends lp{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof a}}function c(n,e,t){return new Qw({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class u extends lp{_toFieldTransform(e){return new Yg(e.path,new Vf)}isEqual(e){return e instanceof u}}class f extends lp{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=c(this,e,!0),r=this.Qc.map(l=>P(l,t)),o=new Fd(r);return new Yg(e.path,o)}isEqual(e){return this===e}}class _ extends lp{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=c(this,e,!0),r=this.Qc.map(l=>P(l,t)),o=new Ld(r);return new Yg(e.path,o)}isEqual(e){return this===e}}class v extends lp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new Uf(e.N,pD(e.N,this.Wc));return new Yg(e.path,t)}isEqual(e){return this===e}}function w(n,e,t,r){const o=n.jc(1,e,t);Y("Data must be an object, but it was:",o,r);const l=[],h=Zr.empty();mu(r,(b,C)=>{const M=Pe(e,b,t);C=(0,_t.m9)(C);const O=o.Lc(M);if(C instanceof a)l.push(M);else{const L=P(C,O);null!=L&&(l.push(M),h.set(M,L))}});const m=new Od(l);return new uO(h,m,o.fieldTransforms)}function T(n,e,t,r,o,l){const h=n.jc(1,e,t),m=[ce(e,r,t)],b=[o];if(l.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)m.push(ce(e,l[L])),b.push(l[L+1]);const C=[],M=Zr.empty();for(let L=m.length-1;L>=0;--L)if(!it(C,m[L])){const B=m[L];let W=b[L];W=(0,_t.m9)(W);const le=h.Lc(B);if(W instanceof a)C.push(B);else{const be=P(W,le);null!=be&&(C.push(B),M.set(B,be))}}const O=new Od(C);return new uO(M,O,h.fieldTransforms)}function x(n,e,t,r=!1){return P(t,n.jc(r?4:3,e))}function P(n,e){if(G(n=(0,_t.m9)(n)))return Y("Unsupported field value:",e,n),k(n,e);if(n instanceof lp)return function(t,r){if(!dO(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=P(h,r.Bc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,_t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pD(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Kr.fromDate(t);return{timestampValue:Bd(r.N,o)}}if(t instanceof Kr){const o=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bd(r.N,o)}}if(t instanceof Yw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yc)return{bytesValue:MD(r.N,t._byteString)};if(t instanceof Cn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${Mv(t)}`)}(n,e)}function k(n,e){const t={};return ky(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(n,(r,o)=>{const l=P(o,e.Oc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function G(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kr||n instanceof Yw||n instanceof yc||n instanceof Cn||n instanceof lp)}function Y(n,e,t){if(!G(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Mv(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function ce(n,e,t){if((e=(0,_t.m9)(e))instanceof _c)return e._internalPath;if("string"==typeof e)return Pe(n,e);throw we("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const te=new RegExp("[~\\*/\\[\\]]");function Pe(n,e,t){if(e.search(te)>=0)throw we(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _c(...e.split("."))._internalPath}catch(r){throw we(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function we(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Ne(pe.INVALID_ARGUMENT,m+n+b)}function it(n,e){return n.some(t=>t.isEqual(e))}class dt{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jn("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jt extends dt{data(){return super.data()}}function Jn(n,e){return"string"==typeof e?Pe(n,e):e instanceof _c?e._internalPath:e._delegate._internalPath}class Xr{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends dt{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Jn("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fl extends Gs{data(e={}){return super.data(e)}}class qs{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xr(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fl(this._firestore,this._userDataWriter,r.key,r,new Xr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new fl(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xr(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new fl(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xr(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,C=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:cp(h.type),doc:m,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cp(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function Ov(n,e){return n instanceof Gs&&e instanceof Gs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qs&&e instanceof qs&&n._firestore===e._firestore&&wm(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Nv(n){if(f0(n)&&0===n.explicitOrderBy.length)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ih{}function pl(n,...e){for(const t of e)n=t._apply(n);return n}class Jw extends ih{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=i(e.firestore),r=function(o,l,h,m,b,C,M){let O;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on FieldPath.documentId().`);if("in"===C||"not-in"===C){kP(M,C);const B=[];for(const W of M)B.push(PP(m,o,W));O={arrayValue:{values:B}}}else O=PP(m,o,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||kP(M,C),O=x(h,"where",M,"in"===C||"not-in"===C);const L=fi.create(b,C,O);return function(B,W){if(W.v()){const be=p0(B);if(null!==be&&!be.isEqual(W.field))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${be.toString()}' and '${W.field.toString()}'`);const Le=uD(B);null!==Le&&FP(0,W.field,Le)}const le=function(be,Le){for(const Xe of be.filters)if(Le.indexOf(Xe.op)>=0)return Xe.op;return null}(B,function(be){switch(be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==le)throw new Ne(pe.INVALID_ARGUMENT,le===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${le.toString()}' filters.`)}(o,L),L}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Pi(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Vs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class OF extends ih{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new zg(o,l);return function(m,b){if(null===uD(m)){const C=p0(m);null!==C&&FP(0,C,b.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new Pi(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Vs(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class xP extends ih{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new Pi(e.firestore,e.converter,$y(e._query,this.Yc,this.Xc))}}class RP extends ih{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=NP(e,this.type,this.Zc,this.ta);return new Pi(e.firestore,e.converter,(o=t,new Vs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class OP extends ih{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=NP(e,this.type,this.Zc,this.ta);return new Pi(e.firestore,e.converter,(o=t,new Vs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function NP(n,e,t,r){if(t[0]=(0,_t.m9)(t[0]),t[0]instanceof dt)return function(o,l,h,m,b){if(!m)throw new Ne(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const M of Lf(o))if(M.field.isKeyField())C.push(Vy(l,m.key));else{const O=m.data.field(M.field);if(nn(O))throw new Ne(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const L=M.field.canonicalString();throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}C.push(O)}return new kd(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=i(n.firestore);return function(l,h,m,b,C,M){const O=l.explicitOrderBy;if(C.length>O.length)throw new Ne(pe.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<C.length;B++){const W=C[B];if(O[B].field.isKeyField()){if("string"!=typeof W)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof W}`);if(!Yr(l)&&-1!==W.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${W}' contains a slash.`);const le=l.path.child(tn.fromString(W));if(!ze.isDocumentKey(le))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const be=new ze(le);L.push(Vy(h,be))}else{const le=x(m,b,W);L.push(le)}}return new kd(L,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function PP(n,e,t){if("string"==typeof(t=(0,_t.m9)(t))){if(""===t)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yr(e)&&-1!==t.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!ze.isDocumentKey(r))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vy(n,new ze(r))}if(t instanceof Cn)return Vy(n,t._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mv(t)}.`)}function kP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function FP(n,e,t){if(!t.isEqual(e))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hO{convertValue(e,t="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return mu(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Yw(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const t=ha(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);yt(rR(r));const o=new sp(r.get(1),r.get(3)),l=new ze(r.popFirst(5));return o.isEqual(t)||_r(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function HS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class BF extends hO{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}class LP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=i(e)}set(e,t,r){this._verifyNotCommitted();const o=up(e,this._firestore),l=HS(o.converter,t,r),h=s(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Rr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=up(e,this._firestore);let h;return h="string"==typeof(t=(0,_t.m9)(t))||t instanceof _c?T(this._dataReader,"WriteBatch.update",l._key,t,r,o):w(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=up(e,this._firestore);return this._mutations=this._mutations.concat(new Vd(t._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function up(n,e){if((n=(0,_t.m9)(n)).firestore!==e)throw new Ne(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Cm extends hO{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function VP(n,e,t){n=Yt(n,Cn);const r=Yt(n.firestore,kn),o=HS(n.converter,e,t);return Pv(r,[s(i(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Rr.none())])}function UP(n,e,t,...r){n=Yt(n,Cn);const o=Yt(n.firestore,kn),l=i(o);let h;return h="string"==typeof(e=(0,_t.m9)(e))||e instanceof _c?T(l,"updateDoc",n._key,e,t,r):w(l,"updateDoc",n._key,e),Pv(o,[h.toMutation(n._key,Rr.exists(!0))])}function BP(n,...e){var t,r,o;n=(0,_t.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Ww(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(Ww(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let b,C,M;if(n instanceof Cn)C=Yt(n.firestore,kn),M=Ff(n._key.path),b={next:O=>{e[h]&&e[h](fO(C,n,O))},error:e[h+1],complete:e[h+2]};else{const O=Yt(n,Pi);C=Yt(O.firestore,kn),M=O._query;const L=new Cm(C);b={next:B=>{e[h]&&e[h](new qs(C,L,O,B))},error:e[h+1],complete:e[h+2]},Nv(n._query)}return function(O,L,B,W){const le=new _m(W),be=new mw(L,le,B);return O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return br(yield Er(O),be)})),()=>{le.ec(),O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return _v(yield Er(O),be)}))}}(wr(C),M,m,b)}function Pv(n,e){return function(t,r){const o=new di;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e,t){return IS.apply(this,arguments)}(yield qw(t),r,o)})),o.promise}(wr(n),e)}function fO(n,e,t){const r=t.docs.get(e._key),o=new Cm(n);return new Gs(n,o,e._key,r,new Xr(t.hasPendingWrites,t.fromCache),e.converter)}class YF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=i(e)}get(e){const t=up(e,this._firestore),r=new BF(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ot();const l=o[0];if(l.isFoundDocument())return new dt(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new dt(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const o=up(e,this._firestore),l=HS(o.converter,t,r),h=s(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=up(e,this._firestore);let h;return h="string"==typeof(t=(0,_t.m9)(t))||t instanceof _c?T(this._dataReader,"Transaction.update",l._key,t,r,o):w(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=up(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=up(e,this._firestore),r=new Cm(this._firestore);return super.get(e).then(o=>new Gs(this._firestore,r,t._key,o._document,new Xr(!1,!1),t.converter))}}function pO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function jP(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function HP(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){cc=Co.SDK_VERSION,(0,Co._registerComponent)(new _d.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new kn(o,new Nx(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Co.registerVersion)(r0,"3.3.0",n),(0,Co.registerVersion)(r0,"3.3.0","esm2017")}();class Xw{constructor(e){this._delegate=e}static fromBase64String(e){return HP(),new Xw(yc.fromBase64String(e))}static fromUint8Array(e){return jP(),new Xw(yc.fromUint8Array(e))}toBase64(){return HP(),this._delegate.toBase64()}toUint8Array(){return jP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gO(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class oL{enableIndexedDbPersistence(e,t){return function(n,e){lO(n=Yt(n,kn));const t=wr(n),r=n._freezeSettings(),o=new kw;return Kw(t,o,new ZR(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){lO(n=Yt(n,kn));const e=wr(n),t=n._freezeSettings(),r=new kw;return Kw(e,r,new OS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!ma.bt())return Promise.resolve();const o=r+"main";yield ma.delete(o)}),function(r){return t.apply(this,arguments)})(X0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $P{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof sp||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const l=(n=Yt(n,Em))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Hg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=mr.MOCK_USER;else{h=(0,_t.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new mr(b)}n._credentials=new Ox(new tD(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield PS(n),t=yield Iv(n);return e.setNetworkEnabled(!0),function(r){const o=Be(r);return o.Wr.delete(0),lm(o)}(t)}))}(wr(n=Yt(n,kn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield PS(n),t=yield Iv(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const l=Be(o);l.Wr.add(0),yield Jd(l),l.Hr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(wr(n=Yt(n,kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,gc("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new di;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e){return Cw.apply(this,arguments)}(yield qw(e),t)})),t.promise}(wr(n=Yt(n,kn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new _m(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Er(n),o=t,Be(r).so.add(o),void o.next();var r,o})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Er(n),o=t,void Be(r).so.delete(o);var r,o}))}}(wr(n=Yt(n,kn)),Ww(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new kv(this,jS(this._delegate,e))}catch(t){throw zs(t,"collection()","Firestore.collection()")}}doc(e){try{return new gl(this,Tu(this._delegate,e))}catch(t){throw zs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ws(this,function(n,e){if(n=Yt(n,Em),zw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pi(n,null,(t=e,new Vs(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw zs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(o=n,vm(o).then(l=>l.datastore));var o;new Vw(n.asyncQueue,r,e,t).run()})),t.promise}(wr(n=Yt(n,kn)),t=>e(new YF(n,t)))}(this._delegate,t=>e(new GP(this,t)))}batch(){return wr(this._delegate),new qP(new LP(this._delegate,e=>Pv(this._delegate,e)))}loadBundle(e){return function(n,e){const t=wr(n=Yt(n,kn)),r=new eO;return function(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,C){if(b instanceof Uint8Array)return Fw(b,C);if(b instanceof ArrayBuffer)return Fw(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new NS(b,h);var b}(t,om(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(n,e,t){const r=Be(n);var o;(o=(0,ye.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(L,B){const W=Be(L),le=Or(B.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",be=>W.Je.getBundleMetadata(be,B.id)).then(be=>!!be&&be.createTime.compareTo(le)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((L=b,{taskState:"Success",documentsLoaded:L.totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}));m._updateProgress(bv(b));const C=new bS(b,l.localStore,h.N);let M=yield h.zo();for(;M;){const L=yield C.mo(M);L&&m._updateProgress(L),M=yield h.zo()}const O=yield C.complete();yield Nr(l,O.En,void 0),yield function(L,B){const W=Be(L);return W.persistence.runTransaction("Save bundle","readwrite",le=>W.Je.saveBundleMetadata(le,B))}(l.localStore,b),m._completeWith(O.progress)}catch(b){Hg("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var L}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield qw(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=Be(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Je.getNamedQuery(l,r))}(yield Gw(n),e)}))}(wr(n=Yt(n,kn)),e).then(t=>t?new Pi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ws(this,t):null)}}class $S extends hO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xw(new yc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gl.forKey(t,this.firestore,null)}}class GP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}get(e){const t=Tm(e);return this._delegate.get(t).then(r=>new eC(this._firestore,new Gs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Tm(e);return r?(pO("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Tm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Tm(e);return this._delegate.delete(t),this}}class qP{constructor(e){this._delegate=e}set(e,t,r){const o=Tm(e);return r?(pO("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Tm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Tm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Im{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new fl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tC(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Im.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Im(e,new $S(e),t),o.set(t,l)),l}}Im.INSTANCES=new WeakMap;class gl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gl(t,new Cn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new gl(t,new Cn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new kv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new kv(this.firestore,jS(this._delegate,e))}catch(t){throw zs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_t.m9)(e))instanceof Cn&&nh(this._delegate,e)}set(e,t){t=pO("DocumentReference.set",t);try{return t?VP(this._delegate,e,t):VP(this._delegate,e)}catch(r){throw zs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?UP(this._delegate,e):UP(this._delegate,e,t,...r)}catch(o){throw zs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Pv(Yt(n.firestore,kn),[new Vd(n._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const t=zP(e),r=WP(e,o=>new eC(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return BP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Yt(n,Cn);const e=Yt(n.firestore,kn),t=wr(e),r=new Cm(e);return function(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,l,h){try{const m=yield function(b,C){const M=Be(b);return M.persistence.runTransaction("read document","readonly",O=>M.Qn.An(O,C))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Ne(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=tp(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield Gw(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Gs(e,r,n._key,o,new Xr(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Yt(n,Cn);const e=Yt(n.firestore,kn);return Sv(wr(e),n._key,{source:"server"}).then(t=>fO(e,n,t))}(this._delegate):function(n){n=Yt(n,Cn);const e=Yt(n.firestore,kn);return Sv(wr(e),n._key).then(t=>fO(e,n,t))}(this._delegate),t.then(r=>new eC(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new gl(this.firestore,this._delegate.withConverter(e?Im.getInstance(this.firestore,e):null))}}function zs(n,e,t){return n.message=n.message.replace(e,t),n}function zP(n){for(const e of n)if("object"==typeof e&&!gO(e))return e;return{}}function WP(n,e){var t,r;let o;return o=gO(n[0])?n[0]:gO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class eC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ov(this._delegate,e._delegate)}}class tC extends eC{data(e){const t=this._delegate.data(e);return function(n,e){n||ot()}(void 0!==t),t}}class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}where(e,t,r){try{return new Ws(this.firestore,pl(this._delegate,function(n,e,t){const r=e,o=Jn("where",n);return new Jw(o,r,t)}(e,t,r)))}catch(o){throw zs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ws(this.firestore,pl(this._delegate,function(n,e="asc"){const t=e,r=Jn("orderBy",n);return new OF(r,t)}(e,t)))}catch(r){throw zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ws(this.firestore,pl(this._delegate,function(n){return US("limit",n),new xP("limit",n,"F")}(e)))}catch(t){throw zs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ws(this.firestore,pl(this._delegate,function(n){return US("limitToLast",n),new xP("limitToLast",n,"L")}(e)))}catch(t){throw zs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ws(this.firestore,pl(this._delegate,function(...n){return new RP("startAt",n,!0)}(...e)))}catch(t){throw zs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ws(this.firestore,pl(this._delegate,function(...n){return new RP("startAfter",n,!1)}(...e)))}catch(t){throw zs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ws(this.firestore,pl(this._delegate,function(...n){return new OP("endBefore",n,!0)}(...e)))}catch(t){throw zs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ws(this.firestore,pl(this._delegate,function(...n){return new OP("endAt",n,!1)}(...e)))}catch(t){throw zs(t,"endAt()","Query.endAt()")}}isEqual(e){return wm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Yt(n,Pi);const e=Yt(n.firestore,kn),t=wr(e),r=new Cm(e);return function(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,l,h){try{const m=yield sm(o,l,!0),b=new gm(l,m.Gn),C=b.bo(m.documents),M=b.applyChanges(C,!1);h.resolve(M.snapshot)}catch(m){const b=tp(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield Gw(n),e,t);var r})),t.promise}(t,n._query).then(o=>new qs(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Yt(n,Pi);const e=Yt(n.firestore,kn),t=wr(e),r=new Cm(e);return bm(t,n._query,{source:"server"}).then(o=>new qs(e,r,n,o))}(this._delegate):function(n){n=Yt(n,Pi);const e=Yt(n.firestore,kn),t=wr(e),r=new Cm(e);return Nv(n._query),bm(t,n._query).then(o=>new qs(e,r,n,o))}(this._delegate),t.then(r=>new mO(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zP(e),r=WP(e,o=>new mO(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return BP(this._delegate,t,r)}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?Im.getInstance(this.firestore,e):null))}}class lL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new tC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new lL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new tC(this._firestore,r))})}isEqual(e){return Ov(this._delegate,e._delegate)}}class kv extends Ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gl(this.firestore,e):null}doc(e){try{return new gl(this.firestore,void 0===e?Tu(this._delegate):Tu(this._delegate,e))}catch(t){throw zs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Yt(n.firestore,kn),r=Tu(n),o=HS(n.converter,e);return Pv(t,[s(i(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new gl(this.firestore,t))}isEqual(e){return nh(this._delegate,e._delegate)}withConverter(e){return new kv(this.firestore,this._delegate.withConverter(e?Im.getInstance(this.firestore,e):null))}}function Tm(n){return Yt(n,Cn)}class _O{constructor(...e){this._delegate=new _c(...e)}static documentId(){return new _O(hi.keyField().canonicalString())}isEqual(e){return(e=(0,_t.m9)(e))instanceof _c&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dm{constructor(e){this._delegate=e}static serverTimestamp(){const e=new u("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Dm(e)}static delete(){const e=new a("deleteField");return e._methodName="FieldValue.delete",new Dm(e)}static arrayUnion(...e){const t=function(...n){return new f("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Dm(t)}static arrayRemove(...e){const t=function(...n){return new _("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Dm(t)}static increment(e){const t=function(n){return new v("increment",n)}(e);return t._methodName="FieldValue.increment",new Dm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cL={Firestore:$P,GeoPoint:Yw,Timestamp:Kr,Blob:Xw,Transaction:GP,WriteBatch:qP,DocumentReference:gl,DocumentSnapshot:eC,Query:Ws,QueryDocumentSnapshot:tC,QuerySnapshot:mO,CollectionReference:kv,FieldPath:_O,FieldValue:Dm,setLogLevel:function(n){!function(n){So.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new _d.wA("firestore-compat",t=>((e,t)=>new $P(e,t,new oL))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},cL)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(zb.Z);var KP=U(3637),Cr=U(5618);function yO(){return n=>n.lift(new hL)}class hL{call(e,t){return t.subscribe(new fL(e))}}class fL extends us.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class gL{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new mL(e,this.compare,this.keySelector))}}class mL extends us.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var Ks=U(8939),ZP=(U(941),U(6682)),nC=U(309),_L=U(7771),yL=U(8858);class vL extends Ti.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new bL(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,l=r.length;let h;if(this.closed)throw new d_.N;if(this.isStopped||this.hasError?h=g.w.EMPTY:(this.observers.push(e),h=new yL.W(this,e)),o&&e.add(e=new nC.ht(e,o)),t)for(let m=0;m<l&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<l&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||_L.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,l=o.length;let h=0;for(;h<l&&!(e-o[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&o.splice(0,h),o}}class bL{constructor(e,t){this.time=e,this.value=t}}function YP(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,l=0,m=!1,b=!1;return function(M){let O;l++,!o||m?(m=!1,o=new vL(n,e,r),O=o.subscribe(this),h=M.subscribe({next(L){o.next(L)},error(L){m=!0,o.error(L)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):O=o.subscribe(this),this.add(()=>{l--,O.unsubscribe(),O=void 0,h&&!b&&t&&0===l&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function QP(n,e){return e?jn(()=>n,e):jn(()=>n)}var vO=U(3101);U(2329);const XP=new Map,DL={activated:!1,tokenObservers:[]},SL={initialized:!1,enabled:!1};function _s(n){return XP.get(n)||DL}function vc(n,e){XP.set(n,e)}function qS(){return SL}class RL{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new _t.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ml=new _t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function t1(n){if(!_s(n).activated)throw ml.create("use-before-activation",{appName:n.name})}function wO(n,e){return CO.apply(this,arguments)}function CO(){return(CO=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(O){throw ml.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw ml.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw ml.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ml.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(b[1]),M=Date.now();return{token:m.attestationToken,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function LL(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const rC="firebase-app-check-store";let WS=null;function r1(){return WS||(WS=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ml.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(rC,{keyPath:"compositeKey"})}}}catch(t){e(ml.create("storage-open",{originalErrorMessage:t.message}))}}),WS)}function IO(){return(IO=(0,ye.Z)(function*(n,e){const r=(yield r1()).transaction(rC,"readwrite"),l=r.objectStore(rC).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var C;m(ml.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const KS=new rl.Yd("@firebase/app-check");function l1(n,e){return(0,_t.hl)()?function(n,e){return function(n,e){return IO.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{KS.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function c1(){return qS().enabled}function u1(){return AO.apply(this,arguments)}function AO(){return(AO=(0,ye.Z)(function*(){const n=qS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const WL={error:"UNKNOWN_ERROR"};function KL(n){return _t.US.encodeString(JSON.stringify(n),!1)}function ZS(n){return MO.apply(this,arguments)}function MO(){return(MO=(0,ye.Z)(function*(n,e=!1){const t=n.app;t1(t);const r=_s(t);let l,h,o=r.token;if(!o){const m=yield r.cachedTokenPromise;m&&iC(m)&&(o=m,vc(t,Object.assign(Object.assign({},r),{token:o})),h1(t,{token:o.token}))}if(!e&&o&&iC(o))return{token:o.token};if(c1()){const m=yield wO(LL(t,yield u1()),n.platformLoggerProvider);return yield l1(t,m),vc(t,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{o=yield r.provider.getToken()}catch(m){KS.error(m),l=m}return o?(h={token:o.token},vc(t,Object.assign(Object.assign({},r),{token:o})),yield l1(t,o)):h=YL(l),h1(t,h),h})).apply(this,arguments)}function xO(n,e){const t=_s(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vc(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function h1(n,e){const t=_s(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function iC(n){return n.expireTimeMillis-Date.now()>0}function YL(n){return{token:KL(WL),error:n}}class QL{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=_s(this.app);for(const t of e)xO(this.app,t.next);return Promise.resolve()}}const y1="app-check-internal";(0,Co._registerComponent)(new _d.wA("app-check",n=>function(n,e){return new QL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(y1).initialize()})),(0,Co._registerComponent)(new _d.wA(y1,n=>function(n){return{getToken:e=>ZS(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,l=_s(o),h={next:t,error:r,type:e},m=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]});if(!m.tokenRefresher){const b=function(n){const{app:e}=n;return new RL((0,ye.Z)(function*(){let r;if(r=_s(e).token?yield ZS(n,!0):yield ZS(n),r.error)throw r.error}),()=>!0,()=>{const t=_s(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);m.tokenRefresher=b}if(!m.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&m.tokenRefresher.start(),l.token&&iC(l.token)){const b=l.token;Promise.resolve().then(()=>t({token:b.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(b=>{b&&iC(b)&&t({token:b.token})}).catch(()=>{});vc(o,m)}(n,"INTERNAL",e),removeTokenListener:e=>xO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Co.registerVersion)("@firebase/app-check","0.5.1");class QS{constructor(){return(0,Cr.vb)("app-check")}}"undefined"!=typeof window&&window;const b1=new d.OlP("angularfire2.auth.use-emulator"),E1=new d.OlP("angularfire2.auth.settings"),w1=new d.OlP("angularfire2.auth.tenant-id"),C1=new d.OlP("angularfire2.auth.langugage-code"),I1=new d.OlP("angularfire2.auth.use-device-language"),T1=new d.OlP("angularfire.auth.persistence"),D1=(n,e,t,r,o,l,h,m)=>(0,Ks.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[C,M]of Object.entries(h))b.settings[C]=M;return m&&b.setPersistence(m),b},[t,r,o,l,h,m]);let S1=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,L,B){const W=new Ti.xQ,le=(0,je.of)(void 0).pipe((0,nC.QV)(h.outsideAngular),jn(()=>l.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,941)))),(0,lt.U)(()=>(0,Ks.on)(t,l,r)),(0,lt.U)(be=>D1(be,l,m,C,M,O,b,L)),YP({bufferSize:1,refCount:!1}));if(Tl(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{le.pipe(ds()).subscribe();const Le=le.pipe(jn(qe=>qe.getRedirectResult().then(Qt=>Qt,()=>null)),Cr.iC,YP({bufferSize:1,refCount:!1})),Xe=le.pipe(jn(qe=>new mn.y(Qt=>({unsubscribe:l.runOutsideAngular(()=>qe.onAuthStateChanged(pn=>Qt.next(pn),pn=>Qt.error(pn),()=>Qt.complete()))})))),st=le.pipe(jn(qe=>new mn.y(Qt=>({unsubscribe:l.runOutsideAngular(()=>qe.onIdTokenChanged(pn=>Qt.next(pn),pn=>Qt.error(pn),()=>Qt.complete()))}))));this.authState=Le.pipe(QP(Xe),(0,vO.R)(h.outsideAngular),(0,nC.QV)(h.insideAngular)),this.user=Le.pipe(QP(st),(0,vO.R)(h.outsideAngular),(0,nC.QV)(h.insideAngular)),this.idToken=this.user.pipe(jn(qe=>qe?(0,en.D)(qe.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(jn(qe=>qe?(0,en.D)(qe.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,ZP.T)(Le,W,this.authState.pipe(Di(qe=>!qe))).pipe((0,lt.U)(qe=>(null==qe?void 0:qe.user)?qe:null),(0,vO.R)(h.outsideAngular),(0,nC.QV)(h.insideAngular))}return(0,Ks.pX)(this,le,l,{spy:{apply:(be,Le,Xe)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&Xe.then(st=>W.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ks.Dh),d.LFG(Ks.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Cr.HU),d.LFG(b1,8),d.LFG(E1,8),d.LFG(w1,8),d.LFG(C1,8),d.LFG(I1,8),d.LFG(T1,8),d.LFG(QS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function A1(n,e){return function(n,e=KP.z){return new mn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function kO(n,e){return A1(n,e).pipe((0,lt.U)(t=>({payload:t,type:"query"})))}function JS(n,e){return kO(n,e).pipe(Wa(void 0),yO(),(0,lt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(M=>M.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function M1(n,e,t){return JS(n,t).pipe(Ql((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return FO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return FO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),t=>t.lift(new gL(void 0,void 0)),(0,lt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function FO(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function x1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class R1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=JS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,lt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Wa(void 0),yO(),Di(([r,o])=>o.length>0||!r),(0,lt.U)(([r,o])=>o),Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ql((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=x1(e);return M1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return kO(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Cr.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(Cr.iC)}add(e){return this.ref.add(e)}doc(e){return new O1(this.ref.doc(e),this.afs)}}class O1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=N1(r,t);return new R1(o,l,this.afs)}snapshotChanges(){return function(n,e){return A1(n,e).pipe(Wa(void 0),yO(),(0,lt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,en.D)(this.ref.get(e)).pipe(Cr.iC)}}class EV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Di(t=>t.length>0),Cr.iC):JS(this.query,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ql((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=x1(e);return M1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return kO(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Cr.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(Cr.iC)}}const wV=new d.OlP("angularfire2.enableFirestorePersistence"),CV=new d.OlP("angularfire2.firestore.persistenceSettings"),IV=new d.OlP("angularfire2.firestore.settings"),TV=new d.OlP("angularfire2.firestore.use-emulator");function N1(n,e=(t=>t)){return{query:e(n),ref:n}}let DV=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,L,B,W,le,be,Le,Xe){this.schedulers=b;const st=(0,Ks.on)(t,m,r),qe=M;O&&D1(st,m,L,W,le,be,B,Le),[this.firestore,this.persistenceEnabled$]=(0,Ks.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const Qt=m.runOutsideAngular(()=>st.firestore());if(l&&Qt.settings(l),qe&&Qt.useEmulator(...qe),o&&!Tl(h)){const pn=()=>{try{return(0,en.D)(Qt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Pr){return"undefined"!=typeof console&&console.warn(Pr),(0,je.of)(!1)}};return[Qt,m.runOutsideAngular(pn)]}return[Qt,(0,je.of)(!1)]},[l,qe,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=N1(o,r),m=this.schedulers.ngZone.run(()=>l);return new R1(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new EV(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new O1(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ks.Dh),d.LFG(Ks.xv,8),d.LFG(wV,8),d.LFG(IV,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Cr.HU),d.LFG(CV,8),d.LFG(TV,8),d.LFG(S1,8),d.LFG(b1,8),d.LFG(E1,8),d.LFG(w1,8),d.LFG(C1,8),d.LFG(I1,8),d.LFG(T1,8),d.LFG(QS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function P1(n,e=KP.P){return t=>t.lift(new SV(n,e))}class SV{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new AV(e,this.dueTime,this.scheduler))}}class AV extends us.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(MV,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function MV(n){n.debouncedNext()}function k1(n){const e=function(n){return new mn.y(e=>{const t=h=>e.next(h);t(n.snapshot);const l=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){l()}}).pipe(P1(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,lt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function XS(n){return{getDownloadURL:()=>(0,je.of)(void 0).pipe(Cr.fc,jn(()=>n.getDownloadURL()),Cr.iC),getMetadata:()=>(0,je.of)(void 0).pipe(Cr.fc,jn(()=>n.getMetadata()),Cr.iC),delete:()=>(0,en.D)(n.delete()),child:e=>XS(n.child(e)),updateMetadata:e=>(0,en.D)(n.updateMetadata(e)),put:(e,t)=>k1(n.put(e,t)),putString:(e,t,r)=>k1(n.putString(e,t,r)),list:e=>(0,en.D)(n.list(e)),listAll:()=>(0,en.D)(n.listAll())}}const RV=new d.OlP("angularfire2.storageBucket"),OV=new d.OlP("angularfire2.storage.maxUploadRetryTime"),NV=new d.OlP("angularfire2.storage.maxOperationRetryTime"),PV=new d.OlP("angularfire2.storage.use-emulator");let F1=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O){const L=(0,Ks.on)(t,h,r);this.storage=(0,Ks.cc)(`${L.name}.storage.${o}`,"AngularFireStorage",L.name,()=>{const B=h.runOutsideAngular(()=>L.storage(o||void 0)),W=M;return W&&B.useEmulator(...W),b&&B.setMaxUploadRetryTime(b),C&&B.setMaxOperationRetryTime(C),B},[b,C])}ref(t){return XS(this.storage.ref(t))}refFromURL(t){return XS(this.storage.refFromURL(t))}upload(t,r,o){return XS(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ks.Dh),d.LFG(Ks.xv,8),d.LFG(RV,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Cr.HU),d.LFG(OV,8),d.LFG(NV,8),d.LFG(PV,8),d.LFG(QS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),FV=(()=>{class n{constructor(){dI.Z.registerVersion("angularfire",Cr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[F1],imports:[kV]}),n})(),L1=(()=>{class n{constructor(t,r){this.afs=t,this.storage=r}save(t){const r=this.afs.collection("baseGaleria");console.log("guardado",t),null==t.id&&(t.id=this.afs.createId()),r.doc(t.id).set(Object.assign({},t))}getContactos(){return this.afs.collection("baseGaleria").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(DV),d.LFG(F1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LV=(()=>{class n{constructor(t,r,o){this.el=t,this.ngModel=r,this.cd=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Xc,8),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r.onInput(l)}),2&t&&d.ekj("p-filled",r.filled)}}),n})(),VV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un]]}),n})(),UV=(()=>{class n{constructor(t,r){var o=this;this.imagenService=t,this.route=r,this.galeria=new uI,this.cambioArchivo=function(){var l=(0,ye.Z)(function*(h){const m=h.target.files[0],C=dI.Z.storage().ref().child(m.name);yield C.put(m),console.log("archivo cargado ",m.name),o.enlace=yield C.getDownloadURL(),o.galeria.image=o.enlace,console.log(o.enlace),o.subir(o.enlace)});return function(h){return l.apply(this,arguments)}}()}ngOnInit(){}subir(t){console.log("archivo",t," guardado"),this.galeria.image=t,console.log("archivo: ",this.galeria.image,"esta guardado en la base")}guardar(){console.log("Hola",this.galeria),this.imagenService.save(this.galeria),this.route.navigate(["galeria"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(L1),d.Y36(Ai))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-cargar-imagen"]],decls:38,vars:7,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"centrado"],[1,"p-float-label"],["id","float-input","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","float-input"],["type","file",3,"change"],[3,"click"],[1,"json"]],template:function(t,r){1&t&&(d.TgZ(0,"html",0),d.TgZ(1,"head"),d._UZ(2,"meta",1),d._UZ(3,"meta",2),d._UZ(4,"meta",3),d.TgZ(5,"title"),d._uU(6,"Document"),d.qZA(),d.qZA(),d.TgZ(7,"body"),d.TgZ(8,"section",4),d.TgZ(9,"div",5),d.TgZ(10,"h2"),d._uU(11,"Cargar Imagen"),d.qZA(),d.TgZ(12,"span",6),d.TgZ(13,"input",7),d.NdJ("ngModelChange",function(l){return r.galeria.titulo=l}),d.qZA(),d.TgZ(14,"label",8),d._uU(15,"Titulo"),d.qZA(),d.qZA(),d._UZ(16,"br"),d.TgZ(17,"span",6),d.TgZ(18,"input",7),d.NdJ("ngModelChange",function(l){return r.galeria.autor=l}),d.qZA(),d.TgZ(19,"label",8),d._uU(20,"Autor"),d.qZA(),d.qZA(),d._UZ(21,"br"),d.TgZ(22,"span",6),d.TgZ(23,"input",7),d.NdJ("ngModelChange",function(l){return r.galeria.fecha=l}),d.qZA(),d.TgZ(24,"label",8),d._uU(25,"A\xf1o de creaci\xf3n"),d.qZA(),d.qZA(),d._UZ(26,"br"),d.TgZ(27,"span",6),d.TgZ(28,"input",7),d.NdJ("ngModelChange",function(l){return r.galeria.descripcion=l}),d.qZA(),d.TgZ(29,"label",8),d._uU(30,"Descripcion"),d.qZA(),d.qZA(),d._UZ(31,"br"),d.TgZ(32,"input",9),d.NdJ("change",function(l){return r.cambioArchivo(l)}),d.qZA(),d.TgZ(33,"button",10),d.NdJ("click",function(){return r.guardar()}),d._uU(34,"Guandar"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(35,"div",11),d._uU(36),d.ALo(37,"json"),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(13),d.Q6J("ngModel",r.galeria.titulo),d.xp6(5),d.Q6J("ngModel",r.galeria.autor),d.xp6(5),d.Q6J("ngModel",r.galeria.fecha),d.xp6(5),d.Q6J("ngModel",r.galeria.descripcion),d.xp6(8),d.hij(" ",d.lcZ(37,5,r.galeria)," "))},directives:[as,LV,jr,Xc],pipes:[gp],styles:[".p-float-label[_ngcontent-%COMP%]{margin:16px}.centrado[_ngcontent-%COMP%]{border:2px solid black;padding:40px;position:absolute;left:50%;margin-left:-200px;top:82px}.container[_ngcontent-%COMP%]{width:100%;display:flex;background-color:#daf7a6}.json[_ngcontent-%COMP%]{margin-top:500px}"]}),n})();class V1{}class U1{}class sh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new sh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof sh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class BV{encodeKey(e){return B1(e)}encodeValue(e){return B1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const HV=/%(\d[a-f0-9])/gi,$V={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function B1(n){return encodeURIComponent(n).replace(HV,(e,t)=>{var r;return null!==(r=$V[t])&&void 0!==r?r:e})}function j1(n){return`${n}`}class dp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new BV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,m]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],b=t.get(h)||[];b.push(m),t.set(h,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new dp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(j1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(j1(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class GV{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function H1(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function $1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function G1(n){return"undefined"!=typeof FormData&&n instanceof FormData}class sC{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new sh),this.context||(this.context=new GV),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new dp,this.urlWithParams=t}serializeBody(){return null===this.body?null:H1(this.body)||$1(this.body)||G1(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof dp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G1(this.body)?null:$1(this.body)?this.body.type||null:H1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,l=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,M=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((L,B)=>L.set(B,e.setHeaders[B]),C)),e.setParams&&(M=Object.keys(e.setParams).reduce((L,B)=>L.set(B,e.setParams[B]),M)),new sC(r,o,h,{params:M,headers:C,context:O,reportProgress:b,responseType:l,withCredentials:m})}}var ei=(()=>((ei=ei||{})[ei.Sent=0]="Sent",ei[ei.UploadProgress=1]="UploadProgress",ei[ei.ResponseHeader=2]="ResponseHeader",ei[ei.DownloadProgress=3]="DownloadProgress",ei[ei.Response=4]="Response",ei[ei.User=5]="User",ei))();class LO{constructor(e,t=200,r="OK"){this.headers=e.headers||new sh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class VO extends LO{constructor(e={}){super(e),this.type=ei.ResponseHeader}clone(e={}){return new VO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eA extends LO{constructor(e={}){super(e),this.type=ei.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new eA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class q1 extends LO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function UO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let z1=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof sC)l=t;else{let b,C;b=o.headers instanceof sh?o.headers:new sh(o.headers),o.params&&(C=o.params instanceof dp?o.params:new dp({fromObject:o.params})),l=new sC(t,r,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,je.of)(l).pipe(Jl(b=>this.handler.handle(b)));if(t instanceof sC||"events"===o.observe)return h;const m=h.pipe(Di(b=>b instanceof eA));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,lt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,lt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,lt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return m.pipe((0,lt.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new dp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,UO(o,r))}post(t,r,o={}){return this.request("POST",t,UO(o,r))}put(t,r,o={}){return this.request("PUT",t,UO(o,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(V1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class W1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const K1=new d.OlP("HTTP_INTERCEPTORS");let WV=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const KV=/^\)\]\}',?\n/;let Z1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mn.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((B,W)=>o.setRequestHeader(B,W.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&o.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();o.responseType="json"!==B?B:"text"}const l=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const B=1223===o.status?204:o.status,W=o.statusText||"OK",le=new sh(o.getAllResponseHeaders()),be=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return h=new VO({headers:le,status:B,statusText:W,url:be}),h},b=()=>{let{headers:B,status:W,statusText:le,url:be}=m(),Le=null;204!==W&&(Le=void 0===o.response?o.responseText:o.response),0===W&&(W=Le?200:0);let Xe=W>=200&&W<300;if("json"===t.responseType&&"string"==typeof Le){const st=Le;Le=Le.replace(KV,"");try{Le=""!==Le?JSON.parse(Le):null}catch(qe){Le=st,Xe&&(Xe=!1,Le={error:qe,text:Le})}}Xe?(r.next(new eA({body:Le,headers:B,status:W,statusText:le,url:be||void 0})),r.complete()):r.error(new q1({error:Le,headers:B,status:W,statusText:le,url:be||void 0}))},C=B=>{const{url:W}=m(),le=new q1({error:B,status:o.status||0,statusText:o.statusText||"Unknown Error",url:W||void 0});r.error(le)};let M=!1;const O=B=>{M||(r.next(m()),M=!0);let W={type:ei.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(W.total=B.total),"text"===t.responseType&&!!o.responseText&&(W.partialText=o.responseText),r.next(W)},L=B=>{let W={type:ei.UploadProgress,loaded:B.loaded};B.lengthComputable&&(W.total=B.total),r.next(W)};return o.addEventListener("load",b),o.addEventListener("error",C),o.addEventListener("timeout",C),o.addEventListener("abort",C),t.reportProgress&&(o.addEventListener("progress",O),null!==l&&o.upload&&o.upload.addEventListener("progress",L)),o.send(l),r.next({type:ei.Sent}),()=>{o.removeEventListener("error",C),o.removeEventListener("abort",C),o.removeEventListener("load",b),o.removeEventListener("timeout",C),t.reportProgress&&(o.removeEventListener("progress",O),null!==l&&o.upload&&o.upload.removeEventListener("progress",L)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sl))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const BO=new d.OlP("XSRF_COOKIE_NAME"),jO=new d.OlP("XSRF_HEADER_NAME");class Y1{}let YV=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=mt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(d.Lbi),d.LFG(BO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),HO=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Y1),d.LFG(jO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),QV=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(K1,[]);this.chain=r.reduceRight((o,l)=>new W1(o,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(U1),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),JV=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:HO,useClass:WV}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:BO,useValue:t.cookieName}:[],t.headerName?{provide:jO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[HO,{provide:K1,useExisting:HO,multi:!0},{provide:Y1,useClass:YV},{provide:BO,useValue:"XSRF-TOKEN"},{provide:jO,useValue:"X-XSRF-TOKEN"}]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[z1,{provide:V1,useClass:QV},Z1,{provide:U1,useExisting:Z1}],imports:[[JV.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Q1=["*"];let ys=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),eU=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[ys.STARTS_WITH,ys.CONTAINS,ys.NOT_CONTAINS,ys.ENDS_WITH,ys.EQUALS,ys.NOT_EQUALS],numeric:[ys.EQUALS,ys.NOT_EQUALS,ys.LESS_THAN,ys.LESS_THAN_OR_EQUAL_TO,ys.GREATER_THAN,ys.GREATER_THAN_OR_EQUAL_TO],date:[ys.DATE_IS,ys.DATE_IS_NOT,ys.DATE_BEFORE,ys.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Ti.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:Q1,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:Q1,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2}),n})(),J1=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),tA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un]]}),n})(),ti=(()=>{class n{static addClass(t,r){t.classList?t.classList.add(r):t.className+=" "+r}static addMultipleClasses(t,r){if(t.classList){let o=r.trim().split(" ");for(let l=0;l<o.length;l++)t.classList.add(o[l])}else{let o=r.split(" ");for(let l=0;l<o.length;l++)t.className+=" "+o[l]}}static removeClass(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,o=0;for(var l=0;l<r.length;l++){if(r[l]==t)return o;1==r[l].nodeType&&o++}return-1}static indexWithinGroup(t,r){let o=t.parentNode?t.parentNode.childNodes:[],l=0;for(var h=0;h<o.length;h++){if(o[h]==t)return l;o[h].attributes&&o[h].attributes[r]&&1==o[h].nodeType&&l++}return-1}static relativePosition(t,r){let o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const l=r.offsetHeight,h=r.getBoundingClientRect(),m=this.getViewport();let b,C;h.top+l+o.height>m.height?(b=-1*o.height,t.style.transformOrigin="bottom",h.top+b<0&&(b=-1*h.top)):(b=l,t.style.transformOrigin="top"),C=o.width>m.width?-1*h.left:h.left+o.width>m.width?-1*(h.left+o.width-m.width):0,t.style.top=b+"px",t.style.left=C+"px"}static absolutePosition(t,r){let B,W,o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),l=o.height,h=o.width,m=r.offsetHeight,b=r.offsetWidth,C=r.getBoundingClientRect(),M=this.getWindowScrollTop(),O=this.getWindowScrollLeft(),L=this.getViewport();C.top+m+l>L.height?(B=C.top+M-l,t.style.transformOrigin="bottom",B<0&&(B=M)):(B=m+C.top+M,t.style.transformOrigin="top"),W=C.left+h>L.width?Math.max(0,C.left+O+b-h):C.left+O,t.style.top=B+"px",t.style.left=W+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let o=this.getParents(t);const l=/(auto|scroll)/,h=m=>{let b=window.getComputedStyle(m,null);return l.test(b.getPropertyValue("overflow"))||l.test(b.getPropertyValue("overflowX"))||l.test(b.getPropertyValue("overflowY"))};for(let m of o){let b=1===m.nodeType&&m.dataset.scrollselectors;if(b){let C=b.split(",");for(let M of C){let O=this.findSingle(m,M);O&&h(O)&&r.push(O)}}9!==m.nodeType&&h(m)&&r.push(m)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let o=getComputedStyle(t).getPropertyValue("borderTopWidth"),l=o?parseFloat(o):0,h=getComputedStyle(t).getPropertyValue("paddingTop"),m=h?parseFloat(h):0,b=t.getBoundingClientRect(),M=r.getBoundingClientRect().top+document.body.scrollTop-(b.top+document.body.scrollTop)-l-m,O=t.scrollTop,L=t.clientHeight,B=this.getOuterHeight(r);M<0?t.scrollTop=O+M:M+B>L&&(t.scrollTop=O+M-L+B)}static fadeIn(t,r){t.style.opacity=0;let o=+new Date,l=0,h=function(){l=+t.style.opacity.replace(",",".")+((new Date).getTime()-o)/r,t.style.opacity=l,o=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(t,r){var o=1,m=50/r;let b=setInterval(()=>{(o-=m)<=0&&(o=0,clearInterval(b)),t.style.opacity=o},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(t,r)}static getOuterWidth(t,r){let o=t.offsetWidth;if(r){let l=getComputedStyle(t);o+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return o}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,o=getComputedStyle(t);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static width(t){let r=t.offsetWidth,o=getComputedStyle(t);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,o=getComputedStyle(t);return r+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),r}static getOuterHeight(t,r){let o=t.offsetHeight;if(r){let l=getComputedStyle(t);o+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return o}static getHeight(t){let r=t.offsetHeight,o=getComputedStyle(t);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,o=getComputedStyle(t);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}static getViewport(){let t=window,r=document,o=r.documentElement,l=r.getElementsByTagName("body")[0];return{width:t.innerWidth||o.clientWidth||l.clientWidth,height:t.innerHeight||o.clientHeight||l.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let o=t.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let o=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,o){t[r].apply(t,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]:not(.p-disabled))'),o=[];for(let l of r)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&o.push(l);return o}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})(),rU=(()=>{class n{constructor(t,r,o){this.el=t,this.zone=r,this.config=o}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if(ti.removeClass(r,"p-ink-active"),!ti.getHeight(r)&&!ti.getWidth(r)){let m=Math.max(ti.getOuterWidth(this.el.nativeElement),ti.getOuterHeight(this.el.nativeElement));r.style.height=m+"px",r.style.width=m+"px"}let o=ti.getOffset(this.el.nativeElement),l=t.pageX-o.left+document.body.scrollTop-ti.getWidth(r)/2,h=t.pageY-o.top+document.body.scrollLeft-ti.getHeight(r)/2;r.style.top=h+"px",r.style.left=l+"px",ti.addClass(r,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&ti.removeClass(t,"p-ink-active")}onAnimationEnd(t){ti.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),ti.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(eU,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),nA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un]]}),n})();var X1=0;const oU=["itemsContainer"];function aU(n,e){1&n&&d.GkF(0)}function lU(n,e){if(1&n&&(d.TgZ(0,"div",11),d.Hsn(1),d.YNc(2,aU,1,0,"ng-container",12),d.qZA()),2&n){const t=d.oxw();d.xp6(2),d.Q6J("ngTemplateOutlet",t.headerTemplate)}}const cU=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},uU=function(n,e){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":e}};function dU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(o){return d.CHM(t),d.oxw().navBackward(o)}),d._UZ(1,"span",2),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("ngClass",d.VKq(3,cU,t.isBackwardNavDisabled()))("disabled",t.isBackwardNavDisabled()),d.xp6(1),d.Q6J("ngClass",d.WLB(5,uU,!t.isVertical(),t.isVertical()))}}function hU(n,e){1&n&&d.GkF(0)}const ek=function(n,e,t){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":e,"p-carousel-item-end":t}},$O=function(n){return{$implicit:n}};function fU(n,e){if(1&n&&(d.TgZ(0,"div",2),d.YNc(1,hU,1,0,"ng-container",14),d.qZA()),2&n){const t=e.$implicit,r=e.index,o=d.oxw();d.Q6J("ngClass",d.kEZ(3,ek,-1*o.totalShiftedItems===o.value.length,0===r,o.clonedItemsForStarting.length-1===r)),d.xp6(1),d.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",d.VKq(7,$O,t))}}function pU(n,e){1&n&&d.GkF(0)}const gU=function(n,e,t){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":e,"p-carousel-item-end":t}};function mU(n,e){if(1&n&&(d.TgZ(0,"div",2),d.YNc(1,pU,1,0,"ng-container",14),d.qZA()),2&n){const t=e.$implicit,r=e.index,o=d.oxw();d.Q6J("ngClass",d.kEZ(3,gU,o.firstIndex()<=r&&o.lastIndex()>=r,o.firstIndex()===r,o.lastIndex()===r)),d.xp6(1),d.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",d.VKq(7,$O,t))}}function _U(n,e){1&n&&d.GkF(0)}function yU(n,e){if(1&n&&(d.TgZ(0,"div",2),d.YNc(1,_U,1,0,"ng-container",14),d.qZA()),2&n){const t=e.$implicit,r=e.index,o=d.oxw();d.Q6J("ngClass",d.kEZ(3,ek,-1*o.totalShiftedItems===o.numVisible,0===r,o.clonedItemsForFinishing.length-1===r)),d.xp6(1),d.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",d.VKq(7,$O,t))}}const vU=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},bU=function(n,e){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":e}};function EU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(o){return d.CHM(t),d.oxw().navForward(o)}),d._UZ(1,"span",2),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("ngClass",d.VKq(3,vU,t.isForwardNavDisabled()))("disabled",t.isForwardNavDisabled()),d.xp6(1),d.Q6J("ngClass",d.WLB(5,bU,!t.isVertical(),t.isVertical()))}}const wU=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function CU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",2),d.TgZ(1,"button",15),d.NdJ("click",function(o){const h=d.CHM(t).index;return d.oxw(2).onDotClick(o,h)}),d.qZA(),d.qZA()}if(2&n){const t=e.index,r=d.oxw(2);d.Q6J("ngClass",d.VKq(5,wU,r._page===t)),d.xp6(1),d.Tol(r.indicatorStyleClass),d.Q6J("ngClass","p-link")("ngStyle",r.indicatorStyle)}}function IU(n,e){if(1&n&&(d.TgZ(0,"ul",0),d.YNc(1,CU,2,7,"li",8),d.qZA()),2&n){const t=d.oxw();d.Tol(t.indicatorsContentClass),d.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",t.indicatorsContentStyle),d.xp6(1),d.Q6J("ngForOf",t.totalDotsArray())}}function TU(n,e){1&n&&d.GkF(0)}function DU(n,e){if(1&n&&(d.TgZ(0,"div",16),d.Hsn(1,1),d.YNc(2,TU,1,0,"ng-container",12),d.qZA()),2&n){const t=d.oxw();d.xp6(2),d.Q6J("ngTemplateOutlet",t.footerTemplate)}}const SU=[[["p-header"]],[["p-footer"]]],AU=function(n,e){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":e}},MU=function(n){return{height:n}},xU=["p-header","p-footer"];let RU=(()=>{class n{constructor(t,r,o){this.el=t,this.zone=r,this.cd=o,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new d.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(t){this.isCreated&&t!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),t>this._page&&t<=this.totalDots()-1?this.step(-1,t):t<this._page&&this.step(1,t)),this._page=t}get numVisible(){return this._numVisible}set numVisible(t){this._numVisible=t}get numScroll(){return this._numVisible}set numScroll(t){this._numScroll=t}get value(){return this._value}set value(t){this._value=t}ngOnChanges(t){t.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(t.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),t.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id="pr_id_"+ ++X1,this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.itemTemplate=t.template}})}ngAfterContentChecked(){const t=this.isCircular();let r=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let o=this._page;0!==this.totalDots()&&o>=this.totalDots()&&(o=this.totalDots()-1,this._page=o,this.onPage.emit({page:this.page})),r=o*this._numScroll*-1,t&&(r-=this._numVisible),o===this.totalDots()-1&&this.remainingItems>0?(r+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,r!==this.totalShiftedItems&&(this.totalShiftedItems=r),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}t&&(0===this.page?r=-1*this._numVisible:0===r&&(r=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),r!==this.totalShiftedItems&&(this.totalShiftedItems=r))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let t=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((r,o)=>{const l=r.breakpoint,h=o.breakpoint;let m=null;return m=null==l&&null!=h?-1:null!=l&&null==h?1:null==l&&null==h?0:"string"==typeof l&&"string"==typeof h?l.localeCompare(h,void 0,{numeric:!0}):l<h?-1:l>h?1:0,-1*m});for(let r=0;r<this.responsiveOptions.length;r++){let o=this.responsiveOptions[r];t+=`\n                    @media screen and (max-width: ${o.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/o.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=t}calculatePosition(){if(this.responsiveOptions){let t=window.innerWidth,r={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let o=0;o<this.responsiveOptions.length;o++){let l=this.responsiveOptions[o];parseInt(l.breakpoint,10)>=t&&(r=l)}if(this._numScroll!==r.numScroll){let o=this._page;o=Math.floor(o*this._numScroll/r.numScroll);let l=r.numScroll*this.page*-1;this.isCircular()&&(l-=r.numVisible),this.totalShiftedItems=l,this._numScroll=r.numScroll,this._page=o,this.onPage.emit({page:this.page})}this._numVisible!==r.numVisible&&(this._numVisible=r.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const t=this.totalDots();return t<=0?[]:Array(t).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(t,r){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,r),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),t&&t.cancelable&&t.preventDefault()}navBackward(t,r){(this.isCircular()||0!==this._page)&&this.step(1,r),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),t&&t.cancelable&&t.preventDefault()}onDotClick(t,r){let o=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),r>o?this.navForward(t,r):r<o&&this.navBackward(t,r)}step(t,r){let o=this.totalShiftedItems;const l=this.isCircular();null!=r?(o=this._numScroll*r*-1,l&&(o-=this._numVisible),this.isRemainingItemsAdded=!1):(o+=this._numScroll*t,this.isRemainingItemsAdded&&(o+=this.remainingItems-this._numScroll*t,this.isRemainingItemsAdded=!1),r=Math.abs(Math.floor((l?o+this._numVisible:o)/this._numScroll))),l&&this.page===this.totalDots()-1&&-1===t?(o=-1*(this.value.length+this._numVisible),r=0):l&&0===this.page&&1===t?(o=0,r=this.totalDots()-1):r===this.totalDots()-1&&this.remainingItems>0&&(o+=-1*this.remainingItems-this._numScroll*t,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${o*(100/this._numVisible)}%, 0)`:`translate3d(${o*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=o,this._page=r,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(t){let r=t.changedTouches[0];this.startPos={x:r.pageX,y:r.pageY}}onTouchMove(t){t.cancelable&&t.preventDefault()}onTouchEnd(t){let r=t.changedTouches[0];this.isVertical()?this.changePageOnTouch(t,r.pageY-this.startPos.y):this.changePageOnTouch(t,r.pageX-this.startPos.x)}changePageOnTouch(t,r){Math.abs(r)>this.swipeThreshold&&(r<0?this.navForward(t):this.navBackward(t))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=t=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-carousel"]],contentQueries:function(t,r,o){if(1&t&&(d.Suo(o,tU,5),d.Suo(o,nU,5),d.Suo(o,J1,4)),2&t){let l;d.iGM(l=d.CRH())&&(r.headerFacet=l.first),d.iGM(l=d.CRH())&&(r.footerFacet=l.first),d.iGM(l=d.CRH())&&(r.templates=l)}},viewQuery:function(t,r){if(1&t&&d.Gf(oU,5),2&t){let o;d.iGM(o=d.CRH())&&(r.itemsContainer=o.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[d.TTD],ngContentSelectors:xU,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(t,r){1&t&&(d.F$t(SU),d.TgZ(0,"div",0),d.YNc(1,lU,3,1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.YNc(4,dU,2,8,"button",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6,7),d.NdJ("transitionend",function(){return r.onTransitionEnd()})("touchend",function(l){return r.onTouchEnd(l)})("touchstart",function(l){return r.onTouchStart(l)})("touchmove",function(l){return r.onTouchMove(l)}),d.YNc(8,fU,2,9,"div",8),d.YNc(9,mU,2,9,"div",8),d.YNc(10,yU,2,9,"div",8),d.qZA(),d.qZA(),d.YNc(11,EU,2,8,"button",4),d.qZA(),d.YNc(12,IU,2,5,"ul",9),d.qZA(),d.YNc(13,DU,3,1,"div",10),d.qZA()),2&t&&(d.Tol(r.styleClass),d.Q6J("ngClass",d.WLB(17,AU,r.isVertical(),!r.isVertical()))("ngStyle",r.style),d.uIk("id",r.id),d.xp6(1),d.Q6J("ngIf",r.headerFacet||r.headerTemplate),d.xp6(1),d.Tol(r.contentClass),d.Q6J("ngClass","p-carousel-content"),d.xp6(2),d.Q6J("ngIf",r.showNavigators),d.xp6(1),d.Q6J("ngStyle",d.VKq(20,MU,r.isVertical()?r.verticalViewPortHeight:"auto")),d.xp6(3),d.Q6J("ngForOf",r.clonedItemsForStarting),d.xp6(1),d.Q6J("ngForOf",r.value),d.xp6(1),d.Q6J("ngForOf",r.clonedItemsForFinishing),d.xp6(1),d.Q6J("ngIf",r.showNavigators),d.xp6(1),d.Q6J("ngIf",r.showIndicators),d.xp6(1),d.Q6J("ngIf",r.footerFacet||r.footerTemplate))},directives:[Ta,Wn,Xi,Li,dh,rU],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),OU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un,tA,nA],Un,tA]}),n})();function oC(n){return null!=n&&"false"!=`${n}`}function GO(n){return n instanceof d.SBq?n.nativeElement:n}let tk=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=GO(t);return new mn.y(o=>{const h=this._observeElement(r).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ti.xQ,o=this._mutationObserverFactory.create(l=>r.next(l));o&&o.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:o,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:o}=this._observedElements.get(t);r&&r.disconnect(),o.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tk))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FU=(()=>{class n{constructor(t,r,o){this._contentObserver=t,this._elementRef=r,this._ngZone=o,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=oC(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(P1(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kU),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[tk]}),n})();const VU=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(ge)}});let BU=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const o=t.documentElement?t.documentElement.dir:null,l=(t.body?t.body.dir:null)||o;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(VU,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const rk=new d.GfV("13.0.1");let qO;try{qO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){qO=!1}let Fv,rA=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!qO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ik=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function sk(){if(Fv)return Fv;if("object"!=typeof document||!document)return Fv=new Set(ik),Fv;let n=document.createElement("input");return Fv=new Set(ik.filter(e=>(n.setAttribute("type",e),n.type===e))),Fv}let aC;function iA(n){return function(){if(null==aC&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aC=!0}))}finally{aC=aC||!1}return aC}()?n:!!n.capture}const ck="cdk-high-contrast-black-on-white",uk="cdk-high-contrast-white-on-black",WO="cdk-high-contrast-active";let s2=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(WO),t.remove(ck),t.remove(uk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(WO),t.add(ck)):2===r&&(t.add(WO),t.add(uk))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rA),d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dk=new d.GfV("13.0.2"),a2=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let KO=(()=>{class n{constructor(t,r,o){this._hasDoneGlobalChecks=!1,this._document=o,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,d.X6Q)()||"undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&dk.full!==rk.full&&console.warn("The Angular Material version ("+dk.full+") does not match the Angular CDK version ("+rk.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(s2),d.LFG(a2,8),d.LFG(ge))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[nk],nk]}),n})();function l2(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function c2(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ti.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let hk=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g2=U(9105);function mk(n,e,t,r){return(0,g2.m)(t)&&(r=t,t=void 0),r?mk(n,e,t).pipe((0,lt.U)(o=>(0,Hl.k)(o)?r(...o):r(o))):new mn.y(o=>{_k(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function _k(n,e,t,r,o){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),l=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),l=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),l=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)_k(n[h],e,t,r,o)}r.add(l)}function YO(n){return e=>e.lift(new v2(n))}class v2{constructor(e){this.notifier=e}call(e,t){const r=new b2(e),o=(0,_o.ft)(this.notifier,new _o.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class b2 extends _o.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class yk{}const oh="*";function w2(n,e){return{type:7,name:n,definitions:e,options:{}}}function C2(n,e=null){return{type:4,styles:e,timings:n}}function vk(n,e=null){return{type:2,steps:n,options:e}}function oA(n){return{type:6,styles:n,offset:null}}function I2(n,e,t){return{type:0,name:n,styles:e,options:t}}function T2(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bk(n){Promise.resolve(null).then(n)}class Lv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ek{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const l=this.players.length;0==l?bk(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function wk(){return"undefined"!=typeof window&&void 0!==window.document}function JO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hp(n){switch(n.length){case 0:return new Lv;case 1:return n[0];default:return new Ek(n)}}function Ck(n,e,t,r,o={},l={}){const h=[],m=[];let b=-1,C=null;if(r.forEach(M=>{const O=M.offset,L=O==b,B=L&&C||{};Object.keys(M).forEach(W=>{let le=W,be=M[W];if("offset"!==W)switch(le=e.normalizePropertyName(le,h),be){case"!":be=o[W];break;case oh:be=l[W];break;default:be=e.normalizeStyleValue(W,le,be,h)}B[le]=be}),L||m.push(B),C=B,b=O}),h.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${h.join(M)}`)}return m}function XO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eN(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eN(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eN(t,"destroy",n)))}}function eN(n,e,t){const r=t.totalTime,l=tN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function tN(n,e,t,r,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function ya(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Ik(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let nN=(n,e)=>!1,rN=(n,e)=>!1,Tk=(n,e,t)=>[];const Dk=JO();(Dk||"undefined"!=typeof Element)&&(nN=wk()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),rN=(()=>{if(Dk||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):rN}})(),Tk=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let l=0;l<o.length;l++)r.push(o[l])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let Am=null,Sk=!1;function iN(n){Am||(Am=("undefined"!=typeof document?document.body:null)||{},Sk=!!Am.style&&"WebkitAppearance"in Am.style);let e=!0;return Am.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Am.style,!e&&Sk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Am.style)),e}const sN=rN,oN=nN,aN=Tk;function Ak(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Mk=(()=>{class n{validateStyleProperty(t){return iN(t)}matchesElement(t,r){return sN(t,r)}containsElement(t,r){return oN(t,r)}query(t,r,o){return aN(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,l,h,m=[],b){return new Lv(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),lN=(()=>{class n{}return n.NOOP=new Mk,n})();const cN="ng-enter",aA="ng-leave",lA="ng-trigger",cA=".ng-trigger",Rk="ng-animating",uN=".ng-animating";function Mm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dN(parseFloat(e[1]),e[2])}function dN(n,e){switch(e){case"s":return 1e3*n;default:return n}}function uA(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,l=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=dN(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(l=dN(parseFloat(b),m[4]));const C=m[5];C&&(h=C)}else o=n;if(!t){let m=!1,b=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:h}}(n,e,t)}function Vv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function fp(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Vv(n,t);return t}function Nk(n,e,t){return t?e+":"+t+";":""}function Pk(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Nk(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Nk(0,N2(t),n.style[t]));n.setAttribute("style",e)}function Du(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=fN(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),JO()&&Pk(n))}function xm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=fN(t);n.style[r]=""}),JO()&&Pk(n))}function cC(n){return Array.isArray(n)?1==n.length?n[0]:vk(n):n}const hN=new RegExp("{{\\s*(.+?)\\s*}}","g");function kk(n){let e=[];if("string"==typeof n){let t;for(;t=hN.exec(n);)e.push(t[1]);hN.lastIndex=0}return e}function dA(n,e,t){const r=n.toString(),o=r.replace(hN,(l,h)=>{let m=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return o==r?n:o}function hA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const O2=/-+([a-z0-9])/g;function fN(n){return n.replace(O2,(...e)=>e[1].toUpperCase())}function N2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fk(n,e){return 0===n||0===e}function Lk(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=t[m]}),h.length)for(var o=1;o<e.length;o++){let m=e[o];h.forEach(function(b){m[b]=pN(n,b)})}}return e}function va(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function pN(n,e){return window.getComputedStyle(n)[e]}function P2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const b=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],l=r[2],h=r[3];e.push(Vk(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&e.push(Vk(h,o))}(r,t,e)):t.push(n),t}const pA=new Set(["true","1"]),gA=new Set(["false","0"]);function Vk(n,e){const t=pA.has(n)||gA.has(n),r=pA.has(e)||gA.has(e);return(o,l)=>{let h="*"==n||n==o,m="*"==e||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?pA.has(n):gA.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?pA.has(e):gA.has(e)),h&&m}}const L2=new RegExp("s*:selfs*,?","g");function gN(n,e,t){return new V2(n).build(e,t)}class V2{constructor(e){this._driver=e}build(e,t){const r=new j2(t);return this._resetContextStyleTimingState(r),va(this,cC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const b=m,C=b.name;C.toString().split(/\s*,\s*/).forEach(M=>{b.name=M,l.push(this.visitState(b,t))}),b.name=C}else if(1==m.type){const b=this.visitTransition(m,t);r+=b.queryCount,o+=b.depCount,h.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};if(r.styles.forEach(m=>{if(mA(m)){const b=m;Object.keys(b).forEach(C=>{kk(b[C]).forEach(M=>{h.hasOwnProperty(M)||l.add(M)})})}}),l.size){const m=hA(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=va(this,cC(e.animation),t);return{type:1,matchers:P2(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Rm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>va(this,r,t)),options:Rm(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=r;const m=va(this,h,t);return o=Math.max(o,t.currentTime),m});return t.currentTime=o,{type:3,steps:l,options:Rm(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return mN(uA(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=mN(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||uA(r,e),mN(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,l=e.styles?e.styles:oA({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,m=!1;if(!h){m=!0;const C={};r.easing&&(C.easing=r.easing),h=oA(C)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,t);b.isEmptyStep=m,o=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==oh?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,l=null;return r.forEach(h=>{if(mA(h)){const m=h,b=m.easing;if(b&&(l=b,delete m.easing),!o)for(let C in m)if(m[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],C=b[m];let M=!0;C&&(l!=o&&l>=C.startTime&&o<=C.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),M=!1),l=C.startTime),M&&(b[m]={startTime:l,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=kk(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let m=!1,b=!1,C=0;const M=e.steps.map(Le=>{const Xe=this._makeStyleAst(Le,t);let st=null!=Xe.offset?Xe.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(mA(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(mA(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Xe.styles),qe=0;return null!=st&&(l++,qe=Xe.offset=st),b=b||qe<0||qe>1,m=m||qe<C,C=qe,h.push(qe),Xe});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const O=e.steps.length;let L=0;l>0&&l<O?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(L=1/(O-1));const B=O-1,W=t.currentTime,le=t.currentAnimateTimings,be=le.duration;return M.forEach((Le,Xe)=>{const st=L>0?Xe==B?1:L*Xe:h[Xe],qe=st*be;t.currentTime=W+le.delay+qe,le.duration=qe,this._validateStyleAst(Le,t),Le.offset=st,r.styles.push(Le)}),r}visitReference(e,t){return{type:8,animation:va(this,cC(e.animation),t),options:Rm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(L2,"")),[n=n.replace(/@\*/g,cA).replace(/@\w+/g,t=>cA+"-"+t.substr(1)).replace(/:animating/g,uN),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,ya(t.collectedStyles,t.currentQuerySelector,{});const m=va(this,cC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:m,originalSelector:e.selector,options:Rm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:uA(e.timings,t.errors,!0);return{type:12,animation:va(this,cC(e.animation),t),timings:r,options:null}}}class j2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mA(n){return!Array.isArray(n)&&"object"==typeof n}function Rm(n){return n?(n=Vv(n)).params&&(n.params=function(n){return n?Vv(n):null}(n.params)):n={},n}function mN(n,e,t){return{duration:n,delay:e,easing:t}}function _N(n,e,t,r,o,l,h=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:m}}class _A{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const z2=new RegExp(":enter","g"),K2=new RegExp(":leave","g");function yN(n,e,t,r,o,l={},h={},m,b,C=[]){return(new Z2).buildKeyframes(n,e,t,r,o,l,h,m,b,C)}class Z2{buildKeyframes(e,t,r,o,l,h,m,b,C,M=[]){C=C||new _A;const O=new vN(e,t,C,o,l,M,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),va(this,r,O);const L=O.timelines.filter(B=>B.containsAnimation());if(L.length&&Object.keys(m).length){const B=L[L.length-1];B.allowOnlyTimelineStyles()||B.setStyles([m],null,O.errors,b)}return L.length?L.map(B=>B.buildKeyframes()):[_N(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?Mm(r.duration):null,m=null!=r.delay?Mm(r.delay):null;return 0!==h&&e.forEach(b=>{const C=t.appendInstructionToTimeline(b,h,m);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),va(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=yA);const h=Mm(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>va(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Mm(e.options.delay):0;e.steps.forEach(h=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),va(this,h,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return uA(t.params?dA(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(b=>{m.forwardTime((b.offset||0)*l),m.setStyles(b.styles,b.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?Mm(o.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yA);let h=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=m.length;let b=null;m.forEach((C,M)=>{t.currentQueryIndex=M;const O=t.createSubContext(e.options,C);l&&O.delayNextStep(l),C===t.element&&(b=O.currentTimeline),va(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),m=h*(t.currentQueryTotal-1);let b=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const M=t.currentTimeline;b&&M.delayNextStep(b);const O=M.currentTime;va(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const yA={};class vN{constructor(e,t,r,o,l,h,m,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new vA(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Mm(r.duration)),null!=r.delay&&(o.delay=Mm(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!h.hasOwnProperty(m))&&(h[m]=dA(l[m],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,l=new vN(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=yA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new Y2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,l,h){let m=[];if(o&&m.push(this.element),e.length>0){e=(e=e.replace(z2,"."+this._enterClassName)).replace(K2,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!l&&0==m.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class vA{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||oh,this._currentKeyframe[t]=oh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(l=>{t[l]=oh})):fp(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const b=dA(h[m],l,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:oh),this._updateStyle(m,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,b)=>{const C=fp(m,!0);Object.keys(C).forEach(M=>{const O=C[M];"!"==O?e.add(M):O==oh&&t.add(M)}),r||(C.offset=b/this.duration),o.push(C)});const l=e.size?hA(e.values()):[],h=t.size?hA(t.values()):[];if(r){const m=o[0],b=Vv(m);m.offset=0,b.offset=1,o=[m,b]}return _N(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class Y2 extends vA{constructor(e,t,r,o,l,h,m=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,m=t/h,b=fp(e[0],!1);b.offset=0,l.push(b);const C=fp(e[0],!1);C.offset=jk(m),l.push(C);const M=e.length-1;for(let O=1;O<=M;O++){let L=fp(e[O],!1);L.offset=jk((t+L.offset*r)/h),l.push(L)}r=h,t=0,o="",e=l}return _N(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function jk(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class bN{}class J2 extends bN{normalizePropertyName(e,t){return fN(e)}normalizeStyleValue(e,t,r,o){let l="";const h=r.toString().trim();if(X2[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const X2=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Hk(n,e,t,r,o,l,h,m,b,C,M,O,L){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:m,queriedElements:b,preStyleProps:C,postStyleProps:M,totalTime:O,errors:L}}const EN={};class $k{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(l=>l(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],l=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,o,l,h,m,b,C,M){const O=[],L=this.ast.options&&this.ast.options.params||EN,W=this.buildStyles(r,m&&m.params||EN,O),le=b&&b.params||EN,be=this.buildStyles(o,le,O),Le=new Set,Xe=new Map,st=new Map,qe="void"===o,Qt={params:Object.assign(Object.assign({},L),le)},pn=M?[]:yN(e,t,this.ast.animation,l,h,W,be,Qt,C,O);let Pr=0;if(pn.forEach(ba=>{Pr=Math.max(ba.duration+ba.delay,Pr)}),O.length)return Hk(t,this._triggerName,r,o,qe,W,be,[],[],Xe,st,Pr,O);pn.forEach(ba=>{const ah=ba.element,SF=ya(Xe,ah,{});ba.preStyleProps.forEach(Om=>SF[Om]=!0);const dC=ya(st,ah,{});ba.postStyleProps.forEach(Om=>dC[Om]=!0),ah!==t&&Le.add(ah)});const Zs=hA(Le.values());return Hk(t,this._triggerName,r,o,qe,W,be,pn,Zs,Xe,st,Pr)}}class nB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=Vv(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let b=h[m];b.length>1&&(b=dA(b,o,t));const C=this.normalizer.normalizePropertyName(m,t);b=this.normalizer.normalizeStyleValue(m,C,b,t),r[C]=b})}}),r}}class iB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new nB(o.style,o.options&&o.options.params||{},r)}),Gk(this.states,"true","1"),Gk(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new $k(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new $k(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Gk(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const oB=new _A;class aB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=gN(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,l=Ck(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],l=this._animations[e];let h;const m=new Map;if(l?(h=yN(this._driver,t,l,cN,aA,{},{},r,oB,o),h.forEach(M=>{const O=ya(m,M.element,{});M.postStyleProps.forEach(L=>O[L]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((M,O)=>{Object.keys(M).forEach(L=>{M[L]=this._driver.computeStyle(O,L,oh)})});const C=hp(h.map(M=>{const O=m.get(M.element);return this._buildPlayer(M,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const l=tN(t,"","","");return XO(this._getPlayer(e),r,l,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const qk="ng-animate-queued",zk="ng-animate-disabled",Wk=".ng-animate-disabled",dB=[],Kk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_l="__ng_removed";class wN{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const l=Vv(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const uC="void",CN=new wN(uC);class fB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yl(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=ya(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};l.push(h);const m=ya(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(yl(e,lA),yl(e,lA+"-"+t),m[t]=CN),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(h);b>=0&&l.splice(b,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const l=this._getTrigger(t),h=new IN(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(yl(e,lA),yl(e,lA+"-"+t),this._engine.statesByElement.set(e,m={}));let b=m[t];const C=new wN(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),m[t]=C,b||(b=CN),C.value!==uC&&b.value===C.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(b.params,C.params)){const le=[],be=l.matchStyles(b.value,b.params,le),Le=l.matchStyles(C.value,C.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{xm(e,be),Du(e,Le)})}return}const L=ya(this._engine.playersByElement,e,[]);L.forEach(le=>{le.namespaceId==this.id&&le.triggerName==t&&le.queued&&le.destroy()});let B=l.matchTransition(b.value,C.value,e,C.params),W=!1;if(!B){if(!o)return;B=l.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:b,toState:C,player:h,isFallbackTransition:W}),W||(yl(e,qk),h.onStart(()=>{Uv(e,qk)})),h.onDone(()=>{let le=this.players.indexOf(h);le>=0&&this.players.splice(le,1);const be=this._engine.playersByElement.get(e);if(be){let Le=be.indexOf(h);Le>=0&&be.splice(Le,1)}}),this.players.push(h),L.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,cA,!0);r.forEach(o=>{if(o[_l])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const b=this.trigger(e,m,uC,o);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&hp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,C=r[h]||CN,M=new wN(uC),O=new IN(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:b,fromState:C,toState:M,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[_l];(!l||l===Kk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){yl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==r.triggerName){const b=tN(l,r.triggerName,r.fromState.value,r.toState.value);b._data=e,XO(r.player,m.phase,b,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class pB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new fB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&t.add(m)}}}return t}trigger(e,t,r,o){if(bA(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!bA(t))return;const l=t[_l];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yl(e,zk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Uv(e,zk))}removeNode(e,t,r,o){if(bA(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[_l]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,l){return bA(t)?this._fetchNamespace(e).listen(t,r,o,l):()=>{}}_buildInstruction(e,t,r,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,cA,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,uN,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[_l];if(t&&t.setForRemoval){if(e[_l]=Kk,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Wk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Wk,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)yl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?hp(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new _A,o=[],l=new Map,h=[],m=new Map,b=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(nt=>{M.add(nt);const ft=this.driver.query(nt,".ng-animate-queued",!0);for(let At=0;At<ft.length;At++)M.add(ft[At])});const O=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=Qk(L,this.collectedEnterElements),W=new Map;let le=0;B.forEach((nt,ft)=>{const At=cN+le++;W.set(ft,At),nt.forEach(an=>yl(an,At))});const be=[],Le=new Set,Xe=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const ft=this.collectedLeaveElements[nt],At=ft[_l];At&&At.setForRemoval&&(be.push(ft),Le.add(ft),At.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(an=>Le.add(an)):Xe.add(ft))}const st=new Map,qe=Qk(L,Array.from(Le));qe.forEach((nt,ft)=>{const At=aA+le++;st.set(ft,At),nt.forEach(an=>yl(an,At))}),e.push(()=>{B.forEach((nt,ft)=>{const At=W.get(ft);nt.forEach(an=>Uv(an,At))}),qe.forEach((nt,ft)=>{const At=st.get(ft);nt.forEach(an=>Uv(an,At))}),be.forEach(nt=>{this.processLeaveNode(nt)})});const Qt=[],pn=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(At=>{const an=At.player,ki=At.element;if(Qt.push(an),this.collectedEnterElements.length){const Au=ki[_l];if(Au&&Au.setForMove)return void an.destroy()}const Su=!O||!this.driver.containsElement(O,ki),Ea=st.get(ki),pp=W.get(ki),Ir=this._buildInstruction(At,r,pp,Ea,Su);if(Ir.errors&&Ir.errors.length)pn.push(Ir);else{if(Su)return an.onStart(()=>xm(ki,Ir.fromStyles)),an.onDestroy(()=>Du(ki,Ir.toStyles)),void o.push(an);if(At.isFallbackTransition)return an.onStart(()=>xm(ki,Ir.fromStyles)),an.onDestroy(()=>Du(ki,Ir.toStyles)),void o.push(an);Ir.timelines.forEach(Au=>Au.stretchStartingKeyframe=!0),r.append(ki,Ir.timelines),h.push({instruction:Ir,player:an,element:ki}),Ir.queriedElements.forEach(Au=>ya(m,Au,[]).push(an)),Ir.preStyleProps.forEach((Au,hC)=>{const TA=Object.keys(Au);if(TA.length){let Nm=b.get(hC);Nm||b.set(hC,Nm=new Set),TA.forEach(ON=>Nm.add(ON))}}),Ir.postStyleProps.forEach((Au,hC)=>{const TA=Object.keys(Au);let Nm=C.get(hC);Nm||C.set(hC,Nm=new Set),TA.forEach(ON=>Nm.add(ON))})}});if(pn.length){const nt=[];pn.forEach(ft=>{nt.push(`@${ft.triggerName} has failed due to:\n`),ft.errors.forEach(At=>nt.push(`- ${At}\n`))}),Qt.forEach(ft=>ft.destroy()),this.reportError(nt)}const Pr=new Map,Zs=new Map;h.forEach(nt=>{const ft=nt.element;r.has(ft)&&(Zs.set(ft,ft),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Pr))}),o.forEach(nt=>{const ft=nt.element;this._getPreviousPlayers(ft,!1,nt.namespaceId,nt.triggerName,null).forEach(an=>{ya(Pr,ft,[]).push(an),an.destroy()})});const ba=be.filter(nt=>Xk(nt,b,C)),ah=new Map;Yk(ah,this.driver,Xe,C,oh).forEach(nt=>{Xk(nt,b,C)&&ba.push(nt)});const dC=new Map;B.forEach((nt,ft)=>{Yk(dC,this.driver,new Set(nt),b,"!")}),ba.forEach(nt=>{const ft=ah.get(nt),At=dC.get(nt);ah.set(nt,Object.assign(Object.assign({},ft),At))});const Om=[],AF=[],MF={};h.forEach(nt=>{const{element:ft,player:At,instruction:an}=nt;if(r.has(ft)){if(M.has(ft))return At.onDestroy(()=>Du(ft,an.toStyles)),At.disabled=!0,At.overrideTotalTime(an.totalTime),void o.push(At);let ki=MF;if(Zs.size>1){let Ea=ft;const pp=[];for(;Ea=Ea.parentNode;){const Ir=Zs.get(Ea);if(Ir){ki=Ir;break}pp.push(Ea)}pp.forEach(Ir=>Zs.set(Ir,ki))}const Su=this._buildAnimation(At.namespaceId,an,Pr,l,dC,ah);if(At.setRealPlayer(Su),ki===MF)Om.push(At);else{const Ea=this.playersByElement.get(ki);Ea&&Ea.length&&(At.parentPlayer=hp(Ea)),o.push(At)}}else xm(ft,an.fromStyles),At.onDestroy(()=>Du(ft,an.toStyles)),AF.push(At),M.has(ft)&&o.push(At)}),AF.forEach(nt=>{const ft=l.get(nt.element);if(ft&&ft.length){const At=hp(ft);nt.setRealPlayer(At)}}),o.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<be.length;nt++){const ft=be[nt],At=ft[_l];if(Uv(ft,aA),At&&At.hasAnimation)continue;let an=[];if(m.size){let Su=m.get(ft);Su&&Su.length&&an.push(...Su);let Ea=this.driver.query(ft,uN,!0);for(let pp=0;pp<Ea.length;pp++){let Ir=m.get(Ea[pp]);Ir&&Ir.length&&an.push(...Ir)}}const ki=an.filter(Su=>!Su.destroyed);ki.length?yB(this,ft,ki):this.processLeaveNode(ft)}return be.length=0,Om.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const ft=this.players.indexOf(nt);this.players.splice(ft,1)}),nt.play()}),Om}elementContainsData(e,t){let r=!1;const o=t[_l];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,l){let h=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(h=m)}else{const m=this.playersByElement.get(e);if(m){const b=!l||l==uC;m.forEach(C=>{C.queued||!b&&C.triggerName!=o||h.push(C)})}}return(r||o)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,M=C!==l,O=ya(r,C,[]);this._getPreviousPlayers(C,M,h,m,t.toState).forEach(B=>{const W=B.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),B.destroy(),O.push(B)})}xm(l,t.fromStyles)}_buildAnimation(e,t,r,o,l,h){const m=t.triggerName,b=t.element,C=[],M=new Set,O=new Set,L=t.timelines.map(W=>{const le=W.element;M.add(le);const be=le[_l];if(be&&be.removedBeforeQueried)return new Lv(W.duration,W.delay);const Le=le!==b,Xe=function(n){const e=[];return Jk(n,e),e}((r.get(le)||dB).map(Pr=>Pr.getRealPlayer())).filter(Pr=>!!Pr.element&&Pr.element===le),st=l.get(le),qe=h.get(le),Qt=Ck(0,this._normalizer,0,W.keyframes,st,qe),pn=this._buildPlayer(W,Qt,Xe);if(W.subTimeline&&o&&O.add(le),Le){const Pr=new IN(e,m,le);Pr.setRealPlayer(pn),C.push(Pr)}return pn});C.forEach(W=>{ya(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,W.element,W))}),M.forEach(W=>yl(W,Rk));const B=hp(L);return B.onDestroy(()=>{M.forEach(W=>Uv(W,Rk)),Du(b,t.toStyles)}),O.forEach(W=>{ya(o,W,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Lv(e.duration,e.delay)}}class IN{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Lv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>XO(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ya(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function bA(n){return n&&1===n.nodeType}function Zk(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Yk(n,e,t,r,o){const l=[];t.forEach(b=>l.push(Zk(b)));const h=[];r.forEach((b,C)=>{const M={};b.forEach(O=>{const L=M[O]=e.computeStyle(C,O,o);(!L||0==L.length)&&(C[_l]=hB,h.push(C))}),n.set(C,M)});let m=0;return t.forEach(b=>Zk(b,l[m++])),h}function Qk(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const o=new Set(e),l=new Map;function h(m){if(!m)return 1;let b=l.get(m);if(b)return b;const C=m.parentNode;return b=t.has(C)?C:o.has(C)?1:h(C),l.set(m,b),b}return e.forEach(m=>{const b=h(m);1!==b&&t.get(b).push(m)}),t}const EA="$$classes";function yl(n,e){if(n.classList)n.classList.add(e);else{let t=n[EA];t||(t=n[EA]={}),t[e]=!0}}function Uv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[EA];t&&delete t[e]}}function yB(n,e,t){hp(t).onDone(()=>n.processLeaveNode(e))}function Jk(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Ek?Jk(r.players,e):e.push(r)}}function Xk(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(l=>o.add(l)):e.set(n,r),t.delete(n),!0}class wA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new pB(e,t,r),this._timelineEngine=new aB(e,t,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,r,o,l){const h=e+"-"+o;let m=this._triggerCache[h];if(!m){const b=[],C=gN(this._driver,l,b);if(b.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);m=function(n,e,t){return new iB(n,e,t)}(o,C,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(t,o,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[l,h]=Ik(r);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,l){if("@"==r.charAt(0)){const[h,m]=Ik(r);return this._timelineEngine.listen(h,t,m,l)}return this._transitionEngine.listen(e,t,r,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function eF(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=TN(e[0]),e.length>1&&(r=TN(e[e.length-1]))):e&&(t=TN(e)),t||r?new EB(n,t,r):null}let EB=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Du(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Du(this._element,this._initialStyles),this._endStyles&&(Du(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xm(this._element,this._endStyles),this._endStyles=null),Du(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TN(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];wB(o)&&(e=e||{},e[o]=n[o])}return e}function wB(n){return"display"===n||"position"===n}const tF="animation",nF="animationend";class TB{constructor(e,t,r,o,l,h,m){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,e){const t=SN(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),CA(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sF(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){rF(this._element,this._name,"paused")}resume(){rF(this._element,this._name,"running")}setPosition(e){const t=iF(this._element,this._name);this._position=e*this._duration,CA(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sF(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=SN(n,"").split(","),o=DN(r,e);o>=0&&(r.splice(o,1),CA(n,"",r.join(",")))}(this._element,this._name))}}function rF(n,e,t){CA(n,"PlayState",t,iF(n,e))}function iF(n,e){const t=SN(n,"");return t.indexOf(",")>0?DN(t.split(","),e):DN([t],e)}function DN(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function sF(n,e,t){t?n.removeEventListener(nF,e):n.addEventListener(nF,e)}function CA(n,e,t,r){const o=tF+e;if(null!=r){const l=n.style[o];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function SN(n,e){return n.style[tF+e]||""}class oF{constructor(e,t,r,o,l,h,m,b){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=l,this._finalStyles=m,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new TB(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:pN(this.element,r))})}this.currentSnapshot=e}}class RB extends Lv{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Ak(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class lF{constructor(){this._count=0}validateStyleProperty(e){return iN(e)}matchesElement(e,t){return sN(e,t)}containsElement(e,t){return oN(e,t)}query(e,t,r){return aN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(m=>Ak(m));let o=`@keyframes ${t} {\n`,l="";r.forEach(m=>{l=" ";const b=parseFloat(m.offset);o+=`${l}${100*b}% {\n`,l+=" ",Object.keys(m).forEach(C=>{const M=m[C];switch(C){case"offset":return;case"easing":return void(M&&(o+=`${l}animation-timing-function: ${M};\n`));default:return void(o+=`${l}${C}: ${M};\n`)}}),o+=`${l}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,l,h=[],m){const b=h.filter(be=>be instanceof oF),C={};Fk(r,o)&&b.forEach(be=>{let Le=be.currentSnapshot;Object.keys(Le).forEach(Xe=>C[Xe]=Le[Xe])});const M=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=Lk(e,t,C));if(0==r)return new RB(e,M);const O="gen_css_kf_"+this._count++,L=this.buildKeyframeElement(e,O,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(L);const W=eF(e,t),le=new oF(e,t,O,r,o,l,M,W);return le.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(L)),le}}class uF{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:pN(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class FB{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(dF().toString()),this._cssKeyframesDriver=new lF}validateStyleProperty(e){return iN(e)}matchesElement(e,t){return sN(e,t)}containsElement(e,t){return oN(e,t)}query(e,t,r){return aN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,l,h);const M={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(M.easing=l);const O={},L=h.filter(W=>W instanceof uF);Fk(r,o)&&L.forEach(W=>{let le=W.currentSnapshot;Object.keys(le).forEach(be=>O[be]=le[be])});const B=eF(e,t=Lk(e,t=t.map(W=>fp(W,!1)),O));return new uF(e,t,M,B)}}function dF(){return wk()&&Element.prototype.animate||{}}let VB=(()=>{class n extends yk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?vk(t):t;return hF(this._renderer,null,r,"register",[o]),new UB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class UB extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new BB(this._id,e,t||{},this._renderer)}}class BB{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function hF(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const fF="@.disabled";let jB=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(l);return M||(M=new pF("",l,this.engine),this._rendererCache.set(l,M)),M}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const b=M=>{Array.isArray(M)?M.forEach(b):this.engine.registerTrigger(h,m,t,M.name,M)};return r.data.animation.forEach(b),new HB(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(wA),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class pF{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==fF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class HB extends pF{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let qB=(()=>{class n extends wA{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(lN),d.LFG(bN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const AN=new d.OlP("AnimationModuleType"),gF=[{provide:yk,useClass:VB},{provide:bN,useFactory:function(){return new J2}},{provide:wA,useClass:qB},{provide:d.FYo,useFactory:function(n,e,t){return new jB(n,e,t)},deps:[is,wA,d.R0b]}],mF=[{provide:lN,useFactory:function(){return"function"==typeof dF()?new FB:new lF}},{provide:AN,useValue:"BrowserAnimations"},...gF],_F=[{provide:lN,useClass:Mk},{provide:AN,useValue:"NoopAnimations"},...gF];let ZB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_F:mF}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:mF,imports:[qo]}),n})();const YB=["connectionContainer"],QB=["inputContainer"],JB=["label"];function XB(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15),d._UZ(3,"div",16),d._UZ(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15),d._UZ(7,"div",16),d._UZ(8,"div",17),d.qZA(),d.BQk())}function ej(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function tj(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function nj(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function rj(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function ij(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,tj,4,1,"ng-container",12),d.YNc(3,nj,1,0,"ng-content",12),d.YNc(4,rj,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function sj(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function oj(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function aj(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function lj(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function cj(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,lj,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const uj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],hj=new d.OlP("MatError"),fj={transitionMessages:w2("transitionMessages",[I2("enter",oA({opacity:1,transform:"translateY(0%)"})),T2("void => enter",[oA({opacity:0,transform:"translateY(-5px)"}),C2("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const pj=new d.OlP("MatHint");let yF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const mj=new d.OlP("MatPrefix"),_j=new d.OlP("MatSuffix");let vF=0;const vj=l2(class{constructor(n){this._elementRef=n}},"primary"),bj=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),EF=new d.OlP("MatFormField");let Ej=(()=>{class n extends vj{constructor(t,r,o,l,h,m,b){super(t),this._changeDetectorRef=r,this._dir=o,this._defaults=l,this._platform=h,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ti.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+vF++,this._labelId="mat-form-field-label-"+vF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=oC(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Wa(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(YO(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(YO(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ZP.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Wa(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Wa(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(YO(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,mk(this._label.nativeElement,"transitionend").pipe($r(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,o=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),m=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const b=l.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(b),M=t.children,O=this._getStartEnd(M[0].getBoundingClientRect());let L=0;for(let B=0;B<M.length;B++)L+=M[B].offsetWidth;r=Math.abs(O-C)-5,o=L>0?.75*L+10:0}for(let b=0;b<h.length;b++)h[b].style.width=`${r}px`;for(let b=0;b<m.length;b++)m[b].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(BU,8),d.Y36(bj,8),d.Y36(rA),d.Y36(d.R0b),d.Y36(AN,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,o){if(1&t&&(d.Suo(o,MN,5),d.Suo(o,MN,7),d.Suo(o,yF,5),d.Suo(o,yF,7),d.Suo(o,gj,5),d.Suo(o,hj,5),d.Suo(o,pj,5),d.Suo(o,mj,5),d.Suo(o,_j,5)),2&t){let l;d.iGM(l=d.CRH())&&(r._controlNonStatic=l.first),d.iGM(l=d.CRH())&&(r._controlStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildNonStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildStatic=l.first),d.iGM(l=d.CRH())&&(r._placeholderChild=l.first),d.iGM(l=d.CRH())&&(r._errorChildren=l),d.iGM(l=d.CRH())&&(r._hintChildren=l),d.iGM(l=d.CRH())&&(r._prefixChildren=l),d.iGM(l=d.CRH())&&(r._suffixChildren=l)}},viewQuery:function(t,r){if(1&t&&(d.Gf(YB,7),d.Gf(QB,5),d.Gf(JB,5)),2&t){let o;d.iGM(o=d.CRH())&&(r._connectionContainerRef=o.first),d.iGM(o=d.CRH())&&(r._inputContainerRef=o.first),d.iGM(o=d.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:EF,useExisting:n}]),d.qOj],ngContentSelectors:dj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(uj),d.TgZ(0,"div",0),d.TgZ(1,"div",1,2),d.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),d.YNc(3,XB,9,0,"ng-container",3),d.YNc(4,ej,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,ij,5,16,"label",8),d.qZA(),d.qZA(),d.YNc(10,sj,2,0,"div",9),d.qZA(),d.YNc(11,oj,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,aj,2,1,"div",12),d.YNc(14,cj,5,2,"div",13),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[Xi,Ou,bl,FU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[fj.transitionMessages]},changeDetection:0}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un,KO,LU],KO]}),n})();const wF=iA({passive:!0});let wj=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return na.E;const r=GO(t),o=this._monitoredElements.get(r);if(o)return o.subject;const l=new Ti.xQ,h="cdk-text-field-autofilled",m=b=>{"cdk-text-field-autofill-start"!==b.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===b.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",m,wF),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",m,wF)}}),l}stopMonitoring(t){const r=GO(t),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rA),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[jU]]}),n})();const Cj=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),Ij=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Tj=0;const Dj=c2(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let Sj=(()=>{class n extends Dj{constructor(t,r,o,l,h,m,b,C,M,O){super(m,l,h,o),this._elementRef=t,this._platform=r,this._autofillMonitor=C,this._formField=O,this._uid="mat-input-"+Tj++,this.focused=!1,this.stateChanges=new Ti.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(W=>sk().has(W));const L=this._elementRef.nativeElement,B=L.nodeName.toLowerCase();this._inputValueAccessor=b||L,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&M.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",W=>{const le=W.target;!le.value&&0===le.selectionStart&&0===le.selectionEnd&&(le.setSelectionRange(1,1),le.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!O,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=oC(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,o,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(o=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===o?void 0:o.hasValidator(Yo.required))&&void 0!==l&&l}set required(t){this._required=oC(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&sk().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=oC(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const o=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(o!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=o,o?l.setAttribute("placeholder",o):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Ij.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(rA),d.Y36(Ci,10),d.Y36(Ga,8),d.Y36(mo,8),d.Y36(hk),d.Y36(Cj,10),d.Y36(wj),d.Y36(d.R0b),d.Y36(EF,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:MN,useExisting:n}]),d.qOj,d.TTD]}),n})(),Aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[hk],imports:[[CF,xN,KO],CF,xN]}),n})(),Mj=(()=>{class n{transform(t,r){console.log("valores",t);const o=[];for(const l of t)l.titulo.toLowerCase().indexOf(r.toLowerCase())>-1&&o.push(l);return console.log("toma tu pvto resultado",o),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=d.Yjl({name:"filter",type:n,pure:!0}),n})();function xj(n,e){}function Rj(n,e){if(1&n&&(d.TgZ(0,"div",10),d.TgZ(1,"div",11),d.TgZ(2,"div",12),d._UZ(3,"img",13),d.qZA(),d.TgZ(4,"div",12),d.TgZ(5,"h4",14),d._uU(6),d.qZA(),d.TgZ(7,"h6",15),d._uU(8),d.qZA(),d.TgZ(9,"h6",15),d._uU(10),d.qZA(),d.TgZ(11,"h6",15),d._uU(12),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(3),d.s9C("src",t.image,d.LSH),d.s9C("alt",t.titulo),d.xp6(3),d.Oqu(t.titulo),d.xp6(2),d.hij("Autor: ",t.autor,""),d.xp6(2),d.hij("Descipcion: ",t.descripcion,""),d.xp6(2),d.hij("Fecha: ",t.fecha,"")}}function Oj(n,e){if(1&n&&(d.TgZ(0,"li",16),d._UZ(1,"hr"),d.TgZ(2,"div",17),d.TgZ(3,"div",18),d._UZ(4,"img",19),d.qZA(),d.TgZ(5,"div",18),d.TgZ(6,"div",20),d.TgZ(7,"h3"),d._uU(8),d.qZA(),d.TgZ(9,"h4"),d._uU(10),d.qZA(),d.TgZ(11,"h4"),d._uU(12),d.qZA(),d.TgZ(13,"h4"),d._uU(14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(15,"hr"),d.qZA()),2&n){const t=e.$implicit;d.xp6(4),d.s9C("src",t.image,d.LSH),d.xp6(4),d.hij("Titulo: ",t.titulo,""),d.xp6(2),d.hij("Autor: ",t.autor,""),d.xp6(2),d.hij("Descipcion: ",t.descripcion,""),d.xp6(2),d.hij("Fecha: ",t.fecha,"")}}const Nj=[{path:"imagen",component:UV},{path:"galeria",component:(()=>{class n{constructor(t,r){this.http=t,this.imagenService=r,this.filtro="",this.vector=[],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}],this.vector=[]}ngOnInit(){console.log("ng0nInit"),this.imagenes=this.imagenService.getContactos(),console.log(this.imagenes),this.imagenes.subscribe(t=>{this.g=t,console.log("datos....",this.g)}),this.imagenes.subscribe(t=>this.vector=t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(z1),d.Y36(L1))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-galeria"]],decls:16,vars:11,consts:[[3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions"],["pTemplate","header"],["pTemplate","item","class","slider"],[1,"contenedor2"],[1,"title"],[1,"contenedor3"],[1,"label"],[1,"imput"],["name","buscar","matInput","","placeholder","Busqueda",3,"ngModel","ngModelChange"],["class","lista",4,"ngFor","ngForOf"],[1,"product-item"],[1,"product-item-content"],[1,"p-mb-3"],["width","410","height","460",1,"image_image",3,"src","alt"],[1,"p-mb-1"],[1,"p-mt-0","p-mb-3"],[1,"lista"],[1,"contenedor"],[1,"item"],["width","230px","height","250px","alt","",3,"src"],[1,"item2"]],template:function(t,r){1&t&&(d.TgZ(0,"p-carousel",0),d.YNc(1,xj,0,0,"ng-template",1),d.YNc(2,Rj,13,6,"ng-template",2),d.qZA(),d._UZ(3,"hr"),d.TgZ(4,"div",3),d.TgZ(5,"h2",4),d._uU(6,"Lista de la galeria"),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"label",6),d._uU(9,"Buscar:"),d.qZA(),d.TgZ(10,"mat-form-field",7),d.TgZ(11,"input",8),d.NdJ("ngModelChange",function(l){return r.filtro=l}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(12,"hr"),d.TgZ(13,"ul"),d.YNc(14,Oj,16,5,"li",9),d.ALo(15,"filter"),d.qZA()),2&t&&(d.Q6J("value",r.g)("numVisible",3)("numScroll",3)("circular",!1)("autoplayInterval",3e3)("responsiveOptions",r.responsiveOptions),d.xp6(11),d.Q6J("ngModel",r.filtro),d.xp6(3),d.Q6J("ngForOf",d.xi3(15,8,r.vector,r.filtro)))},directives:[RU,J1,Ej,Sj,as,jr,Xc,Li],pipes:[Mj],styles:[".lista[_ngcontent-%COMP%]{list-style:none}.contenedor[_ngcontent-%COMP%]{overflow:hidden;display:flex}.item[_ngcontent-%COMP%]{display:inline;margin-left:10px}.item2[_ngcontent-%COMP%]{margin-top:50px;margin-left:30px;display:inline}.slider[_ngcontent-%COMP%]{background-color:brown}.contenedor2[_ngcontent-%COMP%]{background-color:#f5b7b1;display:flex;flex-direction:row}.contenedor3[_ngcontent-%COMP%]{margin-left:50px;padding-left:20px;flex-direction:row;justify-content:center}.label[_ngcontent-%COMP%]{font-size:20px}.imput[_ngcontent-%COMP%]{margin-left:10px}.title[_ngcontent-%COMP%]{margin-top:7px}.p-mb-3[_ngcontent-%COMP%]{margin:5px}"]}),n})()}];let Pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[md.forRoot(Nj)],md]}),n})(),Fj=(()=>{class n{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,ti.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&ti.addClass(t,r);let o=this.getIconClass();o&&ti.addMultipleClasses(t,o);let l=ti.findSingle(this.el.nativeElement,".p-button-label");l?this.el.nativeElement.insertBefore(t,l):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=ti.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=ti.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(ti.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un,nA]]}),n})(),Lj=(()=>{class n{constructor(t){this.router=t,this.title="PracticaAngularFirebase"}imagen(){this.router.navigate(["imagen"])}galeriaa(){this.router.navigate(["galeria"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ai))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:17,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"cabecera"],[1,"navegacion"],[1,"titulo"],[1,"lista"],[1,"item"],["pButton","","type","button","label","Cargar Imagen",3,"click"],["pButton","","type","button","label","HOME",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"html",0),d.TgZ(1,"head"),d._UZ(2,"meta",1),d._UZ(3,"meta",2),d._UZ(4,"meta",3),d.qZA(),d.TgZ(5,"body"),d.TgZ(6,"header",4),d.TgZ(7,"nav",5),d.TgZ(8,"H1",6),d._uU(9,"SUPER GALERIA \u{1f440}"),d.qZA(),d.TgZ(10,"ul",7),d.TgZ(11,"li",8),d.TgZ(12,"button",9),d.NdJ("click",function(){return r.imagen()}),d.qZA(),d.qZA(),d.TgZ(13,"li",8),d.TgZ(14,"button",10),d.NdJ("click",function(){return r.galeriaa()}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(15,"br"),d._UZ(16,"router-outlet"),d.qZA(),d.qZA())},directives:[Fj,lg],styles:[".titulo[_ngcontent-%COMP%]{margin:20px}.cabecera[_ngcontent-%COMP%]{margin:0;padding:0;position:relative;background-color:#b03a2e;width:100%;height:80px}.navegacion[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.lista[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:100px}.item[_ngcontent-%COMP%]{list-style:none;line-height:40px;margin:0 5px}"]}),n})(),Vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un]]}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un,nA]]}),n})(),TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un]]}),n})(),hH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Un,tA,RN,TF,IF,nA],tA,RN,TF,IF]}),n})();const DF_firebaseConfig={apiKey:"AIzaSyBauQisJnxyk9RFs5eb6eBQP3wuXLiH_Og",authDomain:"angular2-85ed4.firebaseapp.com",projectId:"angular2-85ed4",storageBucket:"angular2-85ed4.appspot.com",messagingSenderId:"460285373050",appId:"1:460285373050:web:da6860800d49f8eae329c3"};let fH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[Lj]}),n.\u0275inj=d.cJS({providers:[],imports:[[qo,Pj,RN,XV,OU,Ks.hO.initializeApp(DF_firebaseConfig),FV,VV,Vj,hH,c_,ZB,xN,Aj,Vh]]}),n})();(0,d.G48)(),Fc().bootstrapModule(fH).catch(n=>console.error(n))},3394:(rt,Ie,U)=>{"use strict";U.d(Ie,{Z:()=>Te});var d=U(3854),ne=U(3910),F=U(8026),he=U(5422);class ie{constructor(Q,Ee){this._delegate=Q,this.firebase=Ee,(0,F._addComponent)(Q,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Q,Ee=F._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const _e=this._delegate.container.getProvider(Q);return!_e.isInitialized()&&"EXPLICIT"===(null===(ve=_e.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&_e.initialize(),_e.getImmediate({identifier:Ee})}_removeServiceInstance(Q,Ee=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(Ee)}_addComponent(Q){(0,F._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,F._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function re(){const me=function(me){const Q={},Ee={__esModule:!0,initializeApp:function(Ct,In={}){const It=F.initializeApp(Ct,In);if((0,d.r3)(Q,It.name))return Q[It.name];const Dt=new me(It,Ee);return Q[It.name]=Dt,Dt},app:_e,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(Ct){const In=Ct.name,It=In.replace("-compat","");if(F._registerComponent(Ct)&&"PUBLIC"===Ct.type){const Dt=(vt=_e())=>{if("function"!=typeof vt[It])throw ge.create("invalid-app-argument",{appName:In});return vt[It]()};void 0!==Ct.serviceProps&&(0,d.ZB)(Dt,Ct.serviceProps),Ee[It]=Dt,me.prototype[It]=function(...vt){return this._getService.bind(this,In).apply(this,Ct.multipleInstances?vt:[])}}return"PUBLIC"===Ct.type?Ee[It]:null},removeApp:function(Ct){delete Q[Ct]},useAsService:function(Ct,In){return"serverAuth"===In?null:In},modularAPIs:F}};function _e(Ct){if(!(0,d.r3)(Q,Ct=Ct||F._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Ct});return Q[Ct]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function(){return Object.keys(Q).map(Ct=>Q[Ct])}}),_e.App=me,Ee}(ie);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function(Ee){(0,d.ZB)(me,Ee)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),me}(),j=new he.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=V;(0,F.registerVersion)("@firebase/app-compat","0.1.9",undefined)},8026:(rt,Ie,U)=>{"use strict";U.r(Ie),U.d(Ie,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>vl,_DEFAULT_ENTRY_NAME:()=>Ro,_addComponent:()=>vs,_addOrOverwriteComponent:()=>Js,_apps:()=>Fn,_clearComponents:()=>Xn,_components:()=>Qs,_getProvider:()=>yn,_registerComponent:()=>bs,_removeServiceInstance:()=>Wt,deleteApp:()=>lr,getApp:()=>Tr,getApps:()=>Me,initializeApp:()=>kr,onLog:()=>Ut,registerVersion:()=>Fi,setLogLevel:()=>ni});var d=U(8239),ne=U(3910),F=U(5422),he=U(3854);class ie{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function(at){const xe=at.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(Gt)){const un=Gt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Gt=>Gt).join(" ")}}const ge="@firebase/app",re=new F.Yd("@firebase/app"),Ro="[DEFAULT]",bc={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fn=new Map,Qs=new Map;function vs(at,xe){try{at.container.addComponent(xe)}catch(Gt){re.debug(`Component ${xe.name} failed to register with FirebaseApp ${at.name}`,Gt)}}function Js(at,xe){at.container.addOrOverwriteComponent(xe)}function bs(at){const xe=at.name;if(Qs.has(xe))return re.debug(`There were multiple attempts to register component ${xe}.`),!1;Qs.set(xe,at);for(const Gt of Fn.values())vs(Gt,at);return!0}function yn(at,xe){return at.container.getProvider(xe)}function Wt(at,xe,Gt=Ro){yn(at,xe).clearInstance(Gt)}function Xn(){Qs.clear()}const $t=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Mt{constructor(xe,Gt,un){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const vl="9.4.1";function kr(at,xe={}){"object"!=typeof xe&&(xe={name:xe});const Gt=Object.assign({name:Ro,automaticDataCollectionEnabled:!1},xe),un=Gt.name;if("string"!=typeof un||!un)throw $t.create("bad-app-name",{appName:String(un)});const Tn=Fn.get(un);if(Tn){if((0,he.vZ)(at,Tn.options)&&(0,he.vZ)(Gt,Tn.config))return Tn;throw $t.create("duplicate-app",{appName:un})}const Ht=new ne.H0(un);for(const Qe of Qs.values())Ht.addComponent(Qe);const tt=new Mt(at,Gt,Ht);return Fn.set(un,tt),tt}function Tr(at=Ro){const xe=Fn.get(at);if(!xe)throw $t.create("no-app",{appName:at});return xe}function Me(){return Array.from(Fn.values())}function lr(at){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(at){const xe=at.name;Fn.has(xe)&&(Fn.delete(xe),yield Promise.all(at.container.getProviders().map(Gt=>Gt.delete())),at.isDeleted=!0)})).apply(this,arguments)}function Fi(at,xe,Gt){var un;let Tn=null!==(un=bc[at])&&void 0!==un?un:at;Gt&&(Tn+=`-${Gt}`);const Ht=Tn.match(/\s|\//),tt=xe.match(/\s|\//);if(Ht||tt){const Qe=[`Unable to register library "${Tn}" with version "${xe}":`];return Ht&&Qe.push(`library name "${Tn}" contains illegal characters (whitespace or "/")`),Ht&&tt&&Qe.push("and"),tt&&Qe.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void re.warn(Qe.join(" "))}bs(new ne.wA(`${Tn}-version`,()=>({library:Tn,version:xe}),"VERSION"))}function Ut(at,xe){if(null!==at&&"function"!=typeof at)throw $t.create("invalid-log-argument");(0,F.Am)(at,xe)}function ni(at){(0,F.Ub)(at)}bs(new ne.wA("platform-logger",xe=>new ie(xe),"PRIVATE")),Fi(ge,"0.7.8",""),Fi(ge,"0.7.8","esm2017"),Fi("fire-js","")},3910:(rt,Ie,U)=>{"use strict";U.d(Ie,{wA:()=>F,H0:()=>fe});var d=U(8239),ne=U(3854);class F{constructor(V,j,ee){this.name=V,this.instanceFactory=j,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const he="[DEFAULT]";class ie{constructor(V,j){this.name=V,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const j=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(j)){const ee=new ne.BH;if(this.instancesDeferred.set(j,ee),this.isInitialized(j)||this.shouldAutoInitialize())try{const X=this.getOrInitializeService({instanceIdentifier:j});X&&ee.resolve(X)}catch(X){}}return this.instancesDeferred.get(j).promise}getImmediate(V){var j;const ee=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),X=null!==(j=null==V?void 0:V.optional)&&void 0!==j&&j;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(X)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ue){if(X)return null;throw ue}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if("EAGER"===V.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:he})}catch(j){}for(const[j,ee]of this.instancesDeferred.entries()){const X=this.normalizeInstanceIdentifier(j);try{const ue=this.getOrInitializeService({instanceIdentifier:X});ee.resolve(ue)}catch(ue){}}}}clearInstance(V=he){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,d.Z)(function*(){const j=Array.from(V.instances.values());yield Promise.all([...j.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...j.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=he){return this.instances.has(V)}getOptions(V=he){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:j={}}=V,ee=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const X=this.getOrInitializeService({instanceIdentifier:ee,options:j});for(const[ue,Te]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ue)&&Te.resolve(X);return X}onInit(V,j){var ee;const X=this.normalizeInstanceIdentifier(j),ue=null!==(ee=this.onInitCallbacks.get(X))&&void 0!==ee?ee:new Set;ue.add(V),this.onInitCallbacks.set(X,ue);const Te=this.instances.get(X);return Te&&V(Te,X),()=>{ue.delete(V)}}invokeOnInitCallbacks(V,j){const ee=this.onInitCallbacks.get(j);if(ee)for(const X of ee)try{X(V,j)}catch(ue){}}getOrInitializeService({instanceIdentifier:V,options:j={}}){let ee=this.instances.get(V);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(re=V,re===he?void 0:re),options:j}),this.instances.set(V,ee),this.instancesOptions.set(V,j),this.invokeOnInitCallbacks(ee,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ee)}catch(X){}var re;return ee||null}normalizeInstanceIdentifier(V=he){return this.component?this.component.multipleInstances?V:he:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const j=this.getProvider(V.name);if(j.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);j.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const j=new ie(V,this);return this.providers.set(V,j),j}getProviders(){return Array.from(this.providers.values())}}},5422:(rt,Ie,U)=>{"use strict";U.d(Ie,{in:()=>ne,Yd:()=>ge,Ub:()=>fe,Am:()=>re});const d=[];var ne=(()=>{return(V=ne||(ne={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",ne;var V})();const F={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},he=ne.INFO,ie={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},oe=(V,j,...ee)=>{if(j<V.logLevel)return;const X=(new Date).toISOString(),ue=ie[j];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ue](`[${X}]  ${V.name}:`,...ee)};class ge{constructor(j){this.name=j,this._logLevel=he,this._logHandler=oe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ne))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?F[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...j),this._logHandler(this,ne.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...j),this._logHandler(this,ne.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...j),this._logHandler(this,ne.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...j),this._logHandler(this,ne.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...j),this._logHandler(this,ne.ERROR,...j)}}function fe(V){d.forEach(j=>{j.setLogLevel(V)})}function re(V,j){for(const ee of d){let X=null;j&&j.level&&(X=F[j.level]),ee.userLogHandler=null===V?null:(ue,Te,...me)=>{const Q=me.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(ve){return null}}).filter(Ee=>Ee).join(" ");Te>=(null!=X?X:ue.logLevel)&&V({level:ne[Te].toLowerCase(),message:Q,args:me,type:ue.name})}}}},8239:(rt,Ie,U)=>{"use strict";function d(F,he,ie,oe,ge,fe,re){try{var V=F[fe](re),j=V.value}catch(ee){return void ie(ee)}V.done?he(j):Promise.resolve(j).then(oe,ge)}function ne(F){return function(){var he=this,ie=arguments;return new Promise(function(oe,ge){var fe=F.apply(he,ie);function re(j){d(fe,oe,ge,re,V,"next",j)}function V(j){d(fe,oe,ge,re,V,"throw",j)}re(void 0)})}}U.d(Ie,{Z:()=>ne})}},rt=>{rt(rt.s=8786)}]);